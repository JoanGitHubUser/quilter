/* MainWindow.c generated by valac 0.50.2, the Vala compiler
 * generated from MainWindow.vala, do not modify */

/*
* Copyright (c) 2017-2021 Lains
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public
* License as published by the Free Software Foundation; either
* version 2 of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
* General Public License for more details.
*
* You should have received a copy of the GNU General Public
* License along with this program; if not, write to the
* Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
* Boston, MA 02110-1301 USA
*/

#include <handy.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gtksourceview/gtksource.h>
#include <webkit2/webkit2.h>
#include <gio/gio.h>
#include <gtkspell/gtkspell.h>
#include <gdk/gdk.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <glib/gi18n-lib.h>
#include <float.h>
#include <math.h>
#include "config.h"
#include <gdk-pixbuf/gdk-pixbuf.h>

#define QUILTER_TYPE_MAIN_WINDOW (quilter_main_window_get_type ())
#define QUILTER_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_TYPE_MAIN_WINDOW, QuilterMainWindow))
#define QUILTER_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_TYPE_MAIN_WINDOW, QuilterMainWindowClass))
#define QUILTER_IS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_TYPE_MAIN_WINDOW))
#define QUILTER_IS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_TYPE_MAIN_WINDOW))
#define QUILTER_MAIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_TYPE_MAIN_WINDOW, QuilterMainWindowClass))

typedef struct _QuilterMainWindow QuilterMainWindow;
typedef struct _QuilterMainWindowClass QuilterMainWindowClass;
typedef struct _QuilterMainWindowPrivate QuilterMainWindowPrivate;

#define QUILTER_WIDGETS_TYPE_EDIT_VIEW (quilter_widgets_edit_view_get_type ())
#define QUILTER_WIDGETS_EDIT_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_EDIT_VIEW, QuilterWidgetsEditView))
#define QUILTER_WIDGETS_EDIT_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_EDIT_VIEW, QuilterWidgetsEditViewClass))
#define QUILTER_WIDGETS_IS_EDIT_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_EDIT_VIEW))
#define QUILTER_WIDGETS_IS_EDIT_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_EDIT_VIEW))
#define QUILTER_WIDGETS_EDIT_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_EDIT_VIEW, QuilterWidgetsEditViewClass))

typedef struct _QuilterWidgetsEditView QuilterWidgetsEditView;
typedef struct _QuilterWidgetsEditViewClass QuilterWidgetsEditViewClass;

#define QUILTER_WIDGETS_TYPE_HEADERBAR (quilter_widgets_headerbar_get_type ())
#define QUILTER_WIDGETS_HEADERBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_HEADERBAR, QuilterWidgetsHeaderbar))
#define QUILTER_WIDGETS_HEADERBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_HEADERBAR, QuilterWidgetsHeaderbarClass))
#define QUILTER_WIDGETS_IS_HEADERBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_HEADERBAR))
#define QUILTER_WIDGETS_IS_HEADERBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_HEADERBAR))
#define QUILTER_WIDGETS_HEADERBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_HEADERBAR, QuilterWidgetsHeaderbarClass))

typedef struct _QuilterWidgetsHeaderbar QuilterWidgetsHeaderbar;
typedef struct _QuilterWidgetsHeaderbarClass QuilterWidgetsHeaderbarClass;

#define QUILTER_WIDGETS_TYPE_PREVIEW (quilter_widgets_preview_get_type ())
#define QUILTER_WIDGETS_PREVIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_PREVIEW, QuilterWidgetsPreview))
#define QUILTER_WIDGETS_PREVIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_PREVIEW, QuilterWidgetsPreviewClass))
#define QUILTER_WIDGETS_IS_PREVIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_PREVIEW))
#define QUILTER_WIDGETS_IS_PREVIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_PREVIEW))
#define QUILTER_WIDGETS_PREVIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_PREVIEW, QuilterWidgetsPreviewClass))

typedef struct _QuilterWidgetsPreview QuilterWidgetsPreview;
typedef struct _QuilterWidgetsPreviewClass QuilterWidgetsPreviewClass;

#define QUILTER_WIDGETS_TYPE_SEARCH_BAR (quilter_widgets_search_bar_get_type ())
#define QUILTER_WIDGETS_SEARCH_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_SEARCH_BAR, QuilterWidgetsSearchBar))
#define QUILTER_WIDGETS_SEARCH_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_SEARCH_BAR, QuilterWidgetsSearchBarClass))
#define QUILTER_WIDGETS_IS_SEARCH_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_SEARCH_BAR))
#define QUILTER_WIDGETS_IS_SEARCH_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_SEARCH_BAR))
#define QUILTER_WIDGETS_SEARCH_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_SEARCH_BAR, QuilterWidgetsSearchBarClass))

typedef struct _QuilterWidgetsSearchBar QuilterWidgetsSearchBar;
typedef struct _QuilterWidgetsSearchBarClass QuilterWidgetsSearchBarClass;

#define QUILTER_WIDGETS_TYPE_SIDE_BAR (quilter_widgets_side_bar_get_type ())
#define QUILTER_WIDGETS_SIDE_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_SIDE_BAR, QuilterWidgetsSideBar))
#define QUILTER_WIDGETS_SIDE_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_SIDE_BAR, QuilterWidgetsSideBarClass))
#define QUILTER_WIDGETS_IS_SIDE_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_SIDE_BAR))
#define QUILTER_WIDGETS_IS_SIDE_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_SIDE_BAR))
#define QUILTER_WIDGETS_SIDE_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_SIDE_BAR, QuilterWidgetsSideBarClass))

typedef struct _QuilterWidgetsSideBar QuilterWidgetsSideBar;
typedef struct _QuilterWidgetsSideBarClass QuilterWidgetsSideBarClass;

#define QUILTER_WIDGETS_TYPE_STATUS_BAR (quilter_widgets_status_bar_get_type ())
#define QUILTER_WIDGETS_STATUS_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_STATUS_BAR, QuilterWidgetsStatusBar))
#define QUILTER_WIDGETS_STATUS_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_STATUS_BAR, QuilterWidgetsStatusBarClass))
#define QUILTER_WIDGETS_IS_STATUS_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_STATUS_BAR))
#define QUILTER_WIDGETS_IS_STATUS_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_STATUS_BAR))
#define QUILTER_WIDGETS_STATUS_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_STATUS_BAR, QuilterWidgetsStatusBarClass))

typedef struct _QuilterWidgetsStatusBar QuilterWidgetsStatusBar;
typedef struct _QuilterWidgetsStatusBarClass QuilterWidgetsStatusBarClass;

#define QUILTER_TYPE_APPLICATION (quilter_application_get_type ())
#define QUILTER_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_TYPE_APPLICATION, QuilterApplication))
#define QUILTER_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_TYPE_APPLICATION, QuilterApplicationClass))
#define QUILTER_IS_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_TYPE_APPLICATION))
#define QUILTER_IS_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_TYPE_APPLICATION))
#define QUILTER_APPLICATION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_TYPE_APPLICATION, QuilterApplicationClass))

typedef struct _QuilterApplication QuilterApplication;
typedef struct _QuilterApplicationClass QuilterApplicationClass;
enum  {
	QUILTER_MAIN_WINDOW_0_PROPERTY,
	QUILTER_MAIN_WINDOW_ACTIONS_PROPERTY,
	QUILTER_MAIN_WINDOW_APP_PROPERTY,
	QUILTER_MAIN_WINDOW_SPELLCHECK_PROPERTY,
	QUILTER_MAIN_WINDOW_IS_FULLSCREEN_PROPERTY,
	QUILTER_MAIN_WINDOW_NUM_PROPERTIES
};
static GParamSpec* quilter_main_window_properties[QUILTER_MAIN_WINDOW_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _QuilterWidgetsHeaderbarPrivate QuilterWidgetsHeaderbarPrivate;

#define QUILTER_WIDGETS_TYPE_HEADER_BAR_BUTTON (quilter_widgets_header_bar_button_get_type ())
#define QUILTER_WIDGETS_HEADER_BAR_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_HEADER_BAR_BUTTON, QuilterWidgetsHeaderBarButton))
#define QUILTER_WIDGETS_HEADER_BAR_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_HEADER_BAR_BUTTON, QuilterWidgetsHeaderBarButtonClass))
#define QUILTER_WIDGETS_IS_HEADER_BAR_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_HEADER_BAR_BUTTON))
#define QUILTER_WIDGETS_IS_HEADER_BAR_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_HEADER_BAR_BUTTON))
#define QUILTER_WIDGETS_HEADER_BAR_BUTTON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_HEADER_BAR_BUTTON, QuilterWidgetsHeaderBarButtonClass))

typedef struct _QuilterWidgetsHeaderBarButton QuilterWidgetsHeaderBarButton;
typedef struct _QuilterWidgetsHeaderBarButtonClass QuilterWidgetsHeaderBarButtonClass;
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
typedef struct _QuilterWidgetsSideBarPrivate QuilterWidgetsSideBarPrivate;

#define QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX (quilter_widgets_side_bar_box_get_type ())
#define QUILTER_WIDGETS_SIDE_BAR_BOX(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBox))
#define QUILTER_WIDGETS_SIDE_BAR_BOX_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBoxClass))
#define QUILTER_WIDGETS_IS_SIDE_BAR_BOX(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX))
#define QUILTER_WIDGETS_IS_SIDE_BAR_BOX_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX))
#define QUILTER_WIDGETS_SIDE_BAR_BOX_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBoxClass))

typedef struct _QuilterWidgetsSideBarBox QuilterWidgetsSideBarBox;
typedef struct _QuilterWidgetsSideBarBoxClass QuilterWidgetsSideBarBoxClass;
typedef struct _QuilterWidgetsEditViewPrivate QuilterWidgetsEditViewPrivate;

#define QUILTER_SERVICES_TYPE_POS_FILES (quilter_services_pos_files_get_type ())
#define QUILTER_SERVICES_POS_FILES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_SERVICES_TYPE_POS_FILES, QuilterServicesPOSFiles))
#define QUILTER_SERVICES_POS_FILES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_SERVICES_TYPE_POS_FILES, QuilterServicesPOSFilesClass))
#define QUILTER_SERVICES_IS_POS_FILES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_SERVICES_TYPE_POS_FILES))
#define QUILTER_SERVICES_IS_POS_FILES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_SERVICES_TYPE_POS_FILES))
#define QUILTER_SERVICES_POS_FILES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_SERVICES_TYPE_POS_FILES, QuilterServicesPOSFilesClass))

typedef struct _QuilterServicesPOSFiles QuilterServicesPOSFiles;
typedef struct _QuilterServicesPOSFilesClass QuilterServicesPOSFilesClass;

#define QUILTER_WIDGETS_TYPE_PREFERENCES (quilter_widgets_preferences_get_type ())
#define QUILTER_WIDGETS_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_WIDGETS_TYPE_PREFERENCES, QuilterWidgetsPreferences))
#define QUILTER_WIDGETS_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_WIDGETS_TYPE_PREFERENCES, QuilterWidgetsPreferencesClass))
#define QUILTER_WIDGETS_IS_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_WIDGETS_TYPE_PREFERENCES))
#define QUILTER_WIDGETS_IS_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_WIDGETS_TYPE_PREFERENCES))
#define QUILTER_WIDGETS_PREFERENCES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_WIDGETS_TYPE_PREFERENCES, QuilterWidgetsPreferencesClass))

typedef struct _QuilterWidgetsPreferences QuilterWidgetsPreferences;
typedef struct _QuilterWidgetsPreferencesClass QuilterWidgetsPreferencesClass;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _QuilterMainWindowOnSettingsChangedData QuilterMainWindowOnSettingsChangedData;
typedef struct _QuilterMainWindowChangeLayoutData QuilterMainWindowChangeLayoutData;

#define QUILTER_SERVICES_DIALOG_UTILS_TYPE_DIALOG (quilter_services_dialog_utils_dialog_get_type ())
#define QUILTER_SERVICES_DIALOG_UTILS_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), QUILTER_SERVICES_DIALOG_UTILS_TYPE_DIALOG, QuilterServicesDialogUtilsDialog))
#define QUILTER_SERVICES_DIALOG_UTILS_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), QUILTER_SERVICES_DIALOG_UTILS_TYPE_DIALOG, QuilterServicesDialogUtilsDialogClass))
#define QUILTER_SERVICES_DIALOG_UTILS_IS_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), QUILTER_SERVICES_DIALOG_UTILS_TYPE_DIALOG))
#define QUILTER_SERVICES_DIALOG_UTILS_IS_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), QUILTER_SERVICES_DIALOG_UTILS_TYPE_DIALOG))
#define QUILTER_SERVICES_DIALOG_UTILS_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), QUILTER_SERVICES_DIALOG_UTILS_TYPE_DIALOG, QuilterServicesDialogUtilsDialogClass))

typedef struct _QuilterServicesDialogUtilsDialog QuilterServicesDialogUtilsDialog;
typedef struct _QuilterServicesDialogUtilsDialogClass QuilterServicesDialogUtilsDialogClass;
typedef struct _Block1Data Block1Data;
typedef struct _QuilterWidgetsSideBarBoxPrivate QuilterWidgetsSideBarBoxPrivate;
typedef struct _QuilterWidgetsStatusBarPrivate QuilterWidgetsStatusBarPrivate;
typedef void (*QuilterMainWindowHookFunc) (gpointer user_data);

struct _QuilterMainWindow {
	HdyApplicationWindow parent_instance;
	QuilterMainWindowPrivate * priv;
	GtkAdjustment* eadj;
	GtkBox* box;
	GtkBox* main_leaf;
	GtkOverlay* overlay_editor;
	GtkButton* focus_overlay_button;
	HdyLeaflet* grid;
	HdyLeaflet* header;
	HdyTitleBar* window_header;
	HdyHeaderBar* welcome_titlebar;
	GtkGrid* main_pane;
	GtkGrid* welcome_view;
	GtkMenuButton* set_font_menu;
	GtkPaned* paned;
	GtkRevealer* titlebar_revealer;
	GtkRevealer* overlay_button_revealer;
	GtkScrolledWindow* edit_view;
	GtkStack* main_stack;
	GtkStack* stack;
	GtkStack* titlebar_stack;
	GtkStack* win_stack;
	GtkSeparator* separator;
	GtkSeparator* separator2;
	QuilterWidgetsEditView* edit_view_content;
	QuilterWidgetsHeaderbar* titlebar;
	QuilterWidgetsPreview* preview_view_content;
	QuilterWidgetsSearchBar* searchbar;
	QuilterWidgetsSideBar* sidebar;
	QuilterWidgetsStatusBar* statusbar;
};

struct _QuilterMainWindowClass {
	HdyApplicationWindowClass parent_class;
};

struct _QuilterMainWindowPrivate {
	GSimpleActionGroup* _actions;
	QuilterApplication* _app;
	GtkSpellChecker* spell;
};

struct _QuilterWidgetsHeaderbar {
	HdyHeaderBar parent_instance;
	QuilterWidgetsHeaderbarPrivate * priv;
	GtkButton* back_button;
	GtkButton* new_button;
	GtkButton* open_button;
	GtkButton* save_button;
	GtkButton* save_as_button;
	GtkLabel* title_label;
	GtkLabel* subtitle_label;
	GtkGrid* fmenu_grid;
	GtkMenuButton* pmenu_button;
	GtkMenuButton* fmenu_button;
	QuilterWidgetsHeaderBarButton* samenu_button;
	QuilterWidgetsEditView* sourceview;
	GtkToggleButton* search_button;
	GtkToggleButton* view_mode;
	GtkModelButton* focusmode_button;
	GtkListBox* recent_files_box;
	QuilterMainWindow* win;
	QuilterWidgetsPreview* preview;
	QuilterWidgetsEditView* editor;
};

struct _QuilterWidgetsHeaderbarClass {
	HdyHeaderBarClass parent_class;
};

struct _QuilterWidgetsSideBar {
	GtkRevealer parent_instance;
	QuilterWidgetsSideBarPrivate * priv;
	GtkListBox* column;
	QuilterWidgetsSideBarBox* row;
	QuilterWidgetsSideBarBox* filebox;
	QuilterWidgetsEditView* ev;
	QuilterWidgetsSearchBar* seb;
	QuilterMainWindow* win;
	GtkGrid* files_grid;
	GtkGrid* outline_grid;
	GtkStack* stack;
	GtkTreeStore* store;
	GtkTreeView* view;
	GtkTreeSelection* selection;
	GtkCellRendererText* crt;
	HdyViewSwitcher* stackswitcher;
	GtkScrolledWindow* scrolled_box;
	HdyHeaderBar* header;
	GeeLinkedList* s_files;
};

struct _QuilterWidgetsSideBarClass {
	GtkRevealerClass parent_class;
};

struct _QuilterWidgetsEditView {
	GtkSourceView parent_instance;
	QuilterWidgetsEditViewPrivate * priv;
	GFile* file;
	GtkSourceSearchContext* search_context;
	GtkSourceStyle* srcstyle;
	GtkTextTag* adjfont;
	GtkTextTag* adverbfont;
	GtkTextTag* conjfont;
	GtkTextTag* verbfont;
	GtkTextTag* error_tag;
	QuilterMainWindow* window;
	QuilterServicesPOSFiles* pos;
	gdouble cursor_position;
	GtkSourceBuffer* buffer;
	gchar* scroll_text;
};

struct _QuilterWidgetsEditViewClass {
	GtkSourceViewClass parent_class;
};

struct _QuilterMainWindowOnSettingsChangedData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	QuilterMainWindow* self;
	QuilterWidgetsEditView* _tmp0_;
	GSettings* _tmp1_;
	GtkRevealer* _tmp2_;
	QuilterWidgetsSideBar* _tmp3_;
	QuilterWidgetsStatusBar* _tmp4_;
	GtkRevealer* _tmp5_;
	GtkButton* _tmp6_;
	GtkRevealer* _tmp7_;
	GtkRevealer* _tmp8_;
	GSettings* _tmp9_;
	GtkStack* _tmp10_;
	QuilterWidgetsPreview* _tmp11_;
	GSettings* _tmp12_;
	GtkStack* _tmp13_;
	GtkOverlay* _tmp14_;
	GtkStyleContext* edit_view_context;
	GtkScrolledWindow* _tmp15_;
	GtkStyleContext* _tmp16_;
	GtkStyleContext* _tmp17_;
	GSettings* _tmp18_;
	gchar* _tmp19_;
	gchar* _tmp20_;
	gboolean _tmp21_;
	GtkStyleContext* _tmp22_;
	GtkStyleContext* _tmp23_;
};

struct _QuilterMainWindowChangeLayoutData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	QuilterMainWindow* self;
	GSettings* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp3_;
	GtkOverlay* _tmp4_;
	QuilterWidgetsPreview* _tmp5_;
	GtkStack* _tmp6_;
	GtkOverlay* _tmp7_;
	GtkStack* _tmp8_;
	GtkOverlay* _tmp9_;
	GValue _tmp10_;
	GtkStack* _tmp11_;
	QuilterWidgetsPreview* _tmp12_;
	GtkStack* _tmp13_;
	QuilterWidgetsPreview* _tmp14_;
	GValue _tmp15_;
	GtkStack* _tmp16_;
	GtkStack* _tmp17_;
	GtkOverlay* _tmp18_;
	QuilterWidgetsPreview* _tmp19_;
	GtkBox* _tmp20_;
	GtkOverlay* _tmp21_;
	GtkBox* _tmp22_;
	QuilterWidgetsPreview* _tmp23_;
	GtkStack* _tmp24_;
	GtkBox* _tmp25_;
};

struct _Block1Data {
	int _ref_count_;
	QuilterMainWindow* self;
	QuilterServicesDialogUtilsDialog* dialog;
};

struct _QuilterWidgetsSideBarBox {
	GtkListBoxRow parent_instance;
	QuilterWidgetsSideBarBoxPrivate * priv;
	QuilterWidgetsEditView* ev;
	GtkButton* file_remove_button;
	GtkGrid* file_grid;
	QuilterMainWindow* win;
	gint uid;
};

struct _QuilterWidgetsSideBarBoxClass {
	GtkListBoxRowClass parent_class;
};

struct _QuilterWidgetsStatusBar {
	GtkRevealer parent_instance;
	QuilterWidgetsStatusBarPrivate * priv;
	GtkActionBar* actionbar;
	GtkLabel* linecount_label;
	GtkLabel* wordcount_label;
	GtkMenuButton* preview_type_menu;
	GtkMenuButton* track_type_menu;
	GtkSourceBuffer* buf;
	GtkRadioButton* track_words;
	GtkRadioButton* track_lines;
	GtkRadioButton* track_rtc;
	QuilterMainWindow* window;
};

struct _QuilterWidgetsStatusBarClass {
	GtkRevealerClass parent_class;
};

static gint QuilterMainWindow_private_offset;
static gpointer quilter_main_window_parent_class = NULL;
extern GeeMultiMap* quilter_main_window_action_accelerators;
GeeMultiMap* quilter_main_window_action_accelerators = NULL;
extern GSettings* quilter_application_gsettings;

GType quilter_main_window_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterMainWindow, g_object_unref)
GType quilter_widgets_edit_view_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsEditView, g_object_unref)
GType quilter_widgets_headerbar_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsHeaderbar, g_object_unref)
GType quilter_widgets_preview_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsPreview, g_object_unref)
GType quilter_widgets_search_bar_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsSearchBar, g_object_unref)
GType quilter_widgets_side_bar_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsSideBar, g_object_unref)
GType quilter_widgets_status_bar_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsStatusBar, g_object_unref)
GType quilter_application_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterApplication, g_object_unref)
#define QUILTER_MAIN_WINDOW_ACTION_CHEATSHEET "action_cheatsheet"
#define QUILTER_MAIN_WINDOW_ACTION_EXPORT_HTML "action_export_html"
#define QUILTER_MAIN_WINDOW_ACTION_EXPORT_PDF "action_export_pdf"
#define QUILTER_MAIN_WINDOW_ACTION_FOCUS "action_focus"
#define QUILTER_MAIN_WINDOW_ACTION_TOGGLE_VIEW "action_toggle_view"
#define QUILTER_MAIN_WINDOW_ACTION_PREFIX "win."
#define QUILTER_MAIN_WINDOW_ACTION_PREFS "action_preferences"
#define QUILTER_MAIN_WINDOW_ACTION_ABOUT "action_about"
static void quilter_main_window_action_cheatsheet (QuilterMainWindow* self);
static void _quilter_main_window_action_cheatsheet_gsimple_action_activate_callback (GSimpleAction* action,
                                                                              GVariant* parameter,
                                                                              gpointer self);
static void quilter_main_window_action_preferences (QuilterMainWindow* self);
static void _quilter_main_window_action_preferences_gsimple_action_activate_callback (GSimpleAction* action,
                                                                               GVariant* parameter,
                                                                               gpointer self);
static void quilter_main_window_action_focus (QuilterMainWindow* self);
static void _quilter_main_window_action_focus_gsimple_action_activate_callback (GSimpleAction* action,
                                                                         GVariant* parameter,
                                                                         gpointer self);
static void quilter_main_window_action_toggle_view (QuilterMainWindow* self);
static void _quilter_main_window_action_toggle_view_gsimple_action_activate_callback (GSimpleAction* action,
                                                                               GVariant* parameter,
                                                                               gpointer self);
static void quilter_main_window_action_export_pdf (QuilterMainWindow* self);
static void _quilter_main_window_action_export_pdf_gsimple_action_activate_callback (GSimpleAction* action,
                                                                              GVariant* parameter,
                                                                              gpointer self);
static void quilter_main_window_action_export_html (QuilterMainWindow* self);
static void _quilter_main_window_action_export_html_gsimple_action_activate_callback (GSimpleAction* action,
                                                                               GVariant* parameter,
                                                                               gpointer self);
void quilter_main_window_action_about (QuilterMainWindow* self);
static void _quilter_main_window_action_about_gsimple_action_activate_callback (GSimpleAction* action,
                                                                         GVariant* parameter,
                                                                         gpointer self);
QuilterMainWindow* quilter_main_window_new (QuilterApplication* application);
QuilterMainWindow* quilter_main_window_construct (GType object_type,
                                                  QuilterApplication* application);
gchar* quilter_services_file_manager_get_cache_path (void);
GType quilter_widgets_header_bar_button_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsHeaderBarButton, g_object_unref)
void quilter_widgets_header_bar_button_set_title (QuilterWidgetsHeaderBarButton* self,
                                                  const gchar* value);
void quilter_widgets_header_bar_button_set_subtitle (QuilterWidgetsHeaderBarButton* self,
                                                     const gchar* value);
static void quilter_main_window_on_settings_changed (QuilterMainWindow* self,
                                              GAsyncReadyCallback _callback_,
                                              gpointer _user_data_);
static void quilter_main_window_on_settings_changed_finish (QuilterMainWindow* self,
                                                     GAsyncResult* _res_);
static void __lambda21_ (QuilterMainWindow* self);
static void ___lambda21__g_settings_changed (GSettings* _sender,
                                      const gchar* key,
                                      gpointer self);
GType quilter_widgets_side_bar_box_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsSideBarBox, g_object_unref)
void quilter_main_window_set_spellcheck (QuilterMainWindow* self,
                                         gboolean value);
static void __lambda22_ (QuilterMainWindow* self);
static void ___lambda22__gtk_spell_checker_language_changed (GtkSpellChecker* _sender,
                                                      const gchar* new_lang,
                                                      gpointer self);
static void __lambda23_ (QuilterMainWindow* self);
void quilter_main_window_scroll_to (QuilterMainWindow* self);
static void ___lambda23__g_object_notify (GObject* _sender,
                                   GParamSpec* pspec,
                                   gpointer self);
gpointer quilter_services_pos_files_ref (gpointer instance);
void quilter_services_pos_files_unref (gpointer instance);
GParamSpec* quilter_services_param_spec_pos_files (const gchar* name,
                                                   const gchar* nick,
                                                   const gchar* blurb,
                                                   GType object_type,
                                                   GParamFlags flags);
void quilter_services_value_set_pos_files (GValue* value,
                                           gpointer v_object);
void quilter_services_value_take_pos_files (GValue* value,
                                            gpointer v_object);
gpointer quilter_services_value_get_pos_files (const GValue* value);
GType quilter_services_pos_files_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterServicesPOSFiles, quilter_services_pos_files_unref)
static void __lambda24_ (QuilterMainWindow* self);
void quilter_main_window_render_func (QuilterMainWindow* self);
static void quilter_main_window_update_count (QuilterMainWindow* self);
void quilter_widgets_side_bar_outline_populate (QuilterWidgetsSideBar* self);
static void ___lambda24__gtk_text_buffer_changed (GtkTextBuffer* _sender,
                                           gpointer self);
static gboolean __lambda25_ (QuilterMainWindow* self,
                      GdkEventKey* e);
gboolean quilter_main_window_match_keycode (QuilterMainWindow* self,
                                            guint keyval,
                                            guint code);
static void quilter_main_window_on_create_new (QuilterMainWindow* self);
void quilter_main_window_on_save (QuilterMainWindow* self);
static void quilter_main_window_on_save_as (QuilterMainWindow* self);
static void quilter_main_window_on_open (QuilterMainWindow* self);
void quilter_main_window_show_searchbar (QuilterMainWindow* self);
gboolean quilter_main_window_get_is_fullscreen (QuilterMainWindow* self);
void quilter_main_window_set_is_fullscreen (QuilterMainWindow* self,
                                            gboolean value);
static gboolean ___lambda25__gtk_widget_key_press_event (GtkWidget* _sender,
                                                  GdkEventKey* event,
                                                  gpointer self);
static void quilter_main_window_update (QuilterMainWindow* self);
static gboolean quilter_main_window_real_delete_event (GtkWidget* base,
                                                GdkEventAny* event);
void quilter_main_window_save_last_files (QuilterMainWindow* self);
static void quilter_main_window_set_prev_workfile (QuilterMainWindow* self);
gboolean quilter_widgets_edit_view_get_modified (QuilterWidgetsEditView* self);
void quilter_widgets_preview_set_scroll_value (QuilterWidgetsPreview* self,
                                               gdouble value);
static void quilter_main_window_widget_unparent (GtkWidget* widget);
void quilter_widgets_status_bar_update_wordcount (QuilterWidgetsStatusBar* self);
void quilter_widgets_status_bar_update_linecount (QuilterWidgetsStatusBar* self);
void quilter_widgets_status_bar_update_readtimecount (QuilterWidgetsStatusBar* self);
GType quilter_widgets_preferences_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterWidgetsPreferences, g_object_unref)
QuilterWidgetsPreferences* quilter_widgets_preferences_new (QuilterMainWindow* win);
QuilterWidgetsPreferences* quilter_widgets_preferences_construct (GType object_type,
                                                                  QuilterMainWindow* win);
GFile* quilter_services_export_utils_export_pdf (const gchar* file_path);
GFile* quilter_services_export_utils_export_html (const gchar* file_path);
void quilter_widgets_preview_update_html_view (QuilterWidgetsPreview* self);
void quilter_main_window_show_sidebar (QuilterMainWindow* self);
void quilter_main_window_show_statusbar (QuilterMainWindow* self);
gchar* quilter_widgets_side_bar_box_get_path (QuilterWidgetsSideBarBox* self);
static void quilter_main_window_on_settings_changed_data_free (gpointer _data);
static gboolean quilter_main_window_on_settings_changed_co (QuilterMainWindowOnSettingsChangedData* _data_);
void quilter_widgets_edit_view_dynamic_margins (QuilterWidgetsEditView* self);
static void quilter_main_window_change_layout (QuilterMainWindow* self,
                                        GAsyncReadyCallback _callback_,
                                        gpointer _user_data_);
static void quilter_main_window_change_layout_finish (QuilterMainWindow* self,
                                               GAsyncResult* _res_);
static gboolean ___lambda20_ (QuilterMainWindow* self,
                       GdkEventButton* e);
static gboolean ____lambda20__gtk_widget_button_press_event (GtkWidget* _sender,
                                                      GdkEventButton* event,
                                                      gpointer self);
static void quilter_main_window_change_layout_data_free (gpointer _data);
static gboolean quilter_main_window_change_layout_co (QuilterMainWindowChangeLayoutData* _data_);
static void _vala_array_add2 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
GType quilter_services_dialog_utils_dialog_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (QuilterServicesDialogUtilsDialog, g_object_unref)
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
QuilterServicesDialogUtilsDialog* quilter_services_dialog_utils_dialog_new (void);
QuilterServicesDialogUtilsDialog* quilter_services_dialog_utils_dialog_construct (GType object_type);
static void __lambda27_ (Block1Data* _data1_,
                  gint response_id);
QuilterWidgetsSideBarBox* quilter_widgets_side_bar_get_selected_row (QuilterWidgetsSideBar* self);
void quilter_widgets_edit_view_set_modified (QuilterWidgetsEditView* self,
                                             gboolean value);
void quilter_widgets_side_bar_set_is_modified (QuilterWidgetsSideBar* self,
                                               gboolean value);
static void ___lambda27__gtk_dialog_response (GtkDialog* _sender,
                                       gint response_id,
                                       gpointer self);
void quilter_widgets_edit_view_set_text (QuilterWidgetsEditView* self,
                                         const gchar* value);
QuilterWidgetsSideBarBox* quilter_widgets_side_bar_add_file (QuilterWidgetsSideBar* self,
                                                             const gchar* file);
void quilter_widgets_side_bar_box_set_path (QuilterWidgetsSideBarBox* self,
                                            const gchar* value);
void quilter_widgets_side_bar_box_set_title (QuilterWidgetsSideBarBox* self,
                                             const gchar* value);
gchar* quilter_services_file_manager_open (gchar* * contents);
void quilter_services_file_manager_save_file (const gchar* path,
                                              const gchar* contents,
                                              GError** error);
gchar* quilter_widgets_edit_view_get_text (QuilterWidgetsEditView* self);
void quilter_services_file_manager_save_as (const gchar* contents,
                                            gchar* * path,
                                            GError** error);
GSimpleActionGroup* quilter_main_window_get_actions (QuilterMainWindow* self);
static void quilter_main_window_set_actions (QuilterMainWindow* self,
                                      GSimpleActionGroup* value);
QuilterApplication* quilter_main_window_get_app (QuilterMainWindow* self);
static void quilter_main_window_set_app (QuilterMainWindow* self,
                                  QuilterApplication* value);
static void _g_free0_ (gpointer var);
static inline void _g_list_free__g_free0_ (GList* self);
static GObject * quilter_main_window_constructor (GType type,
                                           guint n_construct_properties,
                                           GObjectConstructParam * construct_properties);
static void _vala_array_add3 (gchar** * array,
                       gint* length,
                       gint* size,
                       gchar* value);
QuilterWidgetsHeaderbar* quilter_widgets_headerbar_new (QuilterMainWindow* win);
QuilterWidgetsHeaderbar* quilter_widgets_headerbar_construct (GType object_type,
                                                              QuilterMainWindow* win);
static void _quilter_main_window_on_open_quilter_widgets_headerbar_open (QuilterWidgetsHeaderbar* _sender,
                                                                  gpointer self);
static void _quilter_main_window_on_save_quilter_widgets_headerbar_save (QuilterWidgetsHeaderbar* _sender,
                                                                  gpointer self);
static void _quilter_main_window_on_save_as_quilter_widgets_headerbar_save_as (QuilterWidgetsHeaderbar* _sender,
                                                                        gpointer self);
static void _quilter_main_window_on_create_new_quilter_widgets_headerbar_create_new (QuilterWidgetsHeaderbar* _sender,
                                                                              gpointer self);
QuilterWidgetsEditView* quilter_widgets_edit_view_new (QuilterMainWindow* window);
QuilterWidgetsEditView* quilter_widgets_edit_view_construct (GType object_type,
                                                             QuilterMainWindow* window);
static void _quilter_main_window_on_save_quilter_widgets_edit_view_save (QuilterWidgetsEditView* _sender,
                                                                  gpointer self);
QuilterWidgetsPreview* quilter_widgets_preview_new (QuilterMainWindow* window,
                                                    QuilterWidgetsEditView* buf);
QuilterWidgetsPreview* quilter_widgets_preview_construct (GType object_type,
                                                          QuilterMainWindow* window,
                                                          QuilterWidgetsEditView* buf);
QuilterWidgetsStatusBar* quilter_widgets_status_bar_new (GtkSourceBuffer* buf);
QuilterWidgetsStatusBar* quilter_widgets_status_bar_construct (GType object_type,
                                                               GtkSourceBuffer* buf);
static void _quilter_main_window___lambda28_ (QuilterMainWindow* self);
static void __quilter_main_window___lambda28__gtk_button_clicked (GtkButton* _sender,
                                                           gpointer self);
static void _quilter_main_window___lambda29_ (QuilterMainWindow* self);
static void __quilter_main_window___lambda29__gtk_button_clicked (GtkButton* _sender,
                                                           gpointer self);
QuilterWidgetsSideBar* quilter_widgets_side_bar_new (QuilterMainWindow* win,
                                                     QuilterWidgetsEditView* ev);
QuilterWidgetsSideBar* quilter_widgets_side_bar_construct (GType object_type,
                                                           QuilterMainWindow* win,
                                                           QuilterWidgetsEditView* ev);
static void _quilter_main_window___lambda30_ (QuilterMainWindow* self);
static void __quilter_main_window___lambda30__quilter_widgets_side_bar_save_as (QuilterWidgetsSideBar* _sender,
                                                                         gpointer self);
QuilterWidgetsSearchBar* quilter_widgets_search_bar_new (QuilterMainWindow* window);
QuilterWidgetsSearchBar* quilter_widgets_search_bar_construct (GType object_type,
                                                               QuilterMainWindow* window);
static void _quilter_main_window___lambda31_ (QuilterMainWindow* self);
static void __quilter_main_window___lambda31__gtk_button_clicked (GtkButton* _sender,
                                                           gpointer self);
static void _quilter_main_window___lambda32_ (QuilterMainWindow* self);
static void __quilter_main_window___lambda32__g_object_notify (GObject* _sender,
                                                        GParamSpec* pspec,
                                                        gpointer self);
static void quilter_main_window_finalize (GObject * obj);
static GType quilter_main_window_get_type_once (void);
static void _vala_quilter_main_window_get_property (GObject * object,
                                             guint property_id,
                                             GValue * value,
                                             GParamSpec * pspec);
static void _vala_quilter_main_window_set_property (GObject * object,
                                             guint property_id,
                                             const GValue * value,
                                             GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);

static const GActionEntry QUILTER_MAIN_WINDOW_ACTION_ENTRIES[7] = {{QUILTER_MAIN_WINDOW_ACTION_CHEATSHEET, _quilter_main_window_action_cheatsheet_gsimple_action_activate_callback}, {QUILTER_MAIN_WINDOW_ACTION_PREFS, _quilter_main_window_action_preferences_gsimple_action_activate_callback}, {QUILTER_MAIN_WINDOW_ACTION_FOCUS, _quilter_main_window_action_focus_gsimple_action_activate_callback}, {QUILTER_MAIN_WINDOW_ACTION_TOGGLE_VIEW, _quilter_main_window_action_toggle_view_gsimple_action_activate_callback}, {QUILTER_MAIN_WINDOW_ACTION_EXPORT_PDF, _quilter_main_window_action_export_pdf_gsimple_action_activate_callback}, {QUILTER_MAIN_WINDOW_ACTION_EXPORT_HTML, _quilter_main_window_action_export_html_gsimple_action_activate_callback}, {QUILTER_MAIN_WINDOW_ACTION_ABOUT, _quilter_main_window_action_about_gsimple_action_activate_callback}};

static inline gpointer
quilter_main_window_get_instance_private (QuilterMainWindow* self)
{
	return G_STRUCT_MEMBER_P (self, QuilterMainWindow_private_offset);
}

static void
_quilter_main_window_action_cheatsheet_gsimple_action_activate_callback (GSimpleAction* action,
                                                                         GVariant* parameter,
                                                                         gpointer self)
{
#line 63 "../src/MainWindow.vala"
	quilter_main_window_action_cheatsheet ((QuilterMainWindow*) self);
#line 715 "MainWindow.c"
}

static void
_quilter_main_window_action_preferences_gsimple_action_activate_callback (GSimpleAction* action,
                                                                          GVariant* parameter,
                                                                          gpointer self)
{
#line 63 "../src/MainWindow.vala"
	quilter_main_window_action_preferences ((QuilterMainWindow*) self);
#line 725 "MainWindow.c"
}

static void
_quilter_main_window_action_focus_gsimple_action_activate_callback (GSimpleAction* action,
                                                                    GVariant* parameter,
                                                                    gpointer self)
{
#line 63 "../src/MainWindow.vala"
	quilter_main_window_action_focus ((QuilterMainWindow*) self);
#line 735 "MainWindow.c"
}

static void
_quilter_main_window_action_toggle_view_gsimple_action_activate_callback (GSimpleAction* action,
                                                                          GVariant* parameter,
                                                                          gpointer self)
{
#line 63 "../src/MainWindow.vala"
	quilter_main_window_action_toggle_view ((QuilterMainWindow*) self);
#line 745 "MainWindow.c"
}

static void
_quilter_main_window_action_export_pdf_gsimple_action_activate_callback (GSimpleAction* action,
                                                                         GVariant* parameter,
                                                                         gpointer self)
{
#line 63 "../src/MainWindow.vala"
	quilter_main_window_action_export_pdf ((QuilterMainWindow*) self);
#line 755 "MainWindow.c"
}

static void
_quilter_main_window_action_export_html_gsimple_action_activate_callback (GSimpleAction* action,
                                                                          GVariant* parameter,
                                                                          gpointer self)
{
#line 63 "../src/MainWindow.vala"
	quilter_main_window_action_export_html ((QuilterMainWindow*) self);
#line 765 "MainWindow.c"
}

static void
_quilter_main_window_action_about_gsimple_action_activate_callback (GSimpleAction* action,
                                                                    GVariant* parameter,
                                                                    gpointer self)
{
#line 63 "../src/MainWindow.vala"
	quilter_main_window_action_about ((QuilterMainWindow*) self);
#line 775 "MainWindow.c"
}

static gchar*
string_replace (const gchar* self,
                const gchar* old,
                const gchar* replacement)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError* _inner_error0_ = NULL;
	gchar* result = NULL;
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 1535 "glib-2.0.vapi"
	if ((*((gchar*) self)) == '\0') {
#line 1535 "glib-2.0.vapi"
		_tmp1_ = TRUE;
#line 797 "MainWindow.c"
	} else {
#line 1535 "glib-2.0.vapi"
		_tmp1_ = (*((gchar*) old)) == '\0';
#line 801 "MainWindow.c"
	}
#line 1535 "glib-2.0.vapi"
	if (_tmp1_) {
#line 1535 "glib-2.0.vapi"
		_tmp0_ = TRUE;
#line 807 "MainWindow.c"
	} else {
#line 1535 "glib-2.0.vapi"
		_tmp0_ = g_strcmp0 (old, replacement) == 0;
#line 811 "MainWindow.c"
	}
#line 1535 "glib-2.0.vapi"
	if (_tmp0_) {
#line 815 "MainWindow.c"
		gchar* _tmp2_;
#line 1536 "glib-2.0.vapi"
		_tmp2_ = g_strdup (self);
#line 1536 "glib-2.0.vapi"
		result = _tmp2_;
#line 1536 "glib-2.0.vapi"
		return result;
#line 823 "MainWindow.c"
	}
	{
		GRegex* regex = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GRegex* _tmp5_;
		GRegex* _tmp6_;
		gchar* _tmp7_ = NULL;
		GRegex* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
#line 1539 "glib-2.0.vapi"
		_tmp3_ = g_regex_escape_string (old, -1);
#line 1539 "glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1539 "glib-2.0.vapi"
		_tmp5_ = g_regex_new (_tmp4_, 0, 0, &_inner_error0_);
#line 1539 "glib-2.0.vapi"
		_tmp6_ = _tmp5_;
#line 1539 "glib-2.0.vapi"
		_g_free0 (_tmp4_);
#line 1539 "glib-2.0.vapi"
		regex = _tmp6_;
#line 1539 "glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1539 "glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 851 "MainWindow.c"
				goto __catch0_g_regex_error;
			}
#line 1539 "glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1539 "glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1539 "glib-2.0.vapi"
			return NULL;
#line 860 "MainWindow.c"
		}
#line 1540 "glib-2.0.vapi"
		_tmp8_ = regex;
#line 1540 "glib-2.0.vapi"
		_tmp9_ = g_regex_replace_literal (_tmp8_, self, (gssize) -1, 0, replacement, 0, &_inner_error0_);
#line 1540 "glib-2.0.vapi"
		_tmp7_ = _tmp9_;
#line 1540 "glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1540 "glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1540 "glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 874 "MainWindow.c"
				goto __catch0_g_regex_error;
			}
#line 1540 "glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1540 "glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1540 "glib-2.0.vapi"
			return NULL;
#line 883 "MainWindow.c"
		}
#line 1540 "glib-2.0.vapi"
		_tmp10_ = _tmp7_;
#line 1540 "glib-2.0.vapi"
		_tmp7_ = NULL;
#line 1540 "glib-2.0.vapi"
		result = _tmp10_;
#line 1540 "glib-2.0.vapi"
		_g_free0 (_tmp7_);
#line 1540 "glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1540 "glib-2.0.vapi"
		return result;
#line 897 "MainWindow.c"
	}
	goto __finally0;
	__catch0_g_regex_error:
	{
#line 1538 "glib-2.0.vapi"
		g_clear_error (&_inner_error0_);
#line 1542 "glib-2.0.vapi"
		g_assert_not_reached ();
#line 906 "MainWindow.c"
	}
	__finally0:
#line 1538 "glib-2.0.vapi"
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1538 "glib-2.0.vapi"
	g_clear_error (&_inner_error0_);
#line 1538 "glib-2.0.vapi"
	return NULL;
#line 915 "MainWindow.c"
}

static void
__lambda21_ (QuilterMainWindow* self)
{
#line 161 "../src/MainWindow.vala"
	quilter_main_window_on_settings_changed (self, NULL, NULL);
#line 923 "MainWindow.c"
}

static void
___lambda21__g_settings_changed (GSettings* _sender,
                                 const gchar* key,
                                 gpointer self)
{
#line 160 "../src/MainWindow.vala"
	__lambda21_ ((QuilterMainWindow*) self);
#line 933 "MainWindow.c"
}

static void
__lambda22_ (QuilterMainWindow* self)
{
	GSettings* _tmp0_;
	GtkSpellChecker* _tmp1_;
	const gchar* _tmp2_;
#line 180 "../src/MainWindow.vala"
	_tmp0_ = quilter_application_gsettings;
#line 180 "../src/MainWindow.vala"
	_tmp1_ = self->priv->spell;
#line 180 "../src/MainWindow.vala"
	_tmp2_ = gtk_spell_checker_get_language (_tmp1_);
#line 180 "../src/MainWindow.vala"
	g_settings_set_string (_tmp0_, "spellcheck-language", _tmp2_);
#line 950 "MainWindow.c"
}

static void
___lambda22__gtk_spell_checker_language_changed (GtkSpellChecker* _sender,
                                                 const gchar* new_lang,
                                                 gpointer self)
{
#line 179 "../src/MainWindow.vala"
	__lambda22_ ((QuilterMainWindow*) self);
#line 960 "MainWindow.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 183 "../src/MainWindow.vala"
	return self ? g_object_ref (self) : NULL;
#line 968 "MainWindow.c"
}

static void
__lambda23_ (QuilterMainWindow* self)
{
#line 185 "../src/MainWindow.vala"
	quilter_main_window_scroll_to (self);
#line 976 "MainWindow.c"
}

static void
___lambda23__g_object_notify (GObject* _sender,
                              GParamSpec* pspec,
                              gpointer self)
{
#line 184 "../src/MainWindow.vala"
	__lambda23_ ((QuilterMainWindow*) self);
#line 986 "MainWindow.c"
}

static void
__lambda24_ (QuilterMainWindow* self)
{
	QuilterWidgetsSideBar* _tmp0_;
	GtkTreeStore* _tmp1_;
	QuilterWidgetsSideBar* _tmp2_;
	QuilterWidgetsSideBar* _tmp3_;
	GtkTreeView* _tmp4_;
#line 189 "../src/MainWindow.vala"
	quilter_main_window_render_func (self);
#line 190 "../src/MainWindow.vala"
	quilter_main_window_update_count (self);
#line 191 "../src/MainWindow.vala"
	quilter_main_window_scroll_to (self);
#line 192 "../src/MainWindow.vala"
	_tmp0_ = self->sidebar;
#line 192 "../src/MainWindow.vala"
	_tmp1_ = _tmp0_->store;
#line 192 "../src/MainWindow.vala"
	gtk_tree_store_clear (_tmp1_);
#line 193 "../src/MainWindow.vala"
	_tmp2_ = self->sidebar;
#line 193 "../src/MainWindow.vala"
	quilter_widgets_side_bar_outline_populate (_tmp2_);
#line 194 "../src/MainWindow.vala"
	_tmp3_ = self->sidebar;
#line 194 "../src/MainWindow.vala"
	_tmp4_ = _tmp3_->view;
#line 194 "../src/MainWindow.vala"
	gtk_tree_view_expand_all (_tmp4_);
#line 1019 "MainWindow.c"
}

static void
___lambda24__gtk_text_buffer_changed (GtkTextBuffer* _sender,
                                      gpointer self)
{
#line 188 "../src/MainWindow.vala"
	__lambda24_ ((QuilterMainWindow*) self);
#line 1028 "MainWindow.c"
}

static gboolean
__lambda25_ (QuilterMainWindow* self,
             GdkEventKey* e)
{
	guint keycode = 0U;
	GdkModifierType _tmp0_;
	GdkModifierType _tmp1_;
	GdkModifierType _tmp2_;
	GdkModifierType _tmp3_;
	GdkModifierType _tmp5_;
	GdkModifierType _tmp6_;
	GdkModifierType _tmp7_;
	GdkModifierType _tmp8_;
	GdkModifierType _tmp11_;
	GdkModifierType _tmp12_;
	GdkModifierType _tmp13_;
	GdkModifierType _tmp18_;
	GdkModifierType _tmp19_;
	GdkModifierType _tmp23_;
	gboolean result = FALSE;
#line 197 "../src/MainWindow.vala"
	g_return_val_if_fail (e != NULL, FALSE);
#line 198 "../src/MainWindow.vala"
	keycode = (guint) e->hardware_keycode;
#line 199 "../src/MainWindow.vala"
	_tmp0_ = e->state;
#line 199 "../src/MainWindow.vala"
	if ((_tmp0_ & GDK_CONTROL_MASK) != 0) {
#line 200 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_q, keycode)) {
#line 201 "../src/MainWindow.vala"
			gtk_widget_destroy ((GtkWidget*) self);
#line 1063 "MainWindow.c"
		}
	}
#line 204 "../src/MainWindow.vala"
	_tmp1_ = e->state;
#line 204 "../src/MainWindow.vala"
	if ((_tmp1_ & GDK_CONTROL_MASK) != 0) {
#line 205 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_n, keycode)) {
#line 206 "../src/MainWindow.vala"
			quilter_main_window_on_create_new (self);
#line 1074 "MainWindow.c"
		}
	}
#line 209 "../src/MainWindow.vala"
	_tmp2_ = e->state;
#line 209 "../src/MainWindow.vala"
	if ((_tmp2_ & GDK_CONTROL_MASK) != 0) {
#line 210 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_s, keycode)) {
#line 211 "../src/MainWindow.vala"
			quilter_main_window_on_save (self);
#line 1085 "MainWindow.c"
		}
	}
#line 214 "../src/MainWindow.vala"
	_tmp3_ = e->state;
#line 214 "../src/MainWindow.vala"
	if ((_tmp3_ & GDK_CONTROL_MASK) != 0) {
#line 1092 "MainWindow.c"
		GdkModifierType _tmp4_;
#line 215 "../src/MainWindow.vala"
		_tmp4_ = e->state;
#line 215 "../src/MainWindow.vala"
		if ((_tmp4_ & GDK_SHIFT_MASK) != 0) {
#line 216 "../src/MainWindow.vala"
			if (quilter_main_window_match_keycode (self, GDK_KEY_s, keycode)) {
#line 217 "../src/MainWindow.vala"
				quilter_main_window_on_save_as (self);
#line 1102 "MainWindow.c"
			}
		}
	}
#line 221 "../src/MainWindow.vala"
	_tmp5_ = e->state;
#line 221 "../src/MainWindow.vala"
	if ((_tmp5_ & GDK_CONTROL_MASK) != 0) {
#line 222 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_o, keycode)) {
#line 223 "../src/MainWindow.vala"
			quilter_main_window_on_open (self);
#line 1114 "MainWindow.c"
		}
	}
#line 226 "../src/MainWindow.vala"
	_tmp6_ = e->state;
#line 226 "../src/MainWindow.vala"
	if ((_tmp6_ & GDK_CONTROL_MASK) != 0) {
#line 227 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_f, keycode)) {
#line 228 "../src/MainWindow.vala"
			quilter_main_window_show_searchbar (self);
#line 1125 "MainWindow.c"
		}
	}
#line 231 "../src/MainWindow.vala"
	_tmp7_ = e->state;
#line 231 "../src/MainWindow.vala"
	if ((_tmp7_ & GDK_CONTROL_MASK) != 0) {
#line 232 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_h, keycode)) {
#line 233 "../src/MainWindow.vala"
			quilter_main_window_action_cheatsheet (self);
#line 1136 "MainWindow.c"
		}
	}
#line 236 "../src/MainWindow.vala"
	_tmp8_ = e->state;
#line 236 "../src/MainWindow.vala"
	if ((_tmp8_ & GDK_CONTROL_MASK) != 0) {
#line 237 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_z, keycode)) {
#line 1145 "MainWindow.c"
			QuilterWidgetsEditView* _tmp9_;
			GtkSourceBuffer* _tmp10_;
#line 238 "../src/MainWindow.vala"
			_tmp9_ = self->edit_view_content;
#line 238 "../src/MainWindow.vala"
			_tmp10_ = _tmp9_->buffer;
#line 238 "../src/MainWindow.vala"
			gtk_source_buffer_undo (_tmp10_);
#line 1154 "MainWindow.c"
		}
	}
#line 241 "../src/MainWindow.vala"
	_tmp11_ = e->state;
#line 241 "../src/MainWindow.vala"
	if ((_tmp11_ & GDK_CONTROL_MASK) != 0) {
#line 242 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_g, keycode)) {
#line 243 "../src/MainWindow.vala"
			quilter_main_window_action_export_html (self);
#line 1165 "MainWindow.c"
		}
	}
#line 246 "../src/MainWindow.vala"
	_tmp12_ = e->state;
#line 246 "../src/MainWindow.vala"
	if ((_tmp12_ & GDK_CONTROL_MASK) != 0) {
#line 247 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_j, keycode)) {
#line 248 "../src/MainWindow.vala"
			quilter_main_window_action_export_pdf (self);
#line 1176 "MainWindow.c"
		}
	}
#line 251 "../src/MainWindow.vala"
	_tmp13_ = e->state;
#line 251 "../src/MainWindow.vala"
	if ((_tmp13_ & (GDK_CONTROL_MASK + GDK_SHIFT_MASK)) != 0) {
#line 252 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_z, keycode)) {
#line 1185 "MainWindow.c"
			QuilterWidgetsEditView* _tmp14_;
			GtkSourceBuffer* _tmp15_;
#line 253 "../src/MainWindow.vala"
			_tmp14_ = self->edit_view_content;
#line 253 "../src/MainWindow.vala"
			_tmp15_ = _tmp14_->buffer;
#line 253 "../src/MainWindow.vala"
			gtk_source_buffer_redo (_tmp15_);
#line 1194 "MainWindow.c"
		}
	}
#line 256 "../src/MainWindow.vala"
	if (quilter_main_window_match_keycode (self, GDK_KEY_F11, keycode)) {
#line 1199 "MainWindow.c"
		gboolean _tmp16_;
		gboolean _tmp17_;
#line 257 "../src/MainWindow.vala"
		_tmp16_ = quilter_main_window_get_is_fullscreen (self);
#line 257 "../src/MainWindow.vala"
		_tmp17_ = _tmp16_;
#line 257 "../src/MainWindow.vala"
		quilter_main_window_set_is_fullscreen (self, !_tmp17_);
#line 1208 "MainWindow.c"
	}
#line 259 "../src/MainWindow.vala"
	_tmp18_ = e->state;
#line 259 "../src/MainWindow.vala"
	if ((_tmp18_ & GDK_CONTROL_MASK) != 0) {
#line 260 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_1, keycode)) {
#line 261 "../src/MainWindow.vala"
			quilter_main_window_action_toggle_view (self);
#line 262 "../src/MainWindow.vala"
			result = TRUE;
#line 262 "../src/MainWindow.vala"
			return result;
#line 1222 "MainWindow.c"
		}
	}
#line 265 "../src/MainWindow.vala"
	_tmp19_ = e->state;
#line 265 "../src/MainWindow.vala"
	if ((_tmp19_ & GDK_CONTROL_MASK) != 0) {
#line 266 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_2, keycode)) {
#line 1231 "MainWindow.c"
			GSettings* _tmp20_;
#line 267 "../src/MainWindow.vala"
			_tmp20_ = quilter_application_gsettings;
#line 267 "../src/MainWindow.vala"
			if (g_settings_get_boolean (_tmp20_, "sidebar")) {
#line 1237 "MainWindow.c"
				GSettings* _tmp21_;
#line 268 "../src/MainWindow.vala"
				_tmp21_ = quilter_application_gsettings;
#line 268 "../src/MainWindow.vala"
				g_settings_set_boolean (_tmp21_, "sidebar", FALSE);
#line 1243 "MainWindow.c"
			} else {
				GSettings* _tmp22_;
#line 270 "../src/MainWindow.vala"
				_tmp22_ = quilter_application_gsettings;
#line 270 "../src/MainWindow.vala"
				g_settings_set_boolean (_tmp22_, "sidebar", TRUE);
#line 1250 "MainWindow.c"
			}
#line 272 "../src/MainWindow.vala"
			result = TRUE;
#line 272 "../src/MainWindow.vala"
			return result;
#line 1256 "MainWindow.c"
		}
	}
#line 275 "../src/MainWindow.vala"
	_tmp23_ = e->state;
#line 275 "../src/MainWindow.vala"
	if ((_tmp23_ & GDK_CONTROL_MASK) != 0) {
#line 276 "../src/MainWindow.vala"
		if (quilter_main_window_match_keycode (self, GDK_KEY_3, keycode)) {
#line 1265 "MainWindow.c"
			GSettings* _tmp24_;
#line 277 "../src/MainWindow.vala"
			_tmp24_ = quilter_application_gsettings;
#line 277 "../src/MainWindow.vala"
			if (g_settings_get_boolean (_tmp24_, "focus-mode")) {
#line 1271 "MainWindow.c"
				GSettings* _tmp25_;
#line 278 "../src/MainWindow.vala"
				_tmp25_ = quilter_application_gsettings;
#line 278 "../src/MainWindow.vala"
				g_settings_set_boolean (_tmp25_, "focus-mode", FALSE);
#line 1277 "MainWindow.c"
			} else {
				GSettings* _tmp26_;
#line 280 "../src/MainWindow.vala"
				_tmp26_ = quilter_application_gsettings;
#line 280 "../src/MainWindow.vala"
				g_settings_set_boolean (_tmp26_, "focus-mode", TRUE);
#line 1284 "MainWindow.c"
			}
#line 282 "../src/MainWindow.vala"
			result = TRUE;
#line 282 "../src/MainWindow.vala"
			return result;
#line 1290 "MainWindow.c"
		}
	}
#line 285 "../src/MainWindow.vala"
	result = FALSE;
#line 285 "../src/MainWindow.vala"
	return result;
#line 1297 "MainWindow.c"
}

static gboolean
___lambda25__gtk_widget_key_press_event (GtkWidget* _sender,
                                         GdkEventKey* event,
                                         gpointer self)
{
	gboolean result;
	result = __lambda25_ ((QuilterMainWindow*) self, event);
#line 197 "../src/MainWindow.vala"
	return result;
#line 1309 "MainWindow.c"
}

QuilterMainWindow*
quilter_main_window_construct (GType object_type,
                               QuilterApplication* application)
{
	QuilterMainWindow * self = NULL;
	GtkIconTheme* default_theme = NULL;
	GtkIconTheme* _tmp0_;
	GtkIconTheme* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* path = NULL;
	GSettings* _tmp4_;
	gchar* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	gboolean _tmp9_;
	GSettings* _tmp25_;
	QuilterWidgetsSideBar* _tmp26_;
	GtkListBox* _tmp27_;
	GList* _tmp28_;
	GList* _tmp29_;
	gboolean _tmp30_;
	GtkSpellChecker* _tmp39_;
	GtkSpellChecker* _tmp40_;
	GSettings* _tmp41_;
	GtkSpellChecker* _tmp42_;
	GtkScrolledWindow* _tmp43_;
	GtkAdjustment* _tmp44_;
	GtkAdjustment* _tmp45_;
	GtkAdjustment* _tmp46_;
	QuilterWidgetsEditView* _tmp47_;
	GtkSourceBuffer* _tmp48_;
	GtkRevealer* _tmp49_;
#line 137 "../src/MainWindow.vala"
	g_return_val_if_fail (application != NULL, NULL);
#line 138 "../src/MainWindow.vala"
	self = (QuilterMainWindow*) g_object_new (object_type, "application", application, "app", application, "title", "Quilter", NULL);
#line 144 "../src/MainWindow.vala"
	_tmp0_ = gtk_icon_theme_get_default ();
#line 144 "../src/MainWindow.vala"
	default_theme = _tmp0_;
#line 145 "../src/MainWindow.vala"
	_tmp1_ = default_theme;
#line 145 "../src/MainWindow.vala"
	gtk_icon_theme_add_resource_path (_tmp1_, "/io/github/lainsce/Quilter");
#line 148 "../src/MainWindow.vala"
	_tmp2_ = quilter_services_file_manager_get_cache_path ();
#line 148 "../src/MainWindow.vala"
	_tmp3_ = _tmp2_;
#line 148 "../src/MainWindow.vala"
	_g_free0 (_tmp3_);
#line 149 "../src/MainWindow.vala"
	_tmp4_ = quilter_application_gsettings;
#line 149 "../src/MainWindow.vala"
	_tmp5_ = g_settings_get_string (_tmp4_, "current-file");
#line 149 "../src/MainWindow.vala"
	path = _tmp5_;
#line 151 "../src/MainWindow.vala"
	_tmp6_ = path;
#line 151 "../src/MainWindow.vala"
	_tmp7_ = quilter_services_file_manager_get_cache_path ();
#line 151 "../src/MainWindow.vala"
	_tmp8_ = _tmp7_;
#line 151 "../src/MainWindow.vala"
	_tmp9_ = g_strcmp0 (_tmp6_, _tmp8_) == 0;
#line 151 "../src/MainWindow.vala"
	_g_free0 (_tmp8_);
#line 151 "../src/MainWindow.vala"
	if (_tmp9_) {
#line 1382 "MainWindow.c"
		QuilterWidgetsHeaderbar* _tmp10_;
		QuilterWidgetsHeaderBarButton* _tmp11_;
		QuilterWidgetsHeaderbar* _tmp12_;
		QuilterWidgetsHeaderBarButton* _tmp13_;
#line 152 "../src/MainWindow.vala"
		_tmp10_ = self->titlebar;
#line 152 "../src/MainWindow.vala"
		_tmp11_ = _tmp10_->samenu_button;
#line 152 "../src/MainWindow.vala"
		quilter_widgets_header_bar_button_set_title (_tmp11_, _ ("New Document"));
#line 153 "../src/MainWindow.vala"
		_tmp12_ = self->titlebar;
#line 153 "../src/MainWindow.vala"
		_tmp13_ = _tmp12_->samenu_button;
#line 153 "../src/MainWindow.vala"
		quilter_widgets_header_bar_button_set_subtitle (_tmp13_, _ ("Not Saved Yet"));
#line 1399 "MainWindow.c"
	} else {
		QuilterWidgetsHeaderbar* _tmp14_;
		QuilterWidgetsHeaderBarButton* _tmp15_;
		const gchar* _tmp16_;
		gchar* _tmp17_;
		gchar* _tmp18_;
		QuilterWidgetsHeaderbar* _tmp19_;
		QuilterWidgetsHeaderBarButton* _tmp20_;
		const gchar* _tmp21_;
		const gchar* _tmp22_;
		gchar* _tmp23_;
		gchar* _tmp24_;
#line 155 "../src/MainWindow.vala"
		_tmp14_ = self->titlebar;
#line 155 "../src/MainWindow.vala"
		_tmp15_ = _tmp14_->samenu_button;
#line 155 "../src/MainWindow.vala"
		_tmp16_ = path;
#line 155 "../src/MainWindow.vala"
		_tmp17_ = g_path_get_basename (_tmp16_);
#line 155 "../src/MainWindow.vala"
		_tmp18_ = _tmp17_;
#line 155 "../src/MainWindow.vala"
		quilter_widgets_header_bar_button_set_title (_tmp15_, _tmp18_);
#line 155 "../src/MainWindow.vala"
		_g_free0 (_tmp18_);
#line 156 "../src/MainWindow.vala"
		_tmp19_ = self->titlebar;
#line 156 "../src/MainWindow.vala"
		_tmp20_ = _tmp19_->samenu_button;
#line 156 "../src/MainWindow.vala"
		_tmp21_ = path;
#line 156 "../src/MainWindow.vala"
		_tmp22_ = g_get_home_dir ();
#line 156 "../src/MainWindow.vala"
		_tmp23_ = string_replace (_tmp21_, _tmp22_, "~");
#line 156 "../src/MainWindow.vala"
		_tmp24_ = _tmp23_;
#line 156 "../src/MainWindow.vala"
		quilter_widgets_header_bar_button_set_subtitle (_tmp20_, _tmp24_);
#line 156 "../src/MainWindow.vala"
		_g_free0 (_tmp24_);
#line 1442 "MainWindow.c"
	}
#line 159 "../src/MainWindow.vala"
	quilter_main_window_on_settings_changed (self, NULL, NULL);
#line 160 "../src/MainWindow.vala"
	_tmp25_ = quilter_application_gsettings;
#line 160 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp25_, "changed", (GCallback) ___lambda21__g_settings_changed, self, 0);
#line 164 "../src/MainWindow.vala"
	_tmp26_ = self->sidebar;
#line 164 "../src/MainWindow.vala"
	_tmp27_ = _tmp26_->column;
#line 164 "../src/MainWindow.vala"
	_tmp28_ = gtk_container_get_children ((GtkContainer*) _tmp27_);
#line 164 "../src/MainWindow.vala"
	_tmp29_ = _tmp28_;
#line 164 "../src/MainWindow.vala"
	_tmp30_ = _tmp29_ == NULL;
#line 164 "../src/MainWindow.vala"
	(_tmp29_ == NULL) ? NULL : (_tmp29_ = (g_list_free (_tmp29_), NULL));
#line 164 "../src/MainWindow.vala"
	if (_tmp30_) {
#line 1464 "MainWindow.c"
		GtkStack* _tmp31_;
		GtkStack* _tmp32_;
		QuilterWidgetsSideBar* _tmp33_;
		GSettings* _tmp34_;
#line 165 "../src/MainWindow.vala"
		_tmp31_ = self->win_stack;
#line 165 "../src/MainWindow.vala"
		gtk_stack_set_visible_child_name (_tmp31_, "welcome");
#line 166 "../src/MainWindow.vala"
		_tmp32_ = self->titlebar_stack;
#line 166 "../src/MainWindow.vala"
		gtk_stack_set_visible_child_name (_tmp32_, "welcome-title");
#line 167 "../src/MainWindow.vala"
		_tmp33_ = self->sidebar;
#line 167 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp33_, FALSE);
#line 168 "../src/MainWindow.vala"
		_tmp34_ = quilter_application_gsettings;
#line 168 "../src/MainWindow.vala"
		g_settings_set_boolean (_tmp34_, "sidebar", FALSE);
#line 1485 "MainWindow.c"
	} else {
		GtkStack* _tmp35_;
		GtkStack* _tmp36_;
		QuilterWidgetsSideBar* _tmp37_;
		GSettings* _tmp38_;
#line 170 "../src/MainWindow.vala"
		_tmp35_ = self->win_stack;
#line 170 "../src/MainWindow.vala"
		gtk_stack_set_visible_child_name (_tmp35_, "doc");
#line 171 "../src/MainWindow.vala"
		_tmp36_ = self->titlebar_stack;
#line 171 "../src/MainWindow.vala"
		gtk_stack_set_visible_child_name (_tmp36_, "title");
#line 172 "../src/MainWindow.vala"
		_tmp37_ = self->sidebar;
#line 172 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp37_, TRUE);
#line 173 "../src/MainWindow.vala"
		_tmp38_ = quilter_application_gsettings;
#line 173 "../src/MainWindow.vala"
		g_settings_set_boolean (_tmp38_, "sidebar", TRUE);
#line 1507 "MainWindow.c"
	}
#line 176 "../src/MainWindow.vala"
	_tmp39_ = gtk_spell_checker_new ();
#line 176 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp39_);
#line 176 "../src/MainWindow.vala"
	_g_object_unref0 (self->priv->spell);
#line 176 "../src/MainWindow.vala"
	self->priv->spell = _tmp39_;
#line 177 "../src/MainWindow.vala"
	_tmp40_ = self->priv->spell;
#line 177 "../src/MainWindow.vala"
	g_object_set (_tmp40_, "decode-language-codes", TRUE, NULL);
#line 178 "../src/MainWindow.vala"
	_tmp41_ = quilter_application_gsettings;
#line 178 "../src/MainWindow.vala"
	quilter_main_window_set_spellcheck (self, g_settings_get_boolean (_tmp41_, "spellcheck"));
#line 179 "../src/MainWindow.vala"
	_tmp42_ = self->priv->spell;
#line 179 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp42_, "language-changed", (GCallback) ___lambda22__gtk_spell_checker_language_changed, self, 0);
#line 183 "../src/MainWindow.vala"
	_tmp43_ = self->edit_view;
#line 183 "../src/MainWindow.vala"
	_tmp44_ = gtk_scrolled_window_get_vadjustment (_tmp43_);
#line 183 "../src/MainWindow.vala"
	_tmp45_ = _g_object_ref0 (_tmp44_);
#line 183 "../src/MainWindow.vala"
	_g_object_unref0 (self->eadj);
#line 183 "../src/MainWindow.vala"
	self->eadj = _tmp45_;
#line 184 "../src/MainWindow.vala"
	_tmp46_ = self->eadj;
#line 184 "../src/MainWindow.vala"
	g_signal_connect_object ((GObject*) _tmp46_, "notify::value", (GCallback) ___lambda23__g_object_notify, self, 0);
#line 188 "../src/MainWindow.vala"
	_tmp47_ = self->edit_view_content;
#line 188 "../src/MainWindow.vala"
	_tmp48_ = _tmp47_->buffer;
#line 188 "../src/MainWindow.vala"
	g_signal_connect_object ((GtkTextBuffer*) _tmp48_, "changed", (GCallback) ___lambda24__gtk_text_buffer_changed, self, 0);
#line 197 "../src/MainWindow.vala"
	g_signal_connect_object ((GtkWidget*) self, "key-press-event", (GCallback) ___lambda25__gtk_widget_key_press_event, self, 0);
#line 288 "../src/MainWindow.vala"
	_tmp49_ = self->overlay_button_revealer;
#line 288 "../src/MainWindow.vala"
	gtk_widget_set_visible ((GtkWidget*) _tmp49_, FALSE);
#line 137 "../src/MainWindow.vala"
	_g_free0 (path);
#line 137 "../src/MainWindow.vala"
	return self;
#line 1559 "MainWindow.c"
}

QuilterMainWindow*
quilter_main_window_new (QuilterApplication* application)
{
#line 137 "../src/MainWindow.vala"
	return quilter_main_window_construct (QUILTER_TYPE_MAIN_WINDOW, application);
#line 1567 "MainWindow.c"
}

static void
quilter_main_window_update (QuilterMainWindow* self)
{
	gboolean _tmp0_ = FALSE;
	HdyLeaflet* _tmp1_;
#line 494 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 495 "../src/MainWindow.vala"
	_tmp1_ = self->grid;
#line 495 "../src/MainWindow.vala"
	if (_tmp1_ != NULL) {
#line 1581 "MainWindow.c"
		HdyLeaflet* _tmp2_;
#line 495 "../src/MainWindow.vala"
		_tmp2_ = self->grid;
#line 495 "../src/MainWindow.vala"
		_tmp0_ = hdy_leaflet_get_folded (_tmp2_);
#line 1587 "MainWindow.c"
	} else {
#line 495 "../src/MainWindow.vala"
		_tmp0_ = FALSE;
#line 1591 "MainWindow.c"
	}
#line 495 "../src/MainWindow.vala"
	if (_tmp0_) {
#line 1595 "MainWindow.c"
		GSettings* _tmp3_;
		GSettings* _tmp4_;
		GSettings* _tmp5_;
		QuilterWidgetsSideBar* _tmp6_;
		GtkScrolledWindow* _tmp7_;
#line 496 "../src/MainWindow.vala"
		_tmp3_ = quilter_application_gsettings;
#line 496 "../src/MainWindow.vala"
		g_settings_set_boolean (_tmp3_, "sidebar", TRUE);
#line 497 "../src/MainWindow.vala"
		_tmp4_ = quilter_application_gsettings;
#line 497 "../src/MainWindow.vala"
		g_settings_set_boolean (_tmp4_, "header", FALSE);
#line 498 "../src/MainWindow.vala"
		_tmp5_ = quilter_application_gsettings;
#line 498 "../src/MainWindow.vala"
		g_settings_set_boolean (_tmp5_, "focus-mode", FALSE);
#line 499 "../src/MainWindow.vala"
		_tmp6_ = self->sidebar;
#line 499 "../src/MainWindow.vala"
		_tmp7_ = _tmp6_->scrolled_box;
#line 499 "../src/MainWindow.vala"
		gtk_widget_set_hexpand ((GtkWidget*) _tmp7_, TRUE);
#line 1619 "MainWindow.c"
	} else {
		GSettings* _tmp8_;
		GSettings* _tmp9_;
		GSettings* _tmp12_;
		QuilterWidgetsSideBar* _tmp14_;
		GtkScrolledWindow* _tmp15_;
#line 501 "../src/MainWindow.vala"
		_tmp8_ = quilter_application_gsettings;
#line 501 "../src/MainWindow.vala"
		g_settings_set_boolean (_tmp8_, "header", TRUE);
#line 502 "../src/MainWindow.vala"
		_tmp9_ = quilter_application_gsettings;
#line 502 "../src/MainWindow.vala"
		if (g_settings_get_boolean (_tmp9_, "focus-mode")) {
#line 1634 "MainWindow.c"
			GSettings* _tmp10_;
			GSettings* _tmp11_;
#line 503 "../src/MainWindow.vala"
			_tmp10_ = quilter_application_gsettings;
#line 503 "../src/MainWindow.vala"
			g_settings_set_boolean (_tmp10_, "focus-mode", TRUE);
#line 504 "../src/MainWindow.vala"
			_tmp11_ = quilter_application_gsettings;
#line 504 "../src/MainWindow.vala"
			g_settings_set_boolean (_tmp11_, "sidebar", FALSE);
#line 1645 "MainWindow.c"
		}
#line 506 "../src/MainWindow.vala"
		_tmp12_ = quilter_application_gsettings;
#line 506 "../src/MainWindow.vala"
		if (g_settings_get_boolean (_tmp12_, "sidebar")) {
#line 1651 "MainWindow.c"
			GSettings* _tmp13_;
#line 507 "../src/MainWindow.vala"
			_tmp13_ = quilter_application_gsettings;
#line 507 "../src/MainWindow.vala"
			g_settings_set_boolean (_tmp13_, "sidebar", TRUE);
#line 1657 "MainWindow.c"
		}
#line 509 "../src/MainWindow.vala"
		_tmp14_ = self->sidebar;
#line 509 "../src/MainWindow.vala"
		_tmp15_ = _tmp14_->scrolled_box;
#line 509 "../src/MainWindow.vala"
		gtk_widget_set_hexpand ((GtkWidget*) _tmp15_, FALSE);
#line 1665 "MainWindow.c"
	}
}

gboolean
quilter_main_window_match_keycode (QuilterMainWindow* self,
                                   guint keyval,
                                   guint code)
{
	GdkKeymapKey* keys = NULL;
	gint keys_length1 = 0;
	gint _keys_size_ = 0;
	GdkKeymap* keymap = NULL;
	GdkDisplay* _tmp0_;
	GdkKeymap* _tmp1_;
	GdkKeymap* _tmp2_;
	GdkKeymap* _tmp3_;
	GdkKeymapKey* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gboolean _tmp6_;
	gboolean result = FALSE;
#line 514 "../src/MainWindow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 519 "../src/MainWindow.vala"
	_tmp0_ = gdk_display_get_default ();
#line 519 "../src/MainWindow.vala"
	_tmp1_ = gdk_keymap_get_for_display (_tmp0_);
#line 519 "../src/MainWindow.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 519 "../src/MainWindow.vala"
	keymap = _tmp2_;
#line 520 "../src/MainWindow.vala"
	_tmp3_ = keymap;
#line 520 "../src/MainWindow.vala"
	_tmp6_ = gdk_keymap_get_entries_for_keyval (_tmp3_, keyval, &_tmp4_, &_tmp5_);
#line 520 "../src/MainWindow.vala"
	keys = (g_free (keys), NULL);
#line 520 "../src/MainWindow.vala"
	keys = _tmp4_;
#line 520 "../src/MainWindow.vala"
	keys_length1 = _tmp5_;
#line 520 "../src/MainWindow.vala"
	_keys_size_ = keys_length1;
#line 520 "../src/MainWindow.vala"
	if (_tmp6_) {
#line 1710 "MainWindow.c"
		GdkKeymapKey* _tmp7_;
		gint _tmp7__length1;
#line 521 "../src/MainWindow.vala"
		_tmp7_ = keys;
#line 521 "../src/MainWindow.vala"
		_tmp7__length1 = keys_length1;
#line 1717 "MainWindow.c"
		{
			GdkKeymapKey* key_collection = NULL;
			gint key_collection_length1 = 0;
			gint _key_collection_size_ = 0;
			gint key_it = 0;
#line 521 "../src/MainWindow.vala"
			key_collection = _tmp7_;
#line 521 "../src/MainWindow.vala"
			key_collection_length1 = _tmp7__length1;
#line 521 "../src/MainWindow.vala"
			for (key_it = 0; key_it < key_collection_length1; key_it = key_it + 1) {
#line 1729 "MainWindow.c"
				GdkKeymapKey key = {0};
#line 521 "../src/MainWindow.vala"
				key = key_collection[key_it];
#line 1733 "MainWindow.c"
				{
					GdkKeymapKey _tmp8_;
#line 522 "../src/MainWindow.vala"
					_tmp8_ = key;
#line 522 "../src/MainWindow.vala"
					if (code == _tmp8_.keycode) {
#line 523 "../src/MainWindow.vala"
						result = TRUE;
#line 523 "../src/MainWindow.vala"
						_g_object_unref0 (keymap);
#line 523 "../src/MainWindow.vala"
						keys = (g_free (keys), NULL);
#line 523 "../src/MainWindow.vala"
						return result;
#line 1748 "MainWindow.c"
					}
				}
			}
		}
	}
#line 527 "../src/MainWindow.vala"
	result = FALSE;
#line 527 "../src/MainWindow.vala"
	_g_object_unref0 (keymap);
#line 527 "../src/MainWindow.vala"
	keys = (g_free (keys), NULL);
#line 527 "../src/MainWindow.vala"
	return result;
#line 1762 "MainWindow.c"
}

static gboolean
quilter_main_window_real_delete_event (GtkWidget* base,
                                       GdkEventAny* event)
{
	QuilterMainWindow * self;
	gint w = 0;
	gint h = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	GSettings* _tmp2_;
	gint root_x = 0;
	gint root_y = 0;
	gint _tmp3_ = 0;
	gint _tmp4_ = 0;
	GSettings* _tmp5_;
	QuilterWidgetsSideBar* _tmp6_;
	GtkListBox* _tmp7_;
	GList* _tmp8_;
	GList* _tmp9_;
	gboolean _tmp10_;
	QuilterWidgetsEditView* _tmp12_;
	gboolean _tmp13_;
	gboolean _tmp14_;
	gboolean result = FALSE;
#line 530 "../src/MainWindow.vala"
	self = (QuilterMainWindow*) base;
#line 530 "../src/MainWindow.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 532 "../src/MainWindow.vala"
	gtk_window_get_size ((GtkWindow*) self, &_tmp0_, &_tmp1_);
#line 532 "../src/MainWindow.vala"
	w = _tmp0_;
#line 532 "../src/MainWindow.vala"
	h = _tmp1_;
#line 533 "../src/MainWindow.vala"
	_tmp2_ = quilter_application_gsettings;
#line 533 "../src/MainWindow.vala"
	g_settings_set (_tmp2_, "window-size", "(ii)", w, h);
#line 535 "../src/MainWindow.vala"
	gtk_window_get_position ((GtkWindow*) self, &_tmp3_, &_tmp4_);
#line 535 "../src/MainWindow.vala"
	root_x = _tmp3_;
#line 535 "../src/MainWindow.vala"
	root_y = _tmp4_;
#line 536 "../src/MainWindow.vala"
	_tmp5_ = quilter_application_gsettings;
#line 536 "../src/MainWindow.vala"
	g_settings_set (_tmp5_, "window-position", "(ii)", root_x, root_y);
#line 538 "../src/MainWindow.vala"
	quilter_main_window_save_last_files (self);
#line 539 "../src/MainWindow.vala"
	_tmp6_ = self->sidebar;
#line 539 "../src/MainWindow.vala"
	_tmp7_ = _tmp6_->column;
#line 539 "../src/MainWindow.vala"
	_tmp8_ = gtk_container_get_children ((GtkContainer*) _tmp7_);
#line 539 "../src/MainWindow.vala"
	_tmp9_ = _tmp8_;
#line 539 "../src/MainWindow.vala"
	_tmp10_ = _tmp9_ == NULL;
#line 539 "../src/MainWindow.vala"
	(_tmp9_ == NULL) ? NULL : (_tmp9_ = (g_list_free (_tmp9_), NULL));
#line 539 "../src/MainWindow.vala"
	if (_tmp10_) {
#line 1829 "MainWindow.c"
		GSettings* _tmp11_;
#line 540 "../src/MainWindow.vala"
		_tmp11_ = quilter_application_gsettings;
#line 540 "../src/MainWindow.vala"
		g_settings_set_string (_tmp11_, "current-file", "");
#line 1835 "MainWindow.c"
	}
#line 543 "../src/MainWindow.vala"
	quilter_main_window_set_prev_workfile (self);
#line 544 "../src/MainWindow.vala"
	_tmp12_ = self->edit_view_content;
#line 544 "../src/MainWindow.vala"
	_tmp13_ = quilter_widgets_edit_view_get_modified (_tmp12_);
#line 544 "../src/MainWindow.vala"
	_tmp14_ = _tmp13_;
#line 544 "../src/MainWindow.vala"
	if (_tmp14_) {
#line 545 "../src/MainWindow.vala"
		quilter_main_window_on_save (self);
#line 1849 "MainWindow.c"
	}
#line 548 "../src/MainWindow.vala"
	result = FALSE;
#line 548 "../src/MainWindow.vala"
	return result;
#line 1855 "MainWindow.c"
}

void
quilter_main_window_scroll_to (QuilterMainWindow* self)
{
	GtkAdjustment* vap = NULL;
	GtkScrolledWindow* _tmp0_;
	GtkAdjustment* _tmp1_;
	GtkAdjustment* _tmp2_;
	gdouble upper = 0.0;
	gdouble value = 0.0;
	QuilterWidgetsPreview* _tmp3_;
#line 551 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 552 "../src/MainWindow.vala"
	_tmp0_ = self->edit_view;
#line 552 "../src/MainWindow.vala"
	_tmp1_ = gtk_scrolled_window_get_vadjustment (_tmp0_);
#line 552 "../src/MainWindow.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 552 "../src/MainWindow.vala"
	vap = _tmp2_;
#line 553 "../src/MainWindow.vala"
	upper = gtk_adjustment_get_upper (vap);
#line 554 "../src/MainWindow.vala"
	value = gtk_adjustment_get_value (vap);
#line 555 "../src/MainWindow.vala"
	_tmp3_ = self->preview_view_content;
#line 555 "../src/MainWindow.vala"
	quilter_widgets_preview_set_scroll_value (_tmp3_, value / upper);
#line 551 "../src/MainWindow.vala"
	_g_object_unref0 (vap);
#line 1888 "MainWindow.c"
}

static void
quilter_main_window_widget_unparent (GtkWidget* widget)
{
	GtkContainer* parent = NULL;
	GtkContainer* _tmp0_;
#line 558 "../src/MainWindow.vala"
	g_return_if_fail (widget != NULL);
#line 559 "../src/MainWindow.vala"
	_tmp0_ = gtk_widget_get_parent (widget);
#line 559 "../src/MainWindow.vala"
	parent = _tmp0_;
#line 560 "../src/MainWindow.vala"
	if (parent != NULL) {
#line 561 "../src/MainWindow.vala"
		gtk_container_remove (parent, widget);
#line 562 "../src/MainWindow.vala"
		gtk_widget_unparent (widget);
#line 1908 "MainWindow.c"
	} else {
#line 564 "../src/MainWindow.vala"
		return;
#line 1912 "MainWindow.c"
	}
}

static void
quilter_main_window_update_count (QuilterMainWindow* self)
{
	GSettings* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp3_;
#line 568 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 569 "../src/MainWindow.vala"
	_tmp0_ = quilter_application_gsettings;
#line 569 "../src/MainWindow.vala"
	_tmp1_ = g_settings_get_string (_tmp0_, "track-type");
#line 569 "../src/MainWindow.vala"
	_tmp2_ = _tmp1_;
#line 569 "../src/MainWindow.vala"
	_tmp3_ = g_strcmp0 (_tmp2_, "words") == 0;
#line 569 "../src/MainWindow.vala"
	_g_free0 (_tmp2_);
#line 569 "../src/MainWindow.vala"
	if (_tmp3_) {
#line 1937 "MainWindow.c"
		QuilterWidgetsStatusBar* _tmp4_;
#line 570 "../src/MainWindow.vala"
		_tmp4_ = self->statusbar;
#line 570 "../src/MainWindow.vala"
		quilter_widgets_status_bar_update_wordcount (_tmp4_);
#line 1943 "MainWindow.c"
	} else {
		GSettings* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
		gboolean _tmp8_;
#line 571 "../src/MainWindow.vala"
		_tmp5_ = quilter_application_gsettings;
#line 571 "../src/MainWindow.vala"
		_tmp6_ = g_settings_get_string (_tmp5_, "track-type");
#line 571 "../src/MainWindow.vala"
		_tmp7_ = _tmp6_;
#line 571 "../src/MainWindow.vala"
		_tmp8_ = g_strcmp0 (_tmp7_, "lines") == 0;
#line 571 "../src/MainWindow.vala"
		_g_free0 (_tmp7_);
#line 571 "../src/MainWindow.vala"
		if (_tmp8_) {
#line 1961 "MainWindow.c"
			QuilterWidgetsStatusBar* _tmp9_;
#line 572 "../src/MainWindow.vala"
			_tmp9_ = self->statusbar;
#line 572 "../src/MainWindow.vala"
			quilter_widgets_status_bar_update_linecount (_tmp9_);
#line 1967 "MainWindow.c"
		} else {
			GSettings* _tmp10_;
			gchar* _tmp11_;
			gchar* _tmp12_;
			gboolean _tmp13_;
#line 573 "../src/MainWindow.vala"
			_tmp10_ = quilter_application_gsettings;
#line 573 "../src/MainWindow.vala"
			_tmp11_ = g_settings_get_string (_tmp10_, "track-type");
#line 573 "../src/MainWindow.vala"
			_tmp12_ = _tmp11_;
#line 573 "../src/MainWindow.vala"
			_tmp13_ = g_strcmp0 (_tmp12_, "rtc") == 0;
#line 573 "../src/MainWindow.vala"
			_g_free0 (_tmp12_);
#line 573 "../src/MainWindow.vala"
			if (_tmp13_) {
#line 1985 "MainWindow.c"
				QuilterWidgetsStatusBar* _tmp14_;
#line 574 "../src/MainWindow.vala"
				_tmp14_ = self->statusbar;
#line 574 "../src/MainWindow.vala"
				quilter_widgets_status_bar_update_readtimecount (_tmp14_);
#line 1991 "MainWindow.c"
			}
		}
	}
}

static void
quilter_main_window_action_preferences (QuilterMainWindow* self)
{
	QuilterWidgetsPreferences* prefs = NULL;
	QuilterWidgetsPreferences* _tmp0_;
#line 578 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 579 "../src/MainWindow.vala"
	_tmp0_ = quilter_widgets_preferences_new (self);
#line 579 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 579 "../src/MainWindow.vala"
	prefs = _tmp0_;
#line 580 "../src/MainWindow.vala"
	gtk_widget_show_all ((GtkWidget*) prefs);
#line 578 "../src/MainWindow.vala"
	_g_object_unref0 (prefs);
#line 2014 "MainWindow.c"
}

static void
quilter_main_window_action_cheatsheet (QuilterMainWindow* self)
{
	GError* _inner_error0_ = NULL;
#line 582 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 2023 "MainWindow.c"
	{
		GtkBuilder* build = NULL;
		GtkBuilder* _tmp0_;
		HdyPreferencesWindow* window = NULL;
		GObject* _tmp1_;
		HdyPreferencesWindow* _tmp2_;
		HdyPreferencesWindow* _tmp3_;
		HdyPreferencesWindow* _tmp4_;
#line 584 "../src/MainWindow.vala"
		_tmp0_ = gtk_builder_new ();
#line 584 "../src/MainWindow.vala"
		build = _tmp0_;
#line 585 "../src/MainWindow.vala"
		gtk_builder_add_from_resource (build, "/io/github/lainsce/Quilter/cheatsheet.ui", &_inner_error0_);
#line 585 "../src/MainWindow.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 585 "../src/MainWindow.vala"
			_g_object_unref0 (build);
#line 2042 "MainWindow.c"
			goto __catch0_g_error;
		}
#line 586 "../src/MainWindow.vala"
		_tmp1_ = gtk_builder_get_object (build, "cheatsheet");
#line 586 "../src/MainWindow.vala"
		_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, hdy_preferences_window_get_type (), HdyPreferencesWindow));
#line 586 "../src/MainWindow.vala"
		window = _tmp2_;
#line 587 "../src/MainWindow.vala"
		_tmp3_ = window;
#line 587 "../src/MainWindow.vala"
		gtk_window_set_transient_for ((GtkWindow*) _tmp3_, (GtkWindow*) self);
#line 588 "../src/MainWindow.vala"
		_tmp4_ = window;
#line 588 "../src/MainWindow.vala"
		gtk_widget_show_all ((GtkWidget*) _tmp4_);
#line 583 "../src/MainWindow.vala"
		_g_object_unref0 (window);
#line 583 "../src/MainWindow.vala"
		_g_object_unref0 (build);
#line 2063 "MainWindow.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp5_;
		const gchar* _tmp6_;
#line 583 "../src/MainWindow.vala"
		e = _inner_error0_;
#line 583 "../src/MainWindow.vala"
		_inner_error0_ = NULL;
#line 590 "../src/MainWindow.vala"
		_tmp5_ = e;
#line 590 "../src/MainWindow.vala"
		_tmp6_ = _tmp5_->message;
#line 590 "../src/MainWindow.vala"
		g_warning ("MainWindow.vala:590: Failed to open md_cheatsheet window: %s\n", _tmp6_);
#line 583 "../src/MainWindow.vala"
		_g_error_free0 (e);
#line 2083 "MainWindow.c"
	}
	__finally0:
#line 583 "../src/MainWindow.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 583 "../src/MainWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 583 "../src/MainWindow.vala"
		g_clear_error (&_inner_error0_);
#line 583 "../src/MainWindow.vala"
		return;
#line 2094 "MainWindow.c"
	}
}

static void
quilter_main_window_action_toggle_view (QuilterMainWindow* self)
{
	GSettings* _tmp0_;
#line 593 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 594 "../src/MainWindow.vala"
	_tmp0_ = quilter_application_gsettings;
#line 594 "../src/MainWindow.vala"
	if (g_settings_get_boolean (_tmp0_, "full-width-changed") == FALSE) {
#line 2108 "MainWindow.c"
		GtkStack* _tmp1_;
		QuilterWidgetsPreview* _tmp2_;
		GSettings* _tmp3_;
#line 595 "../src/MainWindow.vala"
		_tmp1_ = self->stack;
#line 595 "../src/MainWindow.vala"
		_tmp2_ = self->preview_view_content;
#line 595 "../src/MainWindow.vala"
		gtk_stack_set_visible_child (_tmp1_, (GtkWidget*) _tmp2_);
#line 596 "../src/MainWindow.vala"
		_tmp3_ = quilter_application_gsettings;
#line 596 "../src/MainWindow.vala"
		g_settings_set_boolean (_tmp3_, "full-width-changed", TRUE);
#line 2122 "MainWindow.c"
	} else {
		GSettings* _tmp4_;
#line 597 "../src/MainWindow.vala"
		_tmp4_ = quilter_application_gsettings;
#line 597 "../src/MainWindow.vala"
		if (g_settings_get_boolean (_tmp4_, "full-width-changed") == TRUE) {
#line 2129 "MainWindow.c"
			GtkStack* _tmp5_;
			GtkOverlay* _tmp6_;
			GSettings* _tmp7_;
#line 598 "../src/MainWindow.vala"
			_tmp5_ = self->stack;
#line 598 "../src/MainWindow.vala"
			_tmp6_ = self->overlay_editor;
#line 598 "../src/MainWindow.vala"
			gtk_stack_set_visible_child (_tmp5_, (GtkWidget*) _tmp6_);
#line 599 "../src/MainWindow.vala"
			_tmp7_ = quilter_application_gsettings;
#line 599 "../src/MainWindow.vala"
			g_settings_set_boolean (_tmp7_, "full-width-changed", FALSE);
#line 2143 "MainWindow.c"
		}
	}
}

static void
quilter_main_window_action_focus (QuilterMainWindow* self)
{
	GSettings* _tmp0_;
#line 602 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 603 "../src/MainWindow.vala"
	_tmp0_ = quilter_application_gsettings;
#line 603 "../src/MainWindow.vala"
	g_settings_set_boolean (_tmp0_, "focus-mode", TRUE);
#line 2158 "MainWindow.c"
}

static void
quilter_main_window_action_export_pdf (QuilterMainWindow* self)
{
	GFile* _tmp0_;
	GFile* _tmp1_;
#line 606 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 607 "../src/MainWindow.vala"
	_tmp0_ = quilter_services_export_utils_export_pdf (NULL);
#line 607 "../src/MainWindow.vala"
	_tmp1_ = _tmp0_;
#line 607 "../src/MainWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 2174 "MainWindow.c"
}

static void
quilter_main_window_action_export_html (QuilterMainWindow* self)
{
	GFile* _tmp0_;
	GFile* _tmp1_;
#line 610 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 611 "../src/MainWindow.vala"
	_tmp0_ = quilter_services_export_utils_export_html (NULL);
#line 611 "../src/MainWindow.vala"
	_tmp1_ = _tmp0_;
#line 611 "../src/MainWindow.vala"
	_g_object_unref0 (_tmp1_);
#line 2190 "MainWindow.c"
}

void
quilter_main_window_render_func (QuilterMainWindow* self)
{
	QuilterWidgetsPreview* _tmp0_;
	QuilterWidgetsEditView* _tmp1_;
	GtkSourceBuffer* _tmp2_;
#line 614 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 615 "../src/MainWindow.vala"
	_tmp0_ = self->preview_view_content;
#line 615 "../src/MainWindow.vala"
	quilter_widgets_preview_update_html_view (_tmp0_);
#line 616 "../src/MainWindow.vala"
	_tmp1_ = self->edit_view_content;
#line 616 "../src/MainWindow.vala"
	_tmp2_ = _tmp1_->buffer;
#line 616 "../src/MainWindow.vala"
	if (gtk_text_buffer_get_modified ((GtkTextBuffer*) _tmp2_) == TRUE) {
#line 2211 "MainWindow.c"
		QuilterWidgetsPreview* _tmp3_;
		QuilterWidgetsEditView* _tmp4_;
		GtkSourceBuffer* _tmp5_;
#line 617 "../src/MainWindow.vala"
		_tmp3_ = self->preview_view_content;
#line 617 "../src/MainWindow.vala"
		quilter_widgets_preview_update_html_view (_tmp3_);
#line 618 "../src/MainWindow.vala"
		_tmp4_ = self->edit_view_content;
#line 618 "../src/MainWindow.vala"
		_tmp5_ = _tmp4_->buffer;
#line 618 "../src/MainWindow.vala"
		gtk_text_buffer_set_modified ((GtkTextBuffer*) _tmp5_, FALSE);
#line 2225 "MainWindow.c"
	}
}

void
quilter_main_window_show_searchbar (QuilterMainWindow* self)
{
	QuilterWidgetsSearchBar* _tmp0_;
	GSettings* _tmp1_;
#line 622 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 623 "../src/MainWindow.vala"
	_tmp0_ = self->searchbar;
#line 623 "../src/MainWindow.vala"
	_tmp1_ = quilter_application_gsettings;
#line 623 "../src/MainWindow.vala"
	gtk_search_bar_set_search_mode ((GtkSearchBar*) _tmp0_, g_settings_get_boolean (_tmp1_, "searchbar"));
#line 2242 "MainWindow.c"
}

void
quilter_main_window_show_sidebar (QuilterMainWindow* self)
{
	GtkStack* _tmp0_;
	GtkWidget* _tmp1_;
	GtkGrid* _tmp2_;
#line 626 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 627 "../src/MainWindow.vala"
	_tmp0_ = self->win_stack;
#line 627 "../src/MainWindow.vala"
	_tmp1_ = gtk_stack_get_visible_child (_tmp0_);
#line 627 "../src/MainWindow.vala"
	_tmp2_ = self->welcome_view;
#line 627 "../src/MainWindow.vala"
	if (_tmp1_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, gtk_widget_get_type (), GtkWidget)) {
#line 2261 "MainWindow.c"
		QuilterWidgetsSideBar* _tmp3_;
#line 628 "../src/MainWindow.vala"
		_tmp3_ = self->sidebar;
#line 628 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp3_, FALSE);
#line 2267 "MainWindow.c"
	} else {
		QuilterWidgetsSideBar* _tmp4_;
		GSettings* _tmp5_;
#line 630 "../src/MainWindow.vala"
		_tmp4_ = self->sidebar;
#line 630 "../src/MainWindow.vala"
		_tmp5_ = quilter_application_gsettings;
#line 630 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp4_, g_settings_get_boolean (_tmp5_, "sidebar"));
#line 2277 "MainWindow.c"
	}
}

void
quilter_main_window_show_statusbar (QuilterMainWindow* self)
{
	QuilterWidgetsStatusBar* _tmp0_;
	GSettings* _tmp1_;
#line 634 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 635 "../src/MainWindow.vala"
	_tmp0_ = self->statusbar;
#line 635 "../src/MainWindow.vala"
	_tmp1_ = quilter_application_gsettings;
#line 635 "../src/MainWindow.vala"
	gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp0_, g_settings_get_boolean (_tmp1_, "statusbar"));
#line 2294 "MainWindow.c"
}

static void
quilter_main_window_set_prev_workfile (QuilterMainWindow* self)
{
	QuilterWidgetsSideBar* _tmp0_;
	GtkListBox* _tmp1_;
	GtkListBoxRow* _tmp2_;
#line 638 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 639 "../src/MainWindow.vala"
	_tmp0_ = self->sidebar;
#line 639 "../src/MainWindow.vala"
	_tmp1_ = _tmp0_->column;
#line 639 "../src/MainWindow.vala"
	_tmp2_ = gtk_list_box_get_selected_row (_tmp1_);
#line 639 "../src/MainWindow.vala"
	if (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBox) != NULL) {
#line 2313 "MainWindow.c"
		GSettings* _tmp3_;
		QuilterWidgetsSideBar* _tmp4_;
		GtkListBox* _tmp5_;
		GtkListBoxRow* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
#line 640 "../src/MainWindow.vala"
		_tmp3_ = quilter_application_gsettings;
#line 640 "../src/MainWindow.vala"
		_tmp4_ = self->sidebar;
#line 640 "../src/MainWindow.vala"
		_tmp5_ = _tmp4_->column;
#line 640 "../src/MainWindow.vala"
		_tmp6_ = gtk_list_box_get_selected_row (_tmp5_);
#line 640 "../src/MainWindow.vala"
		_tmp7_ = quilter_widgets_side_bar_box_get_path (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBox));
#line 640 "../src/MainWindow.vala"
		_tmp8_ = _tmp7_;
#line 640 "../src/MainWindow.vala"
		_tmp9_ = _tmp8_;
#line 640 "../src/MainWindow.vala"
		g_settings_set_string (_tmp3_, "current-file", _tmp9_);
#line 640 "../src/MainWindow.vala"
		_g_free0 (_tmp9_);
#line 2339 "MainWindow.c"
	}
}

static void
quilter_main_window_on_settings_changed_data_free (gpointer _data)
{
	QuilterMainWindowOnSettingsChangedData* _data_;
	_data_ = _data;
#line 21 "../src/MainWindow.vala"
	_g_object_unref0 (_data_->self);
#line 21 "../src/MainWindow.vala"
	g_slice_free (QuilterMainWindowOnSettingsChangedData, _data_);
#line 2352 "MainWindow.c"
}

static void
quilter_main_window_on_settings_changed (QuilterMainWindow* self,
                                         GAsyncReadyCallback _callback_,
                                         gpointer _user_data_)
{
	QuilterMainWindowOnSettingsChangedData* _data_;
	QuilterMainWindow* _tmp0_;
#line 21 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 21 "../src/MainWindow.vala"
	_data_ = g_slice_new0 (QuilterMainWindowOnSettingsChangedData);
#line 21 "../src/MainWindow.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 21 "../src/MainWindow.vala"
	g_task_set_task_data (_data_->_async_result, _data_, quilter_main_window_on_settings_changed_data_free);
#line 21 "../src/MainWindow.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 21 "../src/MainWindow.vala"
	_data_->self = _tmp0_;
#line 21 "../src/MainWindow.vala"
	quilter_main_window_on_settings_changed_co (_data_);
#line 2376 "MainWindow.c"
}

static void
quilter_main_window_on_settings_changed_finish (QuilterMainWindow* self,
                                                GAsyncResult* _res_)
{
	QuilterMainWindowOnSettingsChangedData* _data_;
#line 21 "../src/MainWindow.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 2386 "MainWindow.c"
}

static gboolean
___lambda20_ (QuilterMainWindow* self,
              GdkEventButton* e)
{
	gboolean result = FALSE;
#line 655 "../src/MainWindow.vala"
	g_return_val_if_fail (e != NULL, FALSE);
#line 656 "../src/MainWindow.vala"
	if (e->button == ((guint) GDK_BUTTON_SECONDARY)) {
#line 657 "../src/MainWindow.vala"
		gtk_window_begin_move_drag ((GtkWindow*) self, (gint) e->button, (gint) e->x_root, (gint) e->y_root, e->time);
#line 658 "../src/MainWindow.vala"
		result = TRUE;
#line 658 "../src/MainWindow.vala"
		return result;
#line 2404 "MainWindow.c"
	}
#line 660 "../src/MainWindow.vala"
	result = FALSE;
#line 660 "../src/MainWindow.vala"
	return result;
#line 2410 "MainWindow.c"
}

static gboolean
____lambda20__gtk_widget_button_press_event (GtkWidget* _sender,
                                             GdkEventButton* event,
                                             gpointer self)
{
	gboolean result;
	result = ___lambda20_ ((QuilterMainWindow*) self, event);
#line 655 "../src/MainWindow.vala"
	return result;
#line 2422 "MainWindow.c"
}

static gboolean
quilter_main_window_on_settings_changed_co (QuilterMainWindowOnSettingsChangedData* _data_)
{
#line 644 "../src/MainWindow.vala"
	switch (_data_->_state_) {
#line 644 "../src/MainWindow.vala"
		case 0:
#line 2432 "MainWindow.c"
		goto _state_0;
		default:
#line 644 "../src/MainWindow.vala"
		g_assert_not_reached ();
#line 2437 "MainWindow.c"
	}
	_state_0:
#line 645 "../src/MainWindow.vala"
	quilter_main_window_show_searchbar (_data_->self);
#line 646 "../src/MainWindow.vala"
	quilter_main_window_update_count (_data_->self);
#line 647 "../src/MainWindow.vala"
	_data_->_tmp0_ = _data_->self->edit_view_content;
#line 647 "../src/MainWindow.vala"
	quilter_widgets_edit_view_dynamic_margins (_data_->_tmp0_);
#line 648 "../src/MainWindow.vala"
	quilter_main_window_change_layout (_data_->self, NULL, NULL);
#line 650 "../src/MainWindow.vala"
	_data_->_tmp1_ = quilter_application_gsettings;
#line 650 "../src/MainWindow.vala"
	if (g_settings_get_boolean (_data_->_tmp1_, "focus-mode")) {
#line 651 "../src/MainWindow.vala"
		_data_->_tmp2_ = _data_->self->overlay_button_revealer;
#line 651 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child (_data_->_tmp2_, TRUE);
#line 652 "../src/MainWindow.vala"
		_data_->_tmp3_ = _data_->self->sidebar;
#line 652 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child ((GtkRevealer*) _data_->_tmp3_, FALSE);
#line 653 "../src/MainWindow.vala"
		_data_->_tmp4_ = _data_->self->statusbar;
#line 653 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child ((GtkRevealer*) _data_->_tmp4_, FALSE);
#line 654 "../src/MainWindow.vala"
		_data_->_tmp5_ = _data_->self->titlebar_revealer;
#line 654 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child (_data_->_tmp5_, FALSE);
#line 655 "../src/MainWindow.vala"
		_data_->_tmp6_ = _data_->self->focus_overlay_button;
#line 655 "../src/MainWindow.vala"
		g_signal_connect_object ((GtkWidget*) _data_->_tmp6_, "button-press-event", (GCallback) ____lambda20__gtk_widget_button_press_event, _data_->self, 0);
#line 2474 "MainWindow.c"
	} else {
#line 663 "../src/MainWindow.vala"
		_data_->_tmp7_ = _data_->self->overlay_button_revealer;
#line 663 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child (_data_->_tmp7_, FALSE);
#line 664 "../src/MainWindow.vala"
		_data_->_tmp8_ = _data_->self->titlebar_revealer;
#line 664 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child (_data_->_tmp8_, TRUE);
#line 665 "../src/MainWindow.vala"
		quilter_main_window_show_statusbar (_data_->self);
#line 666 "../src/MainWindow.vala"
		quilter_main_window_show_sidebar (_data_->self);
#line 2488 "MainWindow.c"
	}
#line 669 "../src/MainWindow.vala"
	_data_->_tmp9_ = quilter_application_gsettings;
#line 669 "../src/MainWindow.vala"
	if (g_settings_get_boolean (_data_->_tmp9_, "full-width-changed") == FALSE) {
#line 670 "../src/MainWindow.vala"
		_data_->_tmp10_ = _data_->self->stack;
#line 670 "../src/MainWindow.vala"
		_data_->_tmp11_ = _data_->self->preview_view_content;
#line 670 "../src/MainWindow.vala"
		gtk_stack_set_visible_child (_data_->_tmp10_, (GtkWidget*) _data_->_tmp11_);
#line 2500 "MainWindow.c"
	} else {
#line 671 "../src/MainWindow.vala"
		_data_->_tmp12_ = quilter_application_gsettings;
#line 671 "../src/MainWindow.vala"
		if (g_settings_get_boolean (_data_->_tmp12_, "full-width-changed") == TRUE) {
#line 672 "../src/MainWindow.vala"
			_data_->_tmp13_ = _data_->self->stack;
#line 672 "../src/MainWindow.vala"
			_data_->_tmp14_ = _data_->self->overlay_editor;
#line 672 "../src/MainWindow.vala"
			gtk_stack_set_visible_child (_data_->_tmp13_, (GtkWidget*) _data_->_tmp14_);
#line 2512 "MainWindow.c"
		}
	}
#line 675 "../src/MainWindow.vala"
	_data_->_tmp15_ = _data_->self->edit_view;
#line 675 "../src/MainWindow.vala"
	_data_->_tmp16_ = gtk_widget_get_style_context ((GtkWidget*) _data_->_tmp15_);
#line 675 "../src/MainWindow.vala"
	_data_->_tmp17_ = _g_object_ref0 (_data_->_tmp16_);
#line 675 "../src/MainWindow.vala"
	_data_->edit_view_context = _data_->_tmp17_;
#line 676 "../src/MainWindow.vala"
	_data_->_tmp18_ = quilter_application_gsettings;
#line 676 "../src/MainWindow.vala"
	_data_->_tmp19_ = g_settings_get_string (_data_->_tmp18_, "preview-type");
#line 676 "../src/MainWindow.vala"
	_data_->_tmp20_ = _data_->_tmp19_;
#line 676 "../src/MainWindow.vala"
	_data_->_tmp21_ = g_strcmp0 (_data_->_tmp20_, "half") == 0;
#line 676 "../src/MainWindow.vala"
	_g_free0 (_data_->_tmp20_);
#line 676 "../src/MainWindow.vala"
	if (_data_->_tmp21_) {
#line 677 "../src/MainWindow.vala"
		_data_->_tmp22_ = _data_->edit_view_context;
#line 677 "../src/MainWindow.vala"
		gtk_style_context_add_class (_data_->_tmp22_, "edit-view-paned");
#line 2539 "MainWindow.c"
	} else {
#line 679 "../src/MainWindow.vala"
		_data_->_tmp23_ = _data_->edit_view_context;
#line 679 "../src/MainWindow.vala"
		gtk_style_context_remove_class (_data_->_tmp23_, "edit-view-paned");
#line 2545 "MainWindow.c"
	}
#line 682 "../src/MainWindow.vala"
	quilter_main_window_render_func (_data_->self);
#line 644 "../src/MainWindow.vala"
	_g_object_unref0 (_data_->edit_view_context);
#line 644 "../src/MainWindow.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 644 "../src/MainWindow.vala"
	if (_data_->_state_ != 0) {
#line 644 "../src/MainWindow.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 644 "../src/MainWindow.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2559 "MainWindow.c"
		}
	}
#line 644 "../src/MainWindow.vala"
	g_object_unref (_data_->_async_result);
#line 644 "../src/MainWindow.vala"
	return FALSE;
#line 2566 "MainWindow.c"
}

static void
quilter_main_window_change_layout_data_free (gpointer _data)
{
	QuilterMainWindowChangeLayoutData* _data_;
	_data_ = _data;
#line 21 "../src/MainWindow.vala"
	_g_object_unref0 (_data_->self);
#line 21 "../src/MainWindow.vala"
	g_slice_free (QuilterMainWindowChangeLayoutData, _data_);
#line 2578 "MainWindow.c"
}

static void
quilter_main_window_change_layout (QuilterMainWindow* self,
                                   GAsyncReadyCallback _callback_,
                                   gpointer _user_data_)
{
	QuilterMainWindowChangeLayoutData* _data_;
	QuilterMainWindow* _tmp0_;
#line 21 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 21 "../src/MainWindow.vala"
	_data_ = g_slice_new0 (QuilterMainWindowChangeLayoutData);
#line 21 "../src/MainWindow.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 21 "../src/MainWindow.vala"
	g_task_set_task_data (_data_->_async_result, _data_, quilter_main_window_change_layout_data_free);
#line 21 "../src/MainWindow.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 21 "../src/MainWindow.vala"
	_data_->self = _tmp0_;
#line 21 "../src/MainWindow.vala"
	quilter_main_window_change_layout_co (_data_);
#line 2602 "MainWindow.c"
}

static void
quilter_main_window_change_layout_finish (QuilterMainWindow* self,
                                          GAsyncResult* _res_)
{
	QuilterMainWindowChangeLayoutData* _data_;
#line 21 "../src/MainWindow.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 2612 "MainWindow.c"
}

static gboolean
quilter_main_window_change_layout_co (QuilterMainWindowChangeLayoutData* _data_)
{
#line 685 "../src/MainWindow.vala"
	switch (_data_->_state_) {
#line 685 "../src/MainWindow.vala"
		case 0:
#line 2622 "MainWindow.c"
		goto _state_0;
		default:
#line 685 "../src/MainWindow.vala"
		g_assert_not_reached ();
#line 2627 "MainWindow.c"
	}
	_state_0:
#line 686 "../src/MainWindow.vala"
	_data_->_tmp0_ = quilter_application_gsettings;
#line 686 "../src/MainWindow.vala"
	_data_->_tmp1_ = g_settings_get_string (_data_->_tmp0_, "preview-type");
#line 686 "../src/MainWindow.vala"
	_data_->_tmp2_ = _data_->_tmp1_;
#line 686 "../src/MainWindow.vala"
	_data_->_tmp3_ = g_strcmp0 (_data_->_tmp2_, "full") == 0;
#line 686 "../src/MainWindow.vala"
	_g_free0 (_data_->_tmp2_);
#line 686 "../src/MainWindow.vala"
	if (_data_->_tmp3_) {
#line 687 "../src/MainWindow.vala"
		_data_->_tmp4_ = _data_->self->overlay_editor;
#line 687 "../src/MainWindow.vala"
		quilter_main_window_widget_unparent ((GtkWidget*) _data_->_tmp4_);
#line 688 "../src/MainWindow.vala"
		_data_->_tmp5_ = _data_->self->preview_view_content;
#line 688 "../src/MainWindow.vala"
		quilter_main_window_widget_unparent ((GtkWidget*) _data_->_tmp5_);
#line 690 "../src/MainWindow.vala"
		_data_->_tmp6_ = _data_->self->stack;
#line 690 "../src/MainWindow.vala"
		_data_->_tmp7_ = _data_->self->overlay_editor;
#line 690 "../src/MainWindow.vala"
		gtk_stack_add_titled (_data_->_tmp6_, (GtkWidget*) _data_->_tmp7_, "overlay_editor", _ ("Edit"));
#line 691 "../src/MainWindow.vala"
		_data_->_tmp8_ = _data_->self->stack;
#line 691 "../src/MainWindow.vala"
		_data_->_tmp9_ = _data_->self->overlay_editor;
#line 691 "../src/MainWindow.vala"
		memset (&_data_->_tmp10_, 0, sizeof (GValue));
#line 691 "../src/MainWindow.vala"
		g_value_init (&_data_->_tmp10_, G_TYPE_STRING);
#line 691 "../src/MainWindow.vala"
		g_value_set_string (&_data_->_tmp10_, "text-x-generic-symbolic");
#line 691 "../src/MainWindow.vala"
		gtk_container_child_set_property ((GtkContainer*) _data_->_tmp8_, (GtkWidget*) _data_->_tmp9_, "icon-name", &_data_->_tmp10_);
#line 691 "../src/MainWindow.vala"
		G_IS_VALUE (&_data_->_tmp10_) ? (g_value_unset (&_data_->_tmp10_), NULL) : NULL;
#line 692 "../src/MainWindow.vala"
		_data_->_tmp11_ = _data_->self->stack;
#line 692 "../src/MainWindow.vala"
		_data_->_tmp12_ = _data_->self->preview_view_content;
#line 692 "../src/MainWindow.vala"
		gtk_stack_add_titled (_data_->_tmp11_, (GtkWidget*) _data_->_tmp12_, "preview_view", _ ("Preview"));
#line 693 "../src/MainWindow.vala"
		_data_->_tmp13_ = _data_->self->stack;
#line 693 "../src/MainWindow.vala"
		_data_->_tmp14_ = _data_->self->preview_view_content;
#line 693 "../src/MainWindow.vala"
		memset (&_data_->_tmp15_, 0, sizeof (GValue));
#line 693 "../src/MainWindow.vala"
		g_value_init (&_data_->_tmp15_, G_TYPE_STRING);
#line 693 "../src/MainWindow.vala"
		g_value_set_string (&_data_->_tmp15_, "view-reveal-symbolic");
#line 693 "../src/MainWindow.vala"
		gtk_container_child_set_property ((GtkContainer*) _data_->_tmp13_, (GtkWidget*) _data_->_tmp14_, "icon-name", &_data_->_tmp15_);
#line 693 "../src/MainWindow.vala"
		G_IS_VALUE (&_data_->_tmp15_) ? (g_value_unset (&_data_->_tmp15_), NULL) : NULL;
#line 694 "../src/MainWindow.vala"
		_data_->_tmp16_ = _data_->self->main_stack;
#line 694 "../src/MainWindow.vala"
		_data_->_tmp17_ = _data_->self->stack;
#line 694 "../src/MainWindow.vala"
		gtk_stack_set_visible_child (_data_->_tmp16_, (GtkWidget*) _data_->_tmp17_);
#line 2696 "MainWindow.c"
	} else {
#line 696 "../src/MainWindow.vala"
		_data_->_tmp18_ = _data_->self->overlay_editor;
#line 696 "../src/MainWindow.vala"
		quilter_main_window_widget_unparent ((GtkWidget*) _data_->_tmp18_);
#line 697 "../src/MainWindow.vala"
		_data_->_tmp19_ = _data_->self->preview_view_content;
#line 697 "../src/MainWindow.vala"
		quilter_main_window_widget_unparent ((GtkWidget*) _data_->_tmp19_);
#line 699 "../src/MainWindow.vala"
		_data_->_tmp20_ = _data_->self->box;
#line 699 "../src/MainWindow.vala"
		_data_->_tmp21_ = _data_->self->overlay_editor;
#line 699 "../src/MainWindow.vala"
		gtk_container_add ((GtkContainer*) _data_->_tmp20_, (GtkWidget*) _data_->_tmp21_);
#line 700 "../src/MainWindow.vala"
		_data_->_tmp22_ = _data_->self->box;
#line 700 "../src/MainWindow.vala"
		_data_->_tmp23_ = _data_->self->preview_view_content;
#line 700 "../src/MainWindow.vala"
		gtk_container_add ((GtkContainer*) _data_->_tmp22_, (GtkWidget*) _data_->_tmp23_);
#line 701 "../src/MainWindow.vala"
		_data_->_tmp24_ = _data_->self->main_stack;
#line 701 "../src/MainWindow.vala"
		_data_->_tmp25_ = _data_->self->box;
#line 701 "../src/MainWindow.vala"
		gtk_stack_set_visible_child (_data_->_tmp24_, (GtkWidget*) _data_->_tmp25_);
#line 2724 "MainWindow.c"
	}
#line 685 "../src/MainWindow.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 685 "../src/MainWindow.vala"
	if (_data_->_state_ != 0) {
#line 685 "../src/MainWindow.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 685 "../src/MainWindow.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2734 "MainWindow.c"
		}
	}
#line 685 "../src/MainWindow.vala"
	g_object_unref (_data_->_async_result);
#line 685 "../src/MainWindow.vala"
	return FALSE;
#line 2741 "MainWindow.c"
}

static void
_vala_array_add2 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 708 "../src/MainWindow.vala"
	if ((*length) == (*size)) {
#line 708 "../src/MainWindow.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 708 "../src/MainWindow.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2756 "MainWindow.c"
	}
#line 708 "../src/MainWindow.vala"
	(*array)[(*length)++] = value;
#line 708 "../src/MainWindow.vala"
	(*array)[*length] = NULL;
#line 2762 "MainWindow.c"
}

void
quilter_main_window_save_last_files (QuilterMainWindow* self)
{
	gchar** rows = NULL;
	gchar** _tmp0_;
	gint rows_length1;
	gint _rows_size_;
	QuilterWidgetsSideBar* _tmp1_;
	GtkListBox* _tmp2_;
	GList* _tmp3_;
	GSettings* _tmp7_;
	gchar** _tmp8_;
	gint _tmp8__length1;
#line 705 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 706 "../src/MainWindow.vala"
	_tmp0_ = g_new0 (gchar*, 0 + 1);
#line 706 "../src/MainWindow.vala"
	rows = _tmp0_;
#line 706 "../src/MainWindow.vala"
	rows_length1 = 0;
#line 706 "../src/MainWindow.vala"
	_rows_size_ = rows_length1;
#line 707 "../src/MainWindow.vala"
	_tmp1_ = self->sidebar;
#line 707 "../src/MainWindow.vala"
	_tmp2_ = _tmp1_->column;
#line 707 "../src/MainWindow.vala"
	_tmp3_ = gtk_container_get_children ((GtkContainer*) _tmp2_);
#line 2794 "MainWindow.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 707 "../src/MainWindow.vala"
		child_collection = _tmp3_;
#line 707 "../src/MainWindow.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 2802 "MainWindow.c"
			GtkWidget* child = NULL;
#line 707 "../src/MainWindow.vala"
			child = (GtkWidget*) child_it->data;
#line 2806 "MainWindow.c"
			{
				GtkWidget* _tmp4_;
				gchar* _tmp5_;
				gchar* _tmp6_;
#line 708 "../src/MainWindow.vala"
				_tmp4_ = child;
#line 708 "../src/MainWindow.vala"
				_tmp5_ = quilter_widgets_side_bar_box_get_path (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBox));
#line 708 "../src/MainWindow.vala"
				_tmp6_ = _tmp5_;
#line 708 "../src/MainWindow.vala"
				_vala_array_add2 (&rows, &rows_length1, &_rows_size_, _tmp6_);
#line 2819 "MainWindow.c"
			}
		}
#line 707 "../src/MainWindow.vala"
		(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 2824 "MainWindow.c"
	}
#line 710 "../src/MainWindow.vala"
	_tmp7_ = quilter_application_gsettings;
#line 710 "../src/MainWindow.vala"
	_tmp8_ = rows;
#line 710 "../src/MainWindow.vala"
	_tmp8__length1 = rows_length1;
#line 710 "../src/MainWindow.vala"
	g_settings_set_strv (_tmp7_, "last-files", _tmp8_);
#line 705 "../src/MainWindow.vala"
	rows = (_vala_array_free (rows, rows_length1, (GDestroyNotify) g_free), NULL);
#line 2836 "MainWindow.c"
}

static Block1Data*
block1_data_ref (Block1Data* _data1_)
{
#line 713 "../src/MainWindow.vala"
	g_atomic_int_inc (&_data1_->_ref_count_);
#line 713 "../src/MainWindow.vala"
	return _data1_;
#line 2846 "MainWindow.c"
}

static void
block1_data_unref (void * _userdata_)
{
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
#line 713 "../src/MainWindow.vala"
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
#line 2856 "MainWindow.c"
		QuilterMainWindow* self;
#line 713 "../src/MainWindow.vala"
		self = _data1_->self;
#line 713 "../src/MainWindow.vala"
		_g_object_unref0 (_data1_->dialog);
#line 713 "../src/MainWindow.vala"
		_g_object_unref0 (self);
#line 713 "../src/MainWindow.vala"
		g_slice_free (Block1Data, _data1_);
#line 2866 "MainWindow.c"
	}
}

static void
__lambda27_ (Block1Data* _data1_,
             gint response_id)
{
	QuilterMainWindow* self;
#line 717 "../src/MainWindow.vala"
	self = _data1_->self;
#line 718 "../src/MainWindow.vala"
	switch (response_id) {
#line 718 "../src/MainWindow.vala"
		case GTK_RESPONSE_OK:
#line 2881 "MainWindow.c"
		{
			QuilterWidgetsSideBarBox* row = NULL;
			QuilterWidgetsSideBar* _tmp0_;
			QuilterWidgetsSideBarBox* _tmp1_;
			gboolean _tmp2_ = FALSE;
			QuilterWidgetsSideBarBox* _tmp3_;
			QuilterWidgetsEditView* _tmp8_;
			QuilterWidgetsSideBar* _tmp9_;
			QuilterServicesDialogUtilsDialog* _tmp10_;
#line 720 "../src/MainWindow.vala"
			_tmp0_ = self->sidebar;
#line 720 "../src/MainWindow.vala"
			_tmp1_ = quilter_widgets_side_bar_get_selected_row (_tmp0_);
#line 720 "../src/MainWindow.vala"
			row = _tmp1_;
#line 721 "../src/MainWindow.vala"
			_tmp3_ = row;
#line 721 "../src/MainWindow.vala"
			if (_tmp3_ != NULL) {
#line 2901 "MainWindow.c"
				QuilterWidgetsSideBarBox* _tmp4_;
				gchar* _tmp5_;
				gchar* _tmp6_;
				gchar* _tmp7_;
#line 721 "../src/MainWindow.vala"
				_tmp4_ = row;
#line 721 "../src/MainWindow.vala"
				_tmp5_ = quilter_widgets_side_bar_box_get_path (_tmp4_);
#line 721 "../src/MainWindow.vala"
				_tmp6_ = _tmp5_;
#line 721 "../src/MainWindow.vala"
				_tmp7_ = _tmp6_;
#line 721 "../src/MainWindow.vala"
				_tmp2_ = _tmp7_ != NULL;
#line 721 "../src/MainWindow.vala"
				_g_free0 (_tmp7_);
#line 2918 "MainWindow.c"
			} else {
#line 721 "../src/MainWindow.vala"
				_tmp2_ = FALSE;
#line 2922 "MainWindow.c"
			}
#line 721 "../src/MainWindow.vala"
			if (_tmp2_) {
#line 722 "../src/MainWindow.vala"
				quilter_main_window_on_save (self);
#line 2928 "MainWindow.c"
			} else {
#line 724 "../src/MainWindow.vala"
				quilter_main_window_on_save_as (self);
#line 2932 "MainWindow.c"
			}
#line 727 "../src/MainWindow.vala"
			_tmp8_ = self->edit_view_content;
#line 727 "../src/MainWindow.vala"
			quilter_widgets_edit_view_set_modified (_tmp8_, FALSE);
#line 728 "../src/MainWindow.vala"
			_tmp9_ = self->sidebar;
#line 728 "../src/MainWindow.vala"
			quilter_widgets_side_bar_set_is_modified (_tmp9_, FALSE);
#line 729 "../src/MainWindow.vala"
			_tmp10_ = _data1_->dialog;
#line 729 "../src/MainWindow.vala"
			g_signal_emit_by_name ((GtkDialog*) _tmp10_, "close");
#line 730 "../src/MainWindow.vala"
			break;
#line 2948 "MainWindow.c"
		}
#line 718 "../src/MainWindow.vala"
		case GTK_RESPONSE_NO:
#line 2952 "MainWindow.c"
		{
			QuilterWidgetsEditView* _tmp11_;
			QuilterWidgetsSideBar* _tmp12_;
			QuilterServicesDialogUtilsDialog* _tmp13_;
#line 732 "../src/MainWindow.vala"
			_tmp11_ = self->edit_view_content;
#line 732 "../src/MainWindow.vala"
			quilter_widgets_edit_view_set_modified (_tmp11_, FALSE);
#line 733 "../src/MainWindow.vala"
			_tmp12_ = self->sidebar;
#line 733 "../src/MainWindow.vala"
			quilter_widgets_side_bar_set_is_modified (_tmp12_, FALSE);
#line 734 "../src/MainWindow.vala"
			_tmp13_ = _data1_->dialog;
#line 734 "../src/MainWindow.vala"
			g_signal_emit_by_name ((GtkDialog*) _tmp13_, "close");
#line 735 "../src/MainWindow.vala"
			break;
#line 2971 "MainWindow.c"
		}
#line 718 "../src/MainWindow.vala"
		case GTK_RESPONSE_CANCEL:
#line 718 "../src/MainWindow.vala"
		case GTK_RESPONSE_CLOSE:
#line 718 "../src/MainWindow.vala"
		case GTK_RESPONSE_DELETE_EVENT:
#line 2979 "MainWindow.c"
		{
			QuilterServicesDialogUtilsDialog* _tmp14_;
#line 739 "../src/MainWindow.vala"
			_tmp14_ = _data1_->dialog;
#line 739 "../src/MainWindow.vala"
			g_signal_emit_by_name ((GtkDialog*) _tmp14_, "close");
#line 740 "../src/MainWindow.vala"
			return;
#line 2988 "MainWindow.c"
		}
		default:
		{
#line 742 "../src/MainWindow.vala"
			g_assert_not_reached ();
#line 2994 "MainWindow.c"
		}
	}
}

static void
___lambda27__gtk_dialog_response (GtkDialog* _sender,
                                  gint response_id,
                                  gpointer self)
{
#line 717 "../src/MainWindow.vala"
	__lambda27_ (self, response_id);
#line 3006 "MainWindow.c"
}

static void
quilter_main_window_on_create_new (QuilterMainWindow* self)
{
	Block1Data* _data1_;
	QuilterServicesDialogUtilsDialog* _tmp0_;
	QuilterServicesDialogUtilsDialog* _tmp1_;
	QuilterServicesDialogUtilsDialog* _tmp2_;
	QuilterWidgetsEditView* _tmp3_;
	QuilterWidgetsSideBar* _tmp4_;
	QuilterWidgetsEditView* _tmp5_;
	QuilterWidgetsSideBarBox* row = NULL;
	QuilterWidgetsSideBar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	QuilterWidgetsSideBarBox* _tmp9_;
	QuilterWidgetsSideBarBox* _tmp10_;
	QuilterWidgetsHeaderbar* _tmp11_;
	QuilterWidgetsHeaderBarButton* _tmp12_;
	QuilterWidgetsHeaderbar* _tmp13_;
	QuilterWidgetsHeaderBarButton* _tmp14_;
	QuilterWidgetsSideBarBox* _tmp15_;
	QuilterWidgetsSideBarBox* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	QuilterWidgetsSideBarBox* _tmp19_;
	GtkStack* _tmp20_;
	GtkStack* _tmp21_;
	QuilterWidgetsSideBar* _tmp22_;
	GSettings* _tmp23_;
	QuilterWidgetsEditView* _tmp24_;
	gboolean _tmp25_;
	gboolean _tmp26_;
#line 713 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 713 "../src/MainWindow.vala"
	_data1_ = g_slice_new0 (Block1Data);
#line 713 "../src/MainWindow.vala"
	_data1_->_ref_count_ = 1;
#line 713 "../src/MainWindow.vala"
	_data1_->self = g_object_ref (self);
#line 714 "../src/MainWindow.vala"
	_tmp0_ = quilter_services_dialog_utils_dialog_new ();
#line 714 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 714 "../src/MainWindow.vala"
	_data1_->dialog = _tmp0_;
#line 715 "../src/MainWindow.vala"
	_tmp1_ = _data1_->dialog;
#line 715 "../src/MainWindow.vala"
	gtk_window_set_transient_for ((GtkWindow*) _tmp1_, (GtkWindow*) self);
#line 717 "../src/MainWindow.vala"
	_tmp2_ = _data1_->dialog;
#line 717 "../src/MainWindow.vala"
	g_signal_connect_data ((GtkDialog*) _tmp2_, "response", (GCallback) ___lambda27__gtk_dialog_response, block1_data_ref (_data1_), (GClosureNotify) block1_data_unref, 0);
#line 746 "../src/MainWindow.vala"
	quilter_main_window_on_save (self);
#line 747 "../src/MainWindow.vala"
	_tmp3_ = self->edit_view_content;
#line 747 "../src/MainWindow.vala"
	quilter_widgets_edit_view_set_modified (_tmp3_, FALSE);
#line 748 "../src/MainWindow.vala"
	_tmp4_ = self->sidebar;
#line 748 "../src/MainWindow.vala"
	quilter_widgets_side_bar_set_is_modified (_tmp4_, FALSE);
#line 749 "../src/MainWindow.vala"
	quilter_main_window_save_last_files (self);
#line 750 "../src/MainWindow.vala"
	_tmp5_ = self->edit_view_content;
#line 750 "../src/MainWindow.vala"
	quilter_widgets_edit_view_set_text (_tmp5_, "");
#line 751 "../src/MainWindow.vala"
	_tmp6_ = self->sidebar;
#line 751 "../src/MainWindow.vala"
	_tmp7_ = quilter_services_file_manager_get_cache_path ();
#line 751 "../src/MainWindow.vala"
	_tmp8_ = _tmp7_;
#line 751 "../src/MainWindow.vala"
	_tmp9_ = quilter_widgets_side_bar_add_file (_tmp6_, _tmp8_);
#line 751 "../src/MainWindow.vala"
	_tmp10_ = _tmp9_;
#line 751 "../src/MainWindow.vala"
	_g_free0 (_tmp8_);
#line 751 "../src/MainWindow.vala"
	row = _tmp10_;
#line 752 "../src/MainWindow.vala"
	_tmp11_ = self->titlebar;
#line 752 "../src/MainWindow.vala"
	_tmp12_ = _tmp11_->samenu_button;
#line 752 "../src/MainWindow.vala"
	quilter_widgets_header_bar_button_set_title (_tmp12_, _ ("New Document"));
#line 753 "../src/MainWindow.vala"
	_tmp13_ = self->titlebar;
#line 753 "../src/MainWindow.vala"
	_tmp14_ = _tmp13_->samenu_button;
#line 753 "../src/MainWindow.vala"
	quilter_widgets_header_bar_button_set_subtitle (_tmp14_, _ ("Not Saved Yet"));
#line 754 "../src/MainWindow.vala"
	_tmp15_ = row;
#line 754 "../src/MainWindow.vala"
	_tmp16_ = row;
#line 754 "../src/MainWindow.vala"
	_tmp17_ = g_strdup_printf (_ ("New Document-%d.md"), _tmp16_->uid);
#line 754 "../src/MainWindow.vala"
	_tmp18_ = _tmp17_;
#line 754 "../src/MainWindow.vala"
	quilter_widgets_side_bar_box_set_path (_tmp15_, _tmp18_);
#line 754 "../src/MainWindow.vala"
	_g_free0 (_tmp18_);
#line 755 "../src/MainWindow.vala"
	_tmp19_ = row;
#line 755 "../src/MainWindow.vala"
	quilter_widgets_side_bar_box_set_title (_tmp19_, _ ("Not Saved Yet"));
#line 756 "../src/MainWindow.vala"
	_tmp20_ = self->win_stack;
#line 756 "../src/MainWindow.vala"
	gtk_stack_set_visible_child_name (_tmp20_, "doc");
#line 757 "../src/MainWindow.vala"
	_tmp21_ = self->titlebar_stack;
#line 757 "../src/MainWindow.vala"
	gtk_stack_set_visible_child_name (_tmp21_, "title");
#line 758 "../src/MainWindow.vala"
	_tmp22_ = self->sidebar;
#line 758 "../src/MainWindow.vala"
	gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp22_, TRUE);
#line 759 "../src/MainWindow.vala"
	_tmp23_ = quilter_application_gsettings;
#line 759 "../src/MainWindow.vala"
	g_settings_set_boolean (_tmp23_, "sidebar", TRUE);
#line 760 "../src/MainWindow.vala"
	_tmp24_ = self->edit_view_content;
#line 760 "../src/MainWindow.vala"
	_tmp25_ = quilter_widgets_edit_view_get_modified (_tmp24_);
#line 760 "../src/MainWindow.vala"
	_tmp26_ = _tmp25_;
#line 760 "../src/MainWindow.vala"
	if (_tmp26_) {
#line 3145 "MainWindow.c"
		QuilterServicesDialogUtilsDialog* _tmp27_;
#line 761 "../src/MainWindow.vala"
		_tmp27_ = _data1_->dialog;
#line 761 "../src/MainWindow.vala"
		gtk_dialog_run ((GtkDialog*) _tmp27_);
#line 3151 "MainWindow.c"
	}
#line 713 "../src/MainWindow.vala"
	_g_object_unref0 (row);
#line 713 "../src/MainWindow.vala"
	block1_data_unref (_data1_);
#line 713 "../src/MainWindow.vala"
	_data1_ = NULL;
#line 3159 "MainWindow.c"
}

static void
quilter_main_window_on_open (QuilterMainWindow* self)
{
	gchar* contents = NULL;
	gchar* path = NULL;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_;
	QuilterWidgetsSideBar* _tmp2_;
	GtkListBox* _tmp3_;
	GList* _tmp4_;
	GList* _tmp5_;
	gboolean _tmp6_;
	QuilterWidgetsEditView* _tmp29_;
	const gchar* _tmp30_;
	GtkStack* _tmp31_;
	GtkStack* _tmp32_;
	QuilterWidgetsSideBar* _tmp33_;
	GSettings* _tmp34_;
#line 765 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 767 "../src/MainWindow.vala"
	_tmp1_ = quilter_services_file_manager_open (&_tmp0_);
#line 767 "../src/MainWindow.vala"
	_g_free0 (contents);
#line 767 "../src/MainWindow.vala"
	contents = _tmp0_;
#line 767 "../src/MainWindow.vala"
	path = _tmp1_;
#line 769 "../src/MainWindow.vala"
	_tmp2_ = self->sidebar;
#line 769 "../src/MainWindow.vala"
	_tmp3_ = _tmp2_->column;
#line 769 "../src/MainWindow.vala"
	_tmp4_ = gtk_container_get_children ((GtkContainer*) _tmp3_);
#line 769 "../src/MainWindow.vala"
	_tmp5_ = _tmp4_;
#line 769 "../src/MainWindow.vala"
	_tmp6_ = _tmp5_ != NULL;
#line 769 "../src/MainWindow.vala"
	(_tmp5_ == NULL) ? NULL : (_tmp5_ = (g_list_free (_tmp5_), NULL));
#line 769 "../src/MainWindow.vala"
	if (_tmp6_) {
#line 3204 "MainWindow.c"
		QuilterWidgetsSideBar* _tmp7_;
		GtkListBox* _tmp8_;
		GList* _tmp9_;
#line 770 "../src/MainWindow.vala"
		_tmp7_ = self->sidebar;
#line 770 "../src/MainWindow.vala"
		_tmp8_ = _tmp7_->column;
#line 770 "../src/MainWindow.vala"
		_tmp9_ = gtk_container_get_children ((GtkContainer*) _tmp8_);
#line 3214 "MainWindow.c"
		{
			GList* child_collection = NULL;
			GList* child_it = NULL;
#line 770 "../src/MainWindow.vala"
			child_collection = _tmp9_;
#line 770 "../src/MainWindow.vala"
			for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 3222 "MainWindow.c"
				GtkWidget* child = NULL;
#line 770 "../src/MainWindow.vala"
				child = (GtkWidget*) child_it->data;
#line 3226 "MainWindow.c"
				{
					GtkWidget* _tmp10_;
					gchar* _tmp11_;
					gchar* _tmp12_;
					gchar* _tmp13_;
					const gchar* _tmp14_;
					gboolean _tmp15_;
#line 771 "../src/MainWindow.vala"
					_tmp10_ = child;
#line 771 "../src/MainWindow.vala"
					_tmp11_ = quilter_widgets_side_bar_box_get_path (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBox));
#line 771 "../src/MainWindow.vala"
					_tmp12_ = _tmp11_;
#line 771 "../src/MainWindow.vala"
					_tmp13_ = _tmp12_;
#line 771 "../src/MainWindow.vala"
					_tmp14_ = path;
#line 771 "../src/MainWindow.vala"
					_tmp15_ = g_strcmp0 (_tmp13_, _tmp14_) == 0;
#line 771 "../src/MainWindow.vala"
					_g_free0 (_tmp13_);
#line 771 "../src/MainWindow.vala"
					if (_tmp15_) {
#line 3250 "MainWindow.c"
						QuilterWidgetsSideBar* _tmp16_;
						GtkListBox* _tmp17_;
						GtkWidget* _tmp18_;
#line 772 "../src/MainWindow.vala"
						_tmp16_ = self->sidebar;
#line 772 "../src/MainWindow.vala"
						_tmp17_ = _tmp16_->column;
#line 772 "../src/MainWindow.vala"
						_tmp18_ = child;
#line 772 "../src/MainWindow.vala"
						gtk_list_box_select_row (_tmp17_, (GtkListBoxRow*) G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBox));
#line 773 "../src/MainWindow.vala"
						break;
#line 3264 "MainWindow.c"
					} else {
						QuilterWidgetsSideBar* _tmp19_;
						const gchar* _tmp20_;
						QuilterWidgetsSideBarBox* _tmp21_;
						QuilterWidgetsSideBarBox* _tmp22_;
						QuilterWidgetsSideBar* _tmp23_;
#line 775 "../src/MainWindow.vala"
						_tmp19_ = self->sidebar;
#line 775 "../src/MainWindow.vala"
						_tmp20_ = path;
#line 775 "../src/MainWindow.vala"
						_tmp21_ = quilter_widgets_side_bar_add_file (_tmp19_, _tmp20_);
#line 775 "../src/MainWindow.vala"
						_tmp22_ = _tmp21_;
#line 775 "../src/MainWindow.vala"
						_g_object_unref0 (_tmp22_);
#line 776 "../src/MainWindow.vala"
						_tmp23_ = self->sidebar;
#line 776 "../src/MainWindow.vala"
						quilter_widgets_side_bar_set_is_modified (_tmp23_, TRUE);
#line 777 "../src/MainWindow.vala"
						break;
#line 3287 "MainWindow.c"
					}
				}
			}
#line 770 "../src/MainWindow.vala"
			(child_collection == NULL) ? NULL : (child_collection = (g_list_free (child_collection), NULL));
#line 3293 "MainWindow.c"
		}
	} else {
		QuilterWidgetsSideBar* _tmp24_;
		const gchar* _tmp25_;
		QuilterWidgetsSideBarBox* _tmp26_;
		QuilterWidgetsSideBarBox* _tmp27_;
		QuilterWidgetsSideBar* _tmp28_;
#line 781 "../src/MainWindow.vala"
		_tmp24_ = self->sidebar;
#line 781 "../src/MainWindow.vala"
		_tmp25_ = path;
#line 781 "../src/MainWindow.vala"
		_tmp26_ = quilter_widgets_side_bar_add_file (_tmp24_, _tmp25_);
#line 781 "../src/MainWindow.vala"
		_tmp27_ = _tmp26_;
#line 781 "../src/MainWindow.vala"
		_g_object_unref0 (_tmp27_);
#line 782 "../src/MainWindow.vala"
		_tmp28_ = self->sidebar;
#line 782 "../src/MainWindow.vala"
		quilter_widgets_side_bar_set_is_modified (_tmp28_, TRUE);
#line 3315 "MainWindow.c"
	}
#line 784 "../src/MainWindow.vala"
	_tmp29_ = self->edit_view_content;
#line 784 "../src/MainWindow.vala"
	_tmp30_ = contents;
#line 784 "../src/MainWindow.vala"
	quilter_widgets_edit_view_set_text (_tmp29_, _tmp30_);
#line 785 "../src/MainWindow.vala"
	quilter_main_window_save_last_files (self);
#line 786 "../src/MainWindow.vala"
	_tmp31_ = self->win_stack;
#line 786 "../src/MainWindow.vala"
	gtk_stack_set_visible_child_name (_tmp31_, "doc");
#line 787 "../src/MainWindow.vala"
	_tmp32_ = self->titlebar_stack;
#line 787 "../src/MainWindow.vala"
	gtk_stack_set_visible_child_name (_tmp32_, "title");
#line 788 "../src/MainWindow.vala"
	_tmp33_ = self->sidebar;
#line 788 "../src/MainWindow.vala"
	gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp33_, TRUE);
#line 789 "../src/MainWindow.vala"
	_tmp34_ = quilter_application_gsettings;
#line 789 "../src/MainWindow.vala"
	g_settings_set_boolean (_tmp34_, "sidebar", TRUE);
#line 765 "../src/MainWindow.vala"
	_g_free0 (path);
#line 765 "../src/MainWindow.vala"
	_g_free0 (contents);
#line 3345 "MainWindow.c"
}

void
quilter_main_window_on_save (QuilterMainWindow* self)
{
	QuilterWidgetsSideBarBox* row = NULL;
	QuilterWidgetsSideBar* _tmp0_;
	QuilterWidgetsSideBarBox* _tmp1_;
	QuilterWidgetsSideBarBox* _tmp2_;
	GError* _inner_error0_ = NULL;
#line 792 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 793 "../src/MainWindow.vala"
	_tmp0_ = self->sidebar;
#line 793 "../src/MainWindow.vala"
	_tmp1_ = quilter_widgets_side_bar_get_selected_row (_tmp0_);
#line 793 "../src/MainWindow.vala"
	row = _tmp1_;
#line 794 "../src/MainWindow.vala"
	_tmp2_ = row;
#line 794 "../src/MainWindow.vala"
	if (_tmp2_ != NULL) {
#line 3368 "MainWindow.c"
		{
			QuilterWidgetsSideBarBox* _tmp3_;
			gchar* _tmp4_;
			gchar* _tmp5_;
			gchar* _tmp6_;
			QuilterWidgetsEditView* _tmp7_;
			gchar* _tmp8_;
			gchar* _tmp9_;
			gchar* _tmp10_;
			QuilterWidgetsEditView* _tmp11_;
#line 796 "../src/MainWindow.vala"
			_tmp3_ = row;
#line 796 "../src/MainWindow.vala"
			_tmp4_ = quilter_widgets_side_bar_box_get_path (_tmp3_);
#line 796 "../src/MainWindow.vala"
			_tmp5_ = _tmp4_;
#line 796 "../src/MainWindow.vala"
			_tmp6_ = _tmp5_;
#line 796 "../src/MainWindow.vala"
			_tmp7_ = self->edit_view_content;
#line 796 "../src/MainWindow.vala"
			_tmp8_ = quilter_widgets_edit_view_get_text (_tmp7_);
#line 796 "../src/MainWindow.vala"
			_tmp9_ = _tmp8_;
#line 796 "../src/MainWindow.vala"
			_tmp10_ = _tmp9_;
#line 796 "../src/MainWindow.vala"
			quilter_services_file_manager_save_file (_tmp6_, _tmp10_, &_inner_error0_);
#line 796 "../src/MainWindow.vala"
			_g_free0 (_tmp10_);
#line 796 "../src/MainWindow.vala"
			_g_free0 (_tmp6_);
#line 796 "../src/MainWindow.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 3403 "MainWindow.c"
				goto __catch0_g_error;
			}
#line 797 "../src/MainWindow.vala"
			_tmp11_ = self->edit_view_content;
#line 797 "../src/MainWindow.vala"
			quilter_widgets_edit_view_set_modified (_tmp11_, FALSE);
#line 3410 "MainWindow.c"
		}
		goto __finally0;
		__catch0_g_error:
		{
			GError* e = NULL;
			GError* _tmp12_;
			const gchar* _tmp13_;
			gchar* _tmp14_;
			gchar* _tmp15_;
#line 795 "../src/MainWindow.vala"
			e = _inner_error0_;
#line 795 "../src/MainWindow.vala"
			_inner_error0_ = NULL;
#line 799 "../src/MainWindow.vala"
			_tmp12_ = e;
#line 799 "../src/MainWindow.vala"
			_tmp13_ = _tmp12_->message;
#line 799 "../src/MainWindow.vala"
			_tmp14_ = g_strconcat ("Unexpected error during save: ", _tmp13_, NULL);
#line 799 "../src/MainWindow.vala"
			_tmp15_ = _tmp14_;
#line 799 "../src/MainWindow.vala"
			g_warning ("MainWindow.vala:799: %s", _tmp15_);
#line 799 "../src/MainWindow.vala"
			_g_free0 (_tmp15_);
#line 795 "../src/MainWindow.vala"
			_g_error_free0 (e);
#line 3438 "MainWindow.c"
		}
		__finally0:
#line 795 "../src/MainWindow.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 795 "../src/MainWindow.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 795 "../src/MainWindow.vala"
			g_clear_error (&_inner_error0_);
#line 795 "../src/MainWindow.vala"
			return;
#line 3449 "MainWindow.c"
		}
	}
}

static void
quilter_main_window_on_save_as (QuilterMainWindow* self)
{
	QuilterWidgetsSideBarBox* row = NULL;
	QuilterWidgetsSideBar* _tmp0_;
	QuilterWidgetsSideBarBox* _tmp1_;
	QuilterWidgetsSideBarBox* _tmp2_;
	GError* _inner_error0_ = NULL;
#line 804 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 805 "../src/MainWindow.vala"
	_tmp0_ = self->sidebar;
#line 805 "../src/MainWindow.vala"
	_tmp1_ = quilter_widgets_side_bar_get_selected_row (_tmp0_);
#line 805 "../src/MainWindow.vala"
	row = _tmp1_;
#line 806 "../src/MainWindow.vala"
	_tmp2_ = row;
#line 806 "../src/MainWindow.vala"
	if (_tmp2_ != NULL) {
#line 3474 "MainWindow.c"
		{
			gchar* fpath = NULL;
			QuilterWidgetsEditView* _tmp3_;
			gchar* _tmp4_;
			gchar* _tmp5_;
			gchar* _tmp6_;
			gchar* _tmp7_ = NULL;
			QuilterWidgetsEditView* _tmp8_;
			QuilterWidgetsSideBar* _tmp9_;
			GtkListBox* _tmp10_;
			GtkListBoxRow* _tmp11_;
			QuilterWidgetsSideBar* _tmp12_;
			const gchar* _tmp13_;
			QuilterWidgetsSideBarBox* _tmp14_;
			QuilterWidgetsSideBarBox* _tmp15_;
#line 809 "../src/MainWindow.vala"
			_tmp3_ = self->edit_view_content;
#line 809 "../src/MainWindow.vala"
			_tmp4_ = quilter_widgets_edit_view_get_text (_tmp3_);
#line 809 "../src/MainWindow.vala"
			_tmp5_ = _tmp4_;
#line 809 "../src/MainWindow.vala"
			_tmp6_ = _tmp5_;
#line 809 "../src/MainWindow.vala"
			quilter_services_file_manager_save_as (_tmp6_, &_tmp7_, &_inner_error0_);
#line 809 "../src/MainWindow.vala"
			_g_free0 (fpath);
#line 809 "../src/MainWindow.vala"
			fpath = _tmp7_;
#line 809 "../src/MainWindow.vala"
			_g_free0 (_tmp6_);
#line 809 "../src/MainWindow.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 809 "../src/MainWindow.vala"
				_g_free0 (fpath);
#line 3510 "MainWindow.c"
				goto __catch0_g_error;
			}
#line 810 "../src/MainWindow.vala"
			_tmp8_ = self->edit_view_content;
#line 810 "../src/MainWindow.vala"
			quilter_widgets_edit_view_set_modified (_tmp8_, FALSE);
#line 811 "../src/MainWindow.vala"
			_tmp9_ = self->sidebar;
#line 811 "../src/MainWindow.vala"
			_tmp10_ = _tmp9_->column;
#line 811 "../src/MainWindow.vala"
			_tmp11_ = gtk_list_box_get_selected_row (_tmp10_);
#line 811 "../src/MainWindow.vala"
			gtk_widget_destroy ((GtkWidget*) G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, QUILTER_WIDGETS_TYPE_SIDE_BAR_BOX, QuilterWidgetsSideBarBox));
#line 812 "../src/MainWindow.vala"
			_tmp12_ = self->sidebar;
#line 812 "../src/MainWindow.vala"
			_tmp13_ = fpath;
#line 812 "../src/MainWindow.vala"
			_tmp14_ = quilter_widgets_side_bar_add_file (_tmp12_, _tmp13_);
#line 812 "../src/MainWindow.vala"
			_tmp15_ = _tmp14_;
#line 812 "../src/MainWindow.vala"
			_g_object_unref0 (_tmp15_);
#line 807 "../src/MainWindow.vala"
			_g_free0 (fpath);
#line 3537 "MainWindow.c"
		}
		goto __finally0;
		__catch0_g_error:
		{
			GError* e = NULL;
			GError* _tmp16_;
			const gchar* _tmp17_;
			gchar* _tmp18_;
			gchar* _tmp19_;
#line 807 "../src/MainWindow.vala"
			e = _inner_error0_;
#line 807 "../src/MainWindow.vala"
			_inner_error0_ = NULL;
#line 814 "../src/MainWindow.vala"
			_tmp16_ = e;
#line 814 "../src/MainWindow.vala"
			_tmp17_ = _tmp16_->message;
#line 814 "../src/MainWindow.vala"
			_tmp18_ = g_strconcat ("Unexpected error during save: ", _tmp17_, NULL);
#line 814 "../src/MainWindow.vala"
			_tmp19_ = _tmp18_;
#line 814 "../src/MainWindow.vala"
			g_warning ("MainWindow.vala:814: %s", _tmp19_);
#line 814 "../src/MainWindow.vala"
			_g_free0 (_tmp19_);
#line 807 "../src/MainWindow.vala"
			_g_error_free0 (e);
#line 3565 "MainWindow.c"
		}
		__finally0:
#line 807 "../src/MainWindow.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 807 "../src/MainWindow.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 807 "../src/MainWindow.vala"
			g_clear_error (&_inner_error0_);
#line 807 "../src/MainWindow.vala"
			return;
#line 3576 "MainWindow.c"
		}
	}
}

void
quilter_main_window_action_about (QuilterMainWindow* self)
{
#line 820 "../src/MainWindow.vala"
	static const char COPYRIGHT[] = "Copyright \xc2\xa9 2017-2021 Paulo \"Lains\" Galardi\n";
#line 822 "../src/MainWindow.vala"
	static const gchar* AUTHORS[1] = {"Paulo \"Lains\" Galardi"};
#line 3588 "MainWindow.c"
	gchar* program_name = NULL;
	gchar* _tmp0_;
#line 819 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 826 "../src/MainWindow.vala"
	_tmp0_ = g_strconcat (NAME_PREFIX, _ ("Quilter"), NULL);
#line 826 "../src/MainWindow.vala"
	program_name = _tmp0_;
#line 827 "../src/MainWindow.vala"
	gtk_show_about_dialog ((GtkWindow*) self, "program-name", program_name, "logo-icon-name", APP_ID, "version", VERSION, "comments", _ ("Focus on your writing."), "copyright", COPYRIGHT, "authors", AUTHORS, "artists", NULL, "license-type", GTK_LICENSE_GPL_3_0, "wrap-license", FALSE, "translator-credits", _ ("translator-credits"), NULL, NULL);
#line 819 "../src/MainWindow.vala"
	_g_free0 (program_name);
#line 3601 "MainWindow.c"
}

GSimpleActionGroup*
quilter_main_window_get_actions (QuilterMainWindow* self)
{
	GSimpleActionGroup* result;
	GSimpleActionGroup* _tmp0_;
#line 45 "../src/MainWindow.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 45 "../src/MainWindow.vala"
	_tmp0_ = self->priv->_actions;
#line 45 "../src/MainWindow.vala"
	result = _tmp0_;
#line 45 "../src/MainWindow.vala"
	return result;
#line 3617 "MainWindow.c"
}

static void
quilter_main_window_set_actions (QuilterMainWindow* self,
                                 GSimpleActionGroup* value)
{
#line 45 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 45 "../src/MainWindow.vala"
	if (quilter_main_window_get_actions (self) != value) {
#line 3628 "MainWindow.c"
		GSimpleActionGroup* _tmp0_;
#line 45 "../src/MainWindow.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 45 "../src/MainWindow.vala"
		_g_object_unref0 (self->priv->_actions);
#line 45 "../src/MainWindow.vala"
		self->priv->_actions = _tmp0_;
#line 45 "../src/MainWindow.vala"
		g_object_notify_by_pspec ((GObject *) self, quilter_main_window_properties[QUILTER_MAIN_WINDOW_ACTIONS_PROPERTY]);
#line 3638 "MainWindow.c"
	}
}

QuilterApplication*
quilter_main_window_get_app (QuilterMainWindow* self)
{
	QuilterApplication* result;
	QuilterApplication* _tmp0_;
#line 61 "../src/MainWindow.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 61 "../src/MainWindow.vala"
	_tmp0_ = self->priv->_app;
#line 61 "../src/MainWindow.vala"
	result = _tmp0_;
#line 61 "../src/MainWindow.vala"
	return result;
#line 3655 "MainWindow.c"
}

static void
quilter_main_window_set_app (QuilterMainWindow* self,
                             QuilterApplication* value)
{
#line 61 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 61 "../src/MainWindow.vala"
	if (quilter_main_window_get_app (self) != value) {
#line 61 "../src/MainWindow.vala"
		self->priv->_app = value;
#line 61 "../src/MainWindow.vala"
		g_object_notify_by_pspec ((GObject *) self, quilter_main_window_properties[QUILTER_MAIN_WINDOW_APP_PROPERTY]);
#line 3670 "MainWindow.c"
	}
}

static void
_g_free0_ (gpointer var)
{
#line 84 "../src/MainWindow.vala"
	var = (g_free (var), NULL);
#line 3679 "MainWindow.c"
}

static inline void
_g_list_free__g_free0_ (GList* self)
{
#line 84 "../src/MainWindow.vala"
	g_list_free_full (self, (GDestroyNotify) _g_free0_);
#line 3687 "MainWindow.c"
}

void
quilter_main_window_set_spellcheck (QuilterMainWindow* self,
                                    gboolean value)
{
	GError* _inner_error0_ = NULL;
#line 75 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 76 "../src/MainWindow.vala"
	if (value) {
#line 3699 "MainWindow.c"
		{
			gchar* last_language = NULL;
			GSettings* _tmp0_;
			gchar* _tmp1_;
			GList* language_list = NULL;
			GList* _tmp2_;
			gboolean language_set = FALSE;
			GList* _tmp3_;
			GList* _tmp9_;
			GtkSpellChecker* _tmp17_;
			QuilterWidgetsEditView* _tmp18_;
#line 78 "../src/MainWindow.vala"
			_tmp0_ = quilter_application_gsettings;
#line 78 "../src/MainWindow.vala"
			_tmp1_ = g_settings_get_string (_tmp0_, "spellcheck-language");
#line 78 "../src/MainWindow.vala"
			last_language = _tmp1_;
#line 79 "../src/MainWindow.vala"
			_tmp2_ = gtk_spell_checker_get_language_list ();
#line 79 "../src/MainWindow.vala"
			language_list = _tmp2_;
#line 81 "../src/MainWindow.vala"
			language_set = FALSE;
#line 82 "../src/MainWindow.vala"
			_tmp3_ = language_list;
#line 3725 "MainWindow.c"
			{
				GList* element_collection = NULL;
				GList* element_it = NULL;
#line 82 "../src/MainWindow.vala"
				element_collection = _tmp3_;
#line 82 "../src/MainWindow.vala"
				for (element_it = element_collection; element_it != NULL; element_it = element_it->next) {
#line 3733 "MainWindow.c"
					gchar* _tmp4_;
					gchar* element = NULL;
#line 82 "../src/MainWindow.vala"
					_tmp4_ = g_strdup ((const gchar*) element_it->data);
#line 82 "../src/MainWindow.vala"
					element = _tmp4_;
#line 3740 "MainWindow.c"
					{
						const gchar* _tmp5_;
						const gchar* _tmp6_;
#line 83 "../src/MainWindow.vala"
						_tmp5_ = last_language;
#line 83 "../src/MainWindow.vala"
						_tmp6_ = element;
#line 83 "../src/MainWindow.vala"
						if (g_strcmp0 (_tmp5_, _tmp6_) == 0) {
#line 3750 "MainWindow.c"
							GtkSpellChecker* _tmp7_;
							const gchar* _tmp8_;
#line 84 "../src/MainWindow.vala"
							_tmp7_ = self->priv->spell;
#line 84 "../src/MainWindow.vala"
							_tmp8_ = last_language;
#line 84 "../src/MainWindow.vala"
							gtk_spell_checker_set_language (_tmp7_, _tmp8_, &_inner_error0_);
#line 84 "../src/MainWindow.vala"
							if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 84 "../src/MainWindow.vala"
								_g_free0 (element);
#line 84 "../src/MainWindow.vala"
								(language_list == NULL) ? NULL : (language_list = (_g_list_free__g_free0_ (language_list), NULL));
#line 84 "../src/MainWindow.vala"
								_g_free0 (last_language);
#line 3767 "MainWindow.c"
								goto __catch0_g_error;
							}
#line 85 "../src/MainWindow.vala"
							language_set = TRUE;
#line 86 "../src/MainWindow.vala"
							_g_free0 (element);
#line 86 "../src/MainWindow.vala"
							break;
#line 3776 "MainWindow.c"
						}
#line 82 "../src/MainWindow.vala"
						_g_free0 (element);
#line 3780 "MainWindow.c"
					}
				}
			}
#line 90 "../src/MainWindow.vala"
			_tmp9_ = language_list;
#line 90 "../src/MainWindow.vala"
			if (g_list_length (_tmp9_) == ((guint) 0)) {
#line 3788 "MainWindow.c"
				GtkSpellChecker* _tmp10_;
#line 91 "../src/MainWindow.vala"
				_tmp10_ = self->priv->spell;
#line 91 "../src/MainWindow.vala"
				gtk_spell_checker_set_language (_tmp10_, NULL, &_inner_error0_);
#line 91 "../src/MainWindow.vala"
				if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 91 "../src/MainWindow.vala"
					(language_list == NULL) ? NULL : (language_list = (_g_list_free__g_free0_ (language_list), NULL));
#line 91 "../src/MainWindow.vala"
					_g_free0 (last_language);
#line 3800 "MainWindow.c"
					goto __catch0_g_error;
				}
			} else {
#line 92 "../src/MainWindow.vala"
				if (!language_set) {
#line 3806 "MainWindow.c"
					GList* _tmp11_;
					GList* _tmp12_;
					gconstpointer _tmp13_;
					gchar* _tmp14_;
					GtkSpellChecker* _tmp15_;
					const gchar* _tmp16_;
#line 93 "../src/MainWindow.vala"
					_tmp11_ = language_list;
#line 93 "../src/MainWindow.vala"
					_tmp12_ = g_list_first (_tmp11_);
#line 93 "../src/MainWindow.vala"
					_tmp13_ = _tmp12_->data;
#line 93 "../src/MainWindow.vala"
					_tmp14_ = g_strdup ((const gchar*) _tmp13_);
#line 93 "../src/MainWindow.vala"
					_g_free0 (last_language);
#line 93 "../src/MainWindow.vala"
					last_language = _tmp14_;
#line 94 "../src/MainWindow.vala"
					_tmp15_ = self->priv->spell;
#line 94 "../src/MainWindow.vala"
					_tmp16_ = last_language;
#line 94 "../src/MainWindow.vala"
					gtk_spell_checker_set_language (_tmp15_, _tmp16_, &_inner_error0_);
#line 94 "../src/MainWindow.vala"
					if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 94 "../src/MainWindow.vala"
						(language_list == NULL) ? NULL : (language_list = (_g_list_free__g_free0_ (language_list), NULL));
#line 94 "../src/MainWindow.vala"
						_g_free0 (last_language);
#line 3837 "MainWindow.c"
						goto __catch0_g_error;
					}
				}
			}
#line 96 "../src/MainWindow.vala"
			_tmp17_ = self->priv->spell;
#line 96 "../src/MainWindow.vala"
			_tmp18_ = self->edit_view_content;
#line 96 "../src/MainWindow.vala"
			gtk_spell_checker_attach (_tmp17_, (GtkTextView*) _tmp18_);
#line 77 "../src/MainWindow.vala"
			(language_list == NULL) ? NULL : (language_list = (_g_list_free__g_free0_ (language_list), NULL));
#line 77 "../src/MainWindow.vala"
			_g_free0 (last_language);
#line 3852 "MainWindow.c"
		}
		goto __finally0;
		__catch0_g_error:
		{
			GError* e = NULL;
			GError* _tmp19_;
			const gchar* _tmp20_;
#line 77 "../src/MainWindow.vala"
			e = _inner_error0_;
#line 77 "../src/MainWindow.vala"
			_inner_error0_ = NULL;
#line 98 "../src/MainWindow.vala"
			_tmp19_ = e;
#line 98 "../src/MainWindow.vala"
			_tmp20_ = _tmp19_->message;
#line 98 "../src/MainWindow.vala"
			g_warning ("MainWindow.vala:98: %s", _tmp20_);
#line 77 "../src/MainWindow.vala"
			_g_error_free0 (e);
#line 3872 "MainWindow.c"
		}
		__finally0:
#line 77 "../src/MainWindow.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 77 "../src/MainWindow.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 77 "../src/MainWindow.vala"
			g_clear_error (&_inner_error0_);
#line 77 "../src/MainWindow.vala"
			return;
#line 3883 "MainWindow.c"
		}
	} else {
		GtkSpellChecker* _tmp21_;
#line 101 "../src/MainWindow.vala"
		_tmp21_ = self->priv->spell;
#line 101 "../src/MainWindow.vala"
		gtk_spell_checker_detach (_tmp21_);
#line 3891 "MainWindow.c"
	}
#line 75 "../src/MainWindow.vala"
	g_object_notify_by_pspec ((GObject *) self, quilter_main_window_properties[QUILTER_MAIN_WINDOW_SPELLCHECK_PROPERTY]);
#line 3895 "MainWindow.c"
}

gboolean
quilter_main_window_get_is_fullscreen (QuilterMainWindow* self)
{
	gboolean result;
	GSettings* _tmp0_;
#line 107 "../src/MainWindow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 108 "../src/MainWindow.vala"
	_tmp0_ = quilter_application_gsettings;
#line 108 "../src/MainWindow.vala"
	result = g_settings_get_boolean (_tmp0_, "fullscreen");
#line 108 "../src/MainWindow.vala"
	return result;
#line 3911 "MainWindow.c"
}

void
quilter_main_window_set_is_fullscreen (QuilterMainWindow* self,
                                       gboolean value)
{
	GSettings* _tmp0_;
#line 110 "../src/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 111 "../src/MainWindow.vala"
	_tmp0_ = quilter_application_gsettings;
#line 111 "../src/MainWindow.vala"
	g_settings_set_boolean (_tmp0_, "fullscreen", value);
#line 112 "../src/MainWindow.vala"
	if (value) {
#line 3927 "MainWindow.c"
		GSettings* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gboolean _tmp4_;
		GtkStyleContext* buffer_context = NULL;
		QuilterWidgetsEditView* _tmp6_;
		GtkStyleContext* _tmp7_;
		GtkStyleContext* _tmp8_;
		GtkStyleContext* _tmp9_;
		GtkStyleContext* _tmp10_;
		GtkStyleContext* sb_context = NULL;
		QuilterWidgetsStatusBar* _tmp11_;
		GtkActionBar* _tmp12_;
		GtkStyleContext* _tmp13_;
		GtkStyleContext* _tmp14_;
		GtkStyleContext* _tmp15_;
		GtkStyleContext* _tmp16_;
		QuilterWidgetsSideBar* _tmp17_;
#line 113 "../src/MainWindow.vala"
		gtk_window_fullscreen ((GtkWindow*) self);
#line 114 "../src/MainWindow.vala"
		_tmp1_ = quilter_application_gsettings;
#line 114 "../src/MainWindow.vala"
		_tmp2_ = g_settings_get_string (_tmp1_, "preview-type");
#line 114 "../src/MainWindow.vala"
		_tmp3_ = _tmp2_;
#line 114 "../src/MainWindow.vala"
		_tmp4_ = g_strcmp0 (_tmp3_, "full") != 0;
#line 114 "../src/MainWindow.vala"
		_g_free0 (_tmp3_);
#line 114 "../src/MainWindow.vala"
		if (_tmp4_) {
#line 3960 "MainWindow.c"
			GSettings* _tmp5_;
#line 115 "../src/MainWindow.vala"
			_tmp5_ = quilter_application_gsettings;
#line 115 "../src/MainWindow.vala"
			g_settings_set_string (_tmp5_, "preview-type", "full");
#line 3966 "MainWindow.c"
		}
#line 117 "../src/MainWindow.vala"
		_tmp6_ = self->edit_view_content;
#line 117 "../src/MainWindow.vala"
		_tmp7_ = gtk_widget_get_style_context ((GtkWidget*) _tmp6_);
#line 117 "../src/MainWindow.vala"
		_tmp8_ = _g_object_ref0 (_tmp7_);
#line 117 "../src/MainWindow.vala"
		buffer_context = _tmp8_;
#line 118 "../src/MainWindow.vala"
		_tmp9_ = buffer_context;
#line 118 "../src/MainWindow.vala"
		gtk_style_context_add_class (_tmp9_, "full-text");
#line 119 "../src/MainWindow.vala"
		_tmp10_ = buffer_context;
#line 119 "../src/MainWindow.vala"
		gtk_style_context_remove_class (_tmp10_, "small-text");
#line 120 "../src/MainWindow.vala"
		_tmp11_ = self->statusbar;
#line 120 "../src/MainWindow.vala"
		_tmp12_ = _tmp11_->actionbar;
#line 120 "../src/MainWindow.vala"
		_tmp13_ = gtk_widget_get_style_context ((GtkWidget*) _tmp12_);
#line 120 "../src/MainWindow.vala"
		_tmp14_ = _g_object_ref0 (_tmp13_);
#line 120 "../src/MainWindow.vala"
		sb_context = _tmp14_;
#line 121 "../src/MainWindow.vala"
		_tmp15_ = sb_context;
#line 121 "../src/MainWindow.vala"
		gtk_style_context_add_class (_tmp15_, "full-bar");
#line 122 "../src/MainWindow.vala"
		_tmp16_ = sb_context;
#line 122 "../src/MainWindow.vala"
		gtk_style_context_remove_class (_tmp16_, "statusbar");
#line 123 "../src/MainWindow.vala"
		_tmp17_ = self->sidebar;
#line 123 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp17_, FALSE);
#line 112 "../src/MainWindow.vala"
		_g_object_unref0 (sb_context);
#line 112 "../src/MainWindow.vala"
		_g_object_unref0 (buffer_context);
#line 4010 "MainWindow.c"
	} else {
		GtkStyleContext* buffer_context = NULL;
		QuilterWidgetsEditView* _tmp18_;
		GtkStyleContext* _tmp19_;
		GtkStyleContext* _tmp20_;
		GtkStyleContext* _tmp21_;
		GtkStyleContext* _tmp22_;
		GtkStyleContext* sb_context = NULL;
		QuilterWidgetsStatusBar* _tmp23_;
		GtkActionBar* _tmp24_;
		GtkStyleContext* _tmp25_;
		GtkStyleContext* _tmp26_;
		GtkStyleContext* _tmp27_;
		GtkStyleContext* _tmp28_;
		QuilterWidgetsSideBar* _tmp29_;
#line 125 "../src/MainWindow.vala"
		gtk_window_unfullscreen ((GtkWindow*) self);
#line 126 "../src/MainWindow.vala"
		_tmp18_ = self->edit_view_content;
#line 126 "../src/MainWindow.vala"
		_tmp19_ = gtk_widget_get_style_context ((GtkWidget*) _tmp18_);
#line 126 "../src/MainWindow.vala"
		_tmp20_ = _g_object_ref0 (_tmp19_);
#line 126 "../src/MainWindow.vala"
		buffer_context = _tmp20_;
#line 127 "../src/MainWindow.vala"
		_tmp21_ = buffer_context;
#line 127 "../src/MainWindow.vala"
		gtk_style_context_add_class (_tmp21_, "small-text");
#line 128 "../src/MainWindow.vala"
		_tmp22_ = buffer_context;
#line 128 "../src/MainWindow.vala"
		gtk_style_context_remove_class (_tmp22_, "full-text");
#line 129 "../src/MainWindow.vala"
		_tmp23_ = self->statusbar;
#line 129 "../src/MainWindow.vala"
		_tmp24_ = _tmp23_->actionbar;
#line 129 "../src/MainWindow.vala"
		_tmp25_ = gtk_widget_get_style_context ((GtkWidget*) _tmp24_);
#line 129 "../src/MainWindow.vala"
		_tmp26_ = _g_object_ref0 (_tmp25_);
#line 129 "../src/MainWindow.vala"
		sb_context = _tmp26_;
#line 130 "../src/MainWindow.vala"
		_tmp27_ = sb_context;
#line 130 "../src/MainWindow.vala"
		gtk_style_context_remove_class (_tmp27_, "full-bar");
#line 131 "../src/MainWindow.vala"
		_tmp28_ = sb_context;
#line 131 "../src/MainWindow.vala"
		gtk_style_context_add_class (_tmp28_, "statusbar");
#line 132 "../src/MainWindow.vala"
		_tmp29_ = self->sidebar;
#line 132 "../src/MainWindow.vala"
		gtk_revealer_set_reveal_child ((GtkRevealer*) _tmp29_, TRUE);
#line 112 "../src/MainWindow.vala"
		_g_object_unref0 (sb_context);
#line 112 "../src/MainWindow.vala"
		_g_object_unref0 (buffer_context);
#line 4070 "MainWindow.c"
	}
#line 110 "../src/MainWindow.vala"
	g_object_notify_by_pspec ((GObject *) self, quilter_main_window_properties[QUILTER_MAIN_WINDOW_IS_FULLSCREEN_PROPERTY]);
#line 4074 "MainWindow.c"
}

static void
_vala_array_add3 (gchar** * array,
                  gint* length,
                  gint* size,
                  gchar* value)
{
#line 320 "../src/MainWindow.vala"
	if ((*length) == (*size)) {
#line 320 "../src/MainWindow.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 320 "../src/MainWindow.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 4089 "MainWindow.c"
	}
#line 320 "../src/MainWindow.vala"
	(*array)[(*length)++] = value;
#line 320 "../src/MainWindow.vala"
	(*array)[*length] = NULL;
#line 4095 "MainWindow.c"
}

static void
_quilter_main_window_on_open_quilter_widgets_headerbar_open (QuilterWidgetsHeaderbar* _sender,
                                                             gpointer self)
{
#line 342 "../src/MainWindow.vala"
	quilter_main_window_on_open ((QuilterMainWindow*) self);
#line 4104 "MainWindow.c"
}

static void
_quilter_main_window_on_save_quilter_widgets_headerbar_save (QuilterWidgetsHeaderbar* _sender,
                                                             gpointer self)
{
#line 343 "../src/MainWindow.vala"
	quilter_main_window_on_save ((QuilterMainWindow*) self);
#line 4113 "MainWindow.c"
}

static void
_quilter_main_window_on_save_as_quilter_widgets_headerbar_save_as (QuilterWidgetsHeaderbar* _sender,
                                                                   gpointer self)
{
#line 344 "../src/MainWindow.vala"
	quilter_main_window_on_save_as ((QuilterMainWindow*) self);
#line 4122 "MainWindow.c"
}

static void
_quilter_main_window_on_create_new_quilter_widgets_headerbar_create_new (QuilterWidgetsHeaderbar* _sender,
                                                                         gpointer self)
{
#line 345 "../src/MainWindow.vala"
	quilter_main_window_on_create_new ((QuilterMainWindow*) self);
#line 4131 "MainWindow.c"
}

static void
_quilter_main_window_on_save_quilter_widgets_edit_view_save (QuilterWidgetsEditView* _sender,
                                                             gpointer self)
{
#line 365 "../src/MainWindow.vala"
	quilter_main_window_on_save ((QuilterMainWindow*) self);
#line 4140 "MainWindow.c"
}

static void
_quilter_main_window___lambda28_ (QuilterMainWindow* self)
{
#line 396 "../src/MainWindow.vala"
	quilter_main_window_on_create_new (self);
#line 4148 "MainWindow.c"
}

static void
__quilter_main_window___lambda28__gtk_button_clicked (GtkButton* _sender,
                                                      gpointer self)
{
#line 396 "../src/MainWindow.vala"
	_quilter_main_window___lambda28_ ((QuilterMainWindow*) self);
#line 4157 "MainWindow.c"
}

static void
_quilter_main_window___lambda29_ (QuilterMainWindow* self)
{
#line 402 "../src/MainWindow.vala"
	quilter_main_window_on_open (self);
#line 4165 "MainWindow.c"
}

static void
__quilter_main_window___lambda29__gtk_button_clicked (GtkButton* _sender,
                                                      gpointer self)
{
#line 402 "../src/MainWindow.vala"
	_quilter_main_window___lambda29_ ((QuilterMainWindow*) self);
#line 4174 "MainWindow.c"
}

static void
_quilter_main_window___lambda30_ (QuilterMainWindow* self)
{
#line 422 "../src/MainWindow.vala"
	quilter_main_window_on_save_as (self);
#line 4182 "MainWindow.c"
}

static void
__quilter_main_window___lambda30__quilter_widgets_side_bar_save_as (QuilterWidgetsSideBar* _sender,
                                                                    gpointer self)
{
#line 422 "../src/MainWindow.vala"
	_quilter_main_window___lambda30_ ((QuilterMainWindow*) self);
#line 4191 "MainWindow.c"
}

static void
_quilter_main_window___lambda31_ (QuilterMainWindow* self)
{
	GSettings* _tmp0_;
#line 450 "../src/MainWindow.vala"
	_tmp0_ = quilter_application_gsettings;
#line 450 "../src/MainWindow.vala"
	g_settings_set_boolean (_tmp0_, "focus-mode", FALSE);
#line 4202 "MainWindow.c"
}

static void
__quilter_main_window___lambda31__gtk_button_clicked (GtkButton* _sender,
                                                      gpointer self)
{
#line 449 "../src/MainWindow.vala"
	_quilter_main_window___lambda31_ ((QuilterMainWindow*) self);
#line 4211 "MainWindow.c"
}

static void
_quilter_main_window___lambda32_ (QuilterMainWindow* self)
{
#line 478 "../src/MainWindow.vala"
	quilter_main_window_update (self);
#line 4219 "MainWindow.c"
}

static void
__quilter_main_window___lambda32__g_object_notify (GObject* _sender,
                                                   GParamSpec* pspec,
                                                   gpointer self)
{
#line 477 "../src/MainWindow.vala"
	_quilter_main_window___lambda32_ ((QuilterMainWindow*) self);
#line 4229 "MainWindow.c"
}

static GObject *
quilter_main_window_constructor (GType type,
                                 guint n_construct_properties,
                                 GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	QuilterMainWindow * self;
	gint window_x = 0;
	gint window_y = 0;
	gint width = 0;
	gint height = 0;
	GSettings* _tmp0_;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	GSettings* _tmp3_;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	gboolean _tmp6_ = FALSE;
	GSimpleActionGroup* _tmp10_;
	GSimpleActionGroup* _tmp11_;
	GSimpleActionGroup* _tmp12_;
	GSimpleActionGroup* _tmp13_;
	GtkStyleContext* style = NULL;
	GtkStyleContext* _tmp34_;
	GtkStyleContext* _tmp35_;
	GtkCssProvider* provider = NULL;
	GtkCssProvider* _tmp37_;
	GtkCssProvider* _tmp38_;
	GdkScreen* _tmp39_;
	GtkCssProvider* _tmp40_;
	GtkCssProvider* provider2 = NULL;
	GtkCssProvider* _tmp41_;
	GtkCssProvider* _tmp42_;
	GdkScreen* _tmp43_;
	GtkCssProvider* _tmp44_;
	GtkCssProvider* provider3 = NULL;
	GtkCssProvider* _tmp45_;
	QuilterWidgetsHeaderbar* _tmp46_ = NULL;
	QuilterWidgetsHeaderbar* _tmp47_;
	QuilterWidgetsHeaderbar* _tmp48_;
	QuilterWidgetsHeaderbar* _tmp49_;
	QuilterWidgetsHeaderbar* _tmp50_;
	HdyHeaderBar* _tmp51_;
	HdyHeaderBar* _tmp52_;
	HdyHeaderBar* _tmp53_;
	HdyHeaderBar* _tmp54_;
	GtkStyleContext* _tmp55_;
	GtkStack* _tmp56_;
	GtkStack* _tmp57_;
	GtkStack* _tmp58_;
	HdyHeaderBar* _tmp59_;
	GtkStack* _tmp60_;
	QuilterWidgetsHeaderbar* _tmp61_;
	GtkRevealer* _tmp62_;
	GtkRevealer* _tmp63_;
	GSettings* _tmp64_;
	GtkRevealer* _tmp65_;
	GtkStack* _tmp66_;
	GtkRevealer* _tmp67_;
	GtkScrolledWindow* _tmp68_;
	QuilterWidgetsEditView* _tmp69_;
	GtkScrolledWindow* _tmp70_;
	QuilterWidgetsEditView* _tmp71_;
	GtkScrolledWindow* _tmp72_;
	QuilterWidgetsEditView* _tmp73_;
	QuilterWidgetsEditView* _tmp74_;
	QuilterWidgetsPreview* _tmp75_;
	QuilterWidgetsPreview* _tmp76_;
	GtkStack* _tmp77_;
	GtkBox* _tmp78_;
	GtkBox* _tmp79_;
	QuilterWidgetsEditView* _tmp80_;
	GtkSourceBuffer* _tmp81_;
	QuilterWidgetsStatusBar* _tmp82_;
	GtkOverlay* _tmp83_;
	GtkOverlay* _tmp84_;
	GtkScrolledWindow* _tmp85_;
	GtkOverlay* _tmp86_;
	QuilterWidgetsStatusBar* _tmp87_;
	GtkStack* _tmp88_;
	GtkStack* _tmp89_;
	GtkStack* _tmp90_;
	GtkStack* _tmp91_;
	GtkBox* _tmp92_;
	GtkLabel* welcome_title = NULL;
	GtkLabel* _tmp93_;
	GtkLabel* _tmp94_;
	GtkStyleContext* _tmp95_;
	GtkLabel* _tmp96_;
	GtkImage* welcome_image = NULL;
	GtkImage* _tmp97_;
	GtkImage* _tmp98_;
	GtkButton* welcome_new_button = NULL;
	GtkButton* _tmp99_;
	GtkButton* _tmp100_;
	GtkButton* _tmp101_;
	GtkButton* _tmp102_;
	GtkStyleContext* _tmp103_;
	GtkButton* _tmp104_;
	GtkStyleContext* _tmp105_;
	GtkButton* welcome_open_button = NULL;
	GtkButton* _tmp106_;
	GtkButton* _tmp107_;
	GtkButton* _tmp108_;
	GtkButton* _tmp109_;
	GtkStyleContext* _tmp110_;
	GtkGrid* _tmp111_ = NULL;
	GtkGrid* _tmp112_;
	GtkStyleContext* _tmp113_;
	GtkGrid* _tmp114_;
	GtkImage* _tmp115_;
	GtkGrid* _tmp116_;
	GtkLabel* _tmp117_;
	GtkGrid* _tmp118_;
	GtkButton* _tmp119_;
	GtkGrid* _tmp120_;
	GtkButton* _tmp121_;
	HdyWindowHandle* welcome_view_handler = NULL;
	HdyWindowHandle* _tmp122_;
	HdyWindowHandle* _tmp123_;
	GtkGrid* _tmp124_;
	QuilterWidgetsEditView* _tmp125_;
	QuilterWidgetsSideBar* _tmp126_;
	QuilterWidgetsSideBar* _tmp127_;
	GtkStack* _tmp128_;
	GtkStack* _tmp129_;
	GtkStyleContext* _tmp130_;
	GtkStack* _tmp131_;
	HdyWindowHandle* _tmp132_;
	GtkStack* _tmp133_;
	GtkStack* _tmp134_;
	GSimpleActionGroup* _tmp135_;
	GSimpleActionGroup* _tmp136_;
	GSimpleActionGroup* _tmp137_;
	GSimpleActionGroup* _tmp138_;
	QuilterWidgetsSearchBar* _tmp139_;
	GtkRevealer* _tmp140_;
	GtkRevealer* _tmp141_;
	GtkRevealer* _tmp142_;
	GtkRevealer* _tmp143_;
	GtkButton* _tmp144_;
	GtkButton* _tmp145_;
	GtkButton* _tmp146_;
	GtkImage* _tmp147_;
	GtkImage* _tmp148_;
	GtkButton* _tmp149_;
	GtkButton* _tmp150_;
	GtkStyleContext* focus_overlay_button_context = NULL;
	GtkButton* _tmp151_;
	GtkStyleContext* _tmp152_;
	GtkStyleContext* _tmp153_;
	GtkStyleContext* _tmp154_;
	GtkStyleContext* _tmp155_;
	GtkButton* _tmp156_;
	HdyWindowHandle* overlay_button_dragger = NULL;
	HdyWindowHandle* _tmp157_;
	HdyWindowHandle* _tmp158_;
	GtkButton* _tmp159_;
	GtkRevealer* _tmp160_;
	HdyWindowHandle* _tmp161_;
	GtkBox* _tmp162_;
	GtkBox* _tmp163_;
	GtkRevealer* _tmp164_;
	GtkBox* _tmp165_;
	QuilterWidgetsSearchBar* _tmp166_;
	GtkBox* _tmp167_;
	GtkStack* _tmp168_;
	GtkSeparator* sep = NULL;
	GtkSeparator* _tmp169_;
	GtkSeparator* _tmp170_;
	GtkStyleContext* _tmp171_;
	HdyLeaflet* _tmp172_;
	HdyLeaflet* _tmp173_;
	QuilterWidgetsSideBar* _tmp174_;
	HdyLeaflet* _tmp175_;
	GtkSeparator* _tmp176_;
	HdyLeaflet* _tmp177_;
	GtkBox* _tmp178_;
	HdyLeaflet* _tmp179_;
	HdyLeaflet* _tmp180_;
	HdyLeaflet* _tmp181_;
	GtkBox* _tmp182_;
	HdyLeaflet* _tmp183_;
	GtkSeparator* _tmp184_;
	GValue _tmp185_ = {0};
	HdyLeaflet* _tmp186_;
	GtkOverlay* main_overlay = NULL;
	GtkOverlay* _tmp187_;
	GtkOverlay* _tmp188_;
	GtkRevealer* _tmp189_;
	GtkOverlay* _tmp190_;
	HdyLeaflet* _tmp191_;
	GtkGrid* window_grid = NULL;
	GtkGrid* _tmp192_;
	GtkGrid* _tmp193_;
	GtkGrid* _tmp194_;
	GtkOverlay* _tmp195_;
	GtkGrid* _tmp196_;
	GError* _inner_error0_ = NULL;
#line 299 "../src/MainWindow.vala"
	parent_class = G_OBJECT_CLASS (quilter_main_window_parent_class);
#line 299 "../src/MainWindow.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 299 "../src/MainWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, QUILTER_TYPE_MAIN_WINDOW, QuilterMainWindow);
#line 300 "../src/MainWindow.vala"
	hdy_init ();
#line 302 "../src/MainWindow.vala"
	_tmp0_ = quilter_application_gsettings;
#line 302 "../src/MainWindow.vala"
	g_settings_get (_tmp0_, "window-position", "(ii)", &_tmp1_, &_tmp2_);
#line 302 "../src/MainWindow.vala"
	window_x = _tmp1_;
#line 302 "../src/MainWindow.vala"
	window_y = _tmp2_;
#line 303 "../src/MainWindow.vala"
	_tmp3_ = quilter_application_gsettings;
#line 303 "../src/MainWindow.vala"
	g_settings_get (_tmp3_, "window-size", "(ii)", &_tmp4_, &_tmp5_);
#line 303 "../src/MainWindow.vala"
	width = _tmp4_;
#line 303 "../src/MainWindow.vala"
	height = _tmp5_;
#line 304 "../src/MainWindow.vala"
	if (window_x != -1) {
#line 304 "../src/MainWindow.vala"
		_tmp6_ = TRUE;
#line 4460 "MainWindow.c"
	} else {
#line 304 "../src/MainWindow.vala"
		_tmp6_ = window_y != -1;
#line 4464 "MainWindow.c"
	}
#line 304 "../src/MainWindow.vala"
	if (_tmp6_) {
#line 305 "../src/MainWindow.vala"
		gtk_window_move ((GtkWindow*) self, window_x, window_y);
#line 4470 "MainWindow.c"
	}
#line 307 "../src/MainWindow.vala"
	gtk_window_resize ((GtkWindow*) self, width, height);
#line 4474 "MainWindow.c"
	{
		GdkPixbuf* _tmp7_ = NULL;
		GtkIconTheme* _tmp8_;
		GdkPixbuf* _tmp9_;
#line 310 "../src/MainWindow.vala"
		_tmp8_ = gtk_icon_theme_get_default ();
#line 310 "../src/MainWindow.vala"
		_tmp9_ = gtk_icon_theme_load_icon (_tmp8_, "io.github.lainsce.Quilter", (gint) GTK_ICON_SIZE_DIALOG, 0, &_inner_error0_);
#line 310 "../src/MainWindow.vala"
		_tmp7_ = _tmp9_;
#line 310 "../src/MainWindow.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 4487 "MainWindow.c"
			goto __catch0_g_error;
		}
#line 310 "../src/MainWindow.vala"
		gtk_window_set_icon ((GtkWindow*) self, _tmp7_);
#line 309 "../src/MainWindow.vala"
		_g_object_unref0 (_tmp7_);
#line 4494 "MainWindow.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
#line 309 "../src/MainWindow.vala"
		g_clear_error (&_inner_error0_);
#line 4501 "MainWindow.c"
	}
	__finally0:
#line 309 "../src/MainWindow.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 309 "../src/MainWindow.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 309 "../src/MainWindow.vala"
		g_clear_error (&_inner_error0_);
#line 4510 "MainWindow.c"
	}
#line 314 "../src/MainWindow.vala"
	_tmp10_ = g_simple_action_group_new ();
#line 314 "../src/MainWindow.vala"
	_tmp11_ = _tmp10_;
#line 314 "../src/MainWindow.vala"
	quilter_main_window_set_actions (self, _tmp11_);
#line 314 "../src/MainWindow.vala"
	_g_object_unref0 (_tmp11_);
#line 315 "../src/MainWindow.vala"
	_tmp12_ = self->priv->_actions;
#line 315 "../src/MainWindow.vala"
	g_action_map_add_action_entries ((GActionMap*) _tmp12_, QUILTER_MAIN_WINDOW_ACTION_ENTRIES, (gint) G_N_ELEMENTS (QUILTER_MAIN_WINDOW_ACTION_ENTRIES), self);
#line 316 "../src/MainWindow.vala"
	_tmp13_ = self->priv->_actions;
#line 316 "../src/MainWindow.vala"
	gtk_widget_insert_action_group ((GtkWidget*) self, "win", (GActionGroup*) _tmp13_);
#line 4528 "MainWindow.c"
	{
		GeeIterator* _action_it = NULL;
		GeeMultiMap* _tmp14_;
		GeeSet* _tmp15_;
		GeeSet* _tmp16_;
		GeeIterator* _tmp17_;
		GeeIterator* _tmp18_;
#line 318 "../src/MainWindow.vala"
		_tmp14_ = quilter_main_window_action_accelerators;
#line 318 "../src/MainWindow.vala"
		_tmp15_ = gee_multi_map_get_keys (_tmp14_);
#line 318 "../src/MainWindow.vala"
		_tmp16_ = _tmp15_;
#line 318 "../src/MainWindow.vala"
		_tmp17_ = gee_iterable_iterator ((GeeIterable*) _tmp16_);
#line 318 "../src/MainWindow.vala"
		_tmp18_ = _tmp17_;
#line 318 "../src/MainWindow.vala"
		_g_object_unref0 (_tmp16_);
#line 318 "../src/MainWindow.vala"
		_action_it = _tmp18_;
#line 318 "../src/MainWindow.vala"
		while (TRUE) {
#line 4552 "MainWindow.c"
			GeeIterator* _tmp19_;
			gchar* action = NULL;
			GeeIterator* _tmp20_;
			gpointer _tmp21_;
			gchar** accels_array = NULL;
			GeeMultiMap* _tmp22_;
			const gchar* _tmp23_;
			GeeCollection* _tmp24_;
			GeeCollection* _tmp25_;
			gint _tmp26_ = 0;
			gpointer* _tmp27_;
			gchar** _tmp28_;
			gint _tmp28__length1;
			gint accels_array_length1;
			gint _accels_array_size_;
			QuilterApplication* _tmp29_;
			const gchar* _tmp30_;
			gchar* _tmp31_;
			gchar* _tmp32_;
			gchar** _tmp33_;
			gint _tmp33__length1;
#line 318 "../src/MainWindow.vala"
			_tmp19_ = _action_it;
#line 318 "../src/MainWindow.vala"
			if (!gee_iterator_next (_tmp19_)) {
#line 318 "../src/MainWindow.vala"
				break;
#line 4580 "MainWindow.c"
			}
#line 318 "../src/MainWindow.vala"
			_tmp20_ = _action_it;
#line 318 "../src/MainWindow.vala"
			_tmp21_ = gee_iterator_get (_tmp20_);
#line 318 "../src/MainWindow.vala"
			action = (gchar*) _tmp21_;
#line 319 "../src/MainWindow.vala"
			_tmp22_ = quilter_main_window_action_accelerators;
#line 319 "../src/MainWindow.vala"
			_tmp23_ = action;
#line 319 "../src/MainWindow.vala"
			_tmp24_ = gee_multi_map_get (_tmp22_, _tmp23_);
#line 319 "../src/MainWindow.vala"
			_tmp25_ = _tmp24_;
#line 319 "../src/MainWindow.vala"
			_tmp27_ = gee_collection_to_array (_tmp25_, &_tmp26_);
#line 319 "../src/MainWindow.vala"
			_tmp28_ = _tmp27_;
#line 319 "../src/MainWindow.vala"
			_tmp28__length1 = _tmp26_;
#line 319 "../src/MainWindow.vala"
			_g_object_unref0 (_tmp25_);
#line 319 "../src/MainWindow.vala"
			accels_array = _tmp28_;
#line 319 "../src/MainWindow.vala"
			accels_array_length1 = _tmp28__length1;
#line 319 "../src/MainWindow.vala"
			_accels_array_size_ = accels_array_length1;
#line 320 "../src/MainWindow.vala"
			_vala_array_add3 (&accels_array, &accels_array_length1, &_accels_array_size_, NULL);
#line 322 "../src/MainWindow.vala"
			_tmp29_ = self->priv->_app;
#line 322 "../src/MainWindow.vala"
			_tmp30_ = action;
#line 322 "../src/MainWindow.vala"
			_tmp31_ = g_strconcat (QUILTER_MAIN_WINDOW_ACTION_PREFIX, _tmp30_, NULL);
#line 322 "../src/MainWindow.vala"
			_tmp32_ = _tmp31_;
#line 322 "../src/MainWindow.vala"
			_tmp33_ = accels_array;
#line 322 "../src/MainWindow.vala"
			_tmp33__length1 = accels_array_length1;
#line 322 "../src/MainWindow.vala"
			gtk_application_set_accels_for_action ((GtkApplication*) _tmp29_, _tmp32_, _tmp33_);
#line 322 "../src/MainWindow.vala"
			_g_free0 (_tmp32_);
#line 318 "../src/MainWindow.vala"
			accels_array = (_vala_array_free (accels_array, accels_array_length1, (GDestroyNotify) g_free), NULL);
#line 318 "../src/MainWindow.vala"
			_g_free0 (action);
#line 4632 "MainWindow.c"
		}
#line 318 "../src/MainWindow.vala"
		_g_object_unref0 (_action_it);
#line 4636 "MainWindow.c"
	}
#line 325 "../src/MainWindow.vala"
	_tmp34_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 325 "../src/MainWindow.vala"
	_tmp35_ = _g_object_ref0 (_tmp34_);
#line 325 "../src/MainWindow.vala"
	style = _tmp35_;
#line 326 "../src/MainWindow.vala"
	if (g_strcmp0 (PROFILE, "Devel") == 0) {
#line 4646 "MainWindow.c"
		GtkStyleContext* _tmp36_;
#line 327 "../src/MainWindow.vala"
		_tmp36_ = style;
#line 327 "../src/MainWindow.vala"
		gtk_style_context_add_class (_tmp36_, "devel");
#line 4652 "MainWindow.c"
	}
#line 330 "../src/MainWindow.vala"
	_tmp37_ = gtk_css_provider_new ();
#line 330 "../src/MainWindow.vala"
	provider = _tmp37_;
#line 331 "../src/MainWindow.vala"
	_tmp38_ = provider;
#line 331 "../src/MainWindow.vala"
	gtk_css_provider_load_from_resource (_tmp38_, "/io/github/lainsce/Quilter/app-main-stylesheet.css");
#line 332 "../src/MainWindow.vala"
	_tmp39_ = gdk_screen_get_default ();
#line 332 "../src/MainWindow.vala"
	_tmp40_ = provider;
#line 332 "../src/MainWindow.vala"
	gtk_style_context_add_provider_for_screen (_tmp39_, (GtkStyleProvider*) _tmp40_, (guint) GTK_STYLE_PROVIDER_PRIORITY_APPLICATION);
#line 333 "../src/MainWindow.vala"
	_tmp41_ = gtk_css_provider_new ();
#line 333 "../src/MainWindow.vala"
	provider2 = _tmp41_;
#line 334 "../src/MainWindow.vala"
	_tmp42_ = provider2;
#line 334 "../src/MainWindow.vala"
	gtk_css_provider_load_from_resource (_tmp42_, "/io/github/lainsce/Quilter/app-font-stylesheet.css");
#line 335 "../src/MainWindow.vala"
	_tmp43_ = gdk_screen_get_default ();
#line 335 "../src/MainWindow.vala"
	_tmp44_ = provider2;
#line 335 "../src/MainWindow.vala"
	gtk_style_context_add_provider_for_screen (_tmp43_, (GtkStyleProvider*) _tmp44_, (guint) GTK_STYLE_PROVIDER_PRIORITY_APPLICATION);
#line 336 "../src/MainWindow.vala"
	_tmp45_ = gtk_css_provider_new ();
#line 336 "../src/MainWindow.vala"
	provider3 = _tmp45_;
#line 338 "../src/MainWindow.vala"
	_tmp46_ = quilter_widgets_headerbar_new (self);
#line 338 "../src/MainWindow.vala"
	hdy_header_bar_set_has_subtitle ((HdyHeaderBar*) _tmp46_, FALSE);
#line 338 "../src/MainWindow.vala"
	gtk_widget_set_hexpand ((GtkWidget*) _tmp46_, TRUE);
#line 338 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp46_);
#line 338 "../src/MainWindow.vala"
	_g_object_unref0 (self->titlebar);
#line 338 "../src/MainWindow.vala"
	self->titlebar = _tmp46_;
#line 342 "../src/MainWindow.vala"
	_tmp47_ = self->titlebar;
#line 342 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp47_, "open", (GCallback) _quilter_main_window_on_open_quilter_widgets_headerbar_open, self, 0);
#line 343 "../src/MainWindow.vala"
	_tmp48_ = self->titlebar;
#line 343 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp48_, "save", (GCallback) _quilter_main_window_on_save_quilter_widgets_headerbar_save, self, 0);
#line 344 "../src/MainWindow.vala"
	_tmp49_ = self->titlebar;
#line 344 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp49_, "save-as", (GCallback) _quilter_main_window_on_save_as_quilter_widgets_headerbar_save_as, self, 0);
#line 345 "../src/MainWindow.vala"
	_tmp50_ = self->titlebar;
#line 345 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp50_, "create-new", (GCallback) _quilter_main_window_on_create_new_quilter_widgets_headerbar_create_new, self, 0);
#line 347 "../src/MainWindow.vala"
	_tmp51_ = (HdyHeaderBar*) hdy_header_bar_new ();
#line 347 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp51_);
#line 347 "../src/MainWindow.vala"
	_g_object_unref0 (self->welcome_titlebar);
#line 347 "../src/MainWindow.vala"
	self->welcome_titlebar = _tmp51_;
#line 348 "../src/MainWindow.vala"
	_tmp52_ = self->welcome_titlebar;
#line 348 "../src/MainWindow.vala"
	hdy_header_bar_set_show_close_button (_tmp52_, TRUE);
#line 349 "../src/MainWindow.vala"
	_tmp53_ = self->welcome_titlebar;
#line 349 "../src/MainWindow.vala"
	hdy_header_bar_set_has_subtitle (_tmp53_, FALSE);
#line 350 "../src/MainWindow.vala"
	_tmp54_ = self->welcome_titlebar;
#line 350 "../src/MainWindow.vala"
	_tmp55_ = gtk_widget_get_style_context ((GtkWidget*) _tmp54_);
#line 350 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp55_, "quilter-flat-title");
#line 352 "../src/MainWindow.vala"
	_tmp56_ = (GtkStack*) gtk_stack_new ();
#line 352 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp56_);
#line 352 "../src/MainWindow.vala"
	_g_object_unref0 (self->titlebar_stack);
#line 352 "../src/MainWindow.vala"
	self->titlebar_stack = _tmp56_;
#line 353 "../src/MainWindow.vala"
	_tmp57_ = self->titlebar_stack;
#line 353 "../src/MainWindow.vala"
	gtk_stack_set_transition_type (_tmp57_, GTK_STACK_TRANSITION_TYPE_CROSSFADE);
#line 354 "../src/MainWindow.vala"
	_tmp58_ = self->titlebar_stack;
#line 354 "../src/MainWindow.vala"
	_tmp59_ = self->welcome_titlebar;
#line 354 "../src/MainWindow.vala"
	gtk_stack_add_named (_tmp58_, (GtkWidget*) _tmp59_, "welcome-title");
#line 355 "../src/MainWindow.vala"
	_tmp60_ = self->titlebar_stack;
#line 355 "../src/MainWindow.vala"
	_tmp61_ = self->titlebar;
#line 355 "../src/MainWindow.vala"
	gtk_stack_add_named (_tmp60_, (GtkWidget*) _tmp61_, "title");
#line 357 "../src/MainWindow.vala"
	_tmp62_ = (GtkRevealer*) gtk_revealer_new ();
#line 357 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp62_);
#line 357 "../src/MainWindow.vala"
	_g_object_unref0 (self->titlebar_revealer);
#line 357 "../src/MainWindow.vala"
	self->titlebar_revealer = _tmp62_;
#line 358 "../src/MainWindow.vala"
	_tmp63_ = self->titlebar_revealer;
#line 358 "../src/MainWindow.vala"
	_tmp64_ = quilter_application_gsettings;
#line 358 "../src/MainWindow.vala"
	gtk_revealer_set_reveal_child (_tmp63_, g_settings_get_boolean (_tmp64_, "sidebar"));
#line 359 "../src/MainWindow.vala"
	_tmp65_ = self->titlebar_revealer;
#line 359 "../src/MainWindow.vala"
	_tmp66_ = self->titlebar_stack;
#line 359 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp65_, (GtkWidget*) _tmp66_);
#line 360 "../src/MainWindow.vala"
	_tmp67_ = self->titlebar_revealer;
#line 360 "../src/MainWindow.vala"
	gtk_revealer_set_transition_type (_tmp67_, GTK_REVEALER_TRANSITION_TYPE_SLIDE_DOWN);
#line 362 "../src/MainWindow.vala"
	_tmp68_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
#line 362 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp68_);
#line 362 "../src/MainWindow.vala"
	_g_object_unref0 (self->edit_view);
#line 362 "../src/MainWindow.vala"
	self->edit_view = _tmp68_;
#line 363 "../src/MainWindow.vala"
	_tmp69_ = quilter_widgets_edit_view_new (self);
#line 363 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp69_);
#line 363 "../src/MainWindow.vala"
	_g_object_unref0 (self->edit_view_content);
#line 363 "../src/MainWindow.vala"
	self->edit_view_content = _tmp69_;
#line 364 "../src/MainWindow.vala"
	_tmp70_ = self->edit_view;
#line 364 "../src/MainWindow.vala"
	gtk_widget_set_vexpand ((GtkWidget*) _tmp70_, TRUE);
#line 365 "../src/MainWindow.vala"
	_tmp71_ = self->edit_view_content;
#line 365 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp71_, "save", (GCallback) _quilter_main_window_on_save_quilter_widgets_edit_view_save, self, 0);
#line 366 "../src/MainWindow.vala"
	_tmp72_ = self->edit_view;
#line 366 "../src/MainWindow.vala"
	_tmp73_ = self->edit_view_content;
#line 366 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp72_, (GtkWidget*) _tmp73_);
#line 368 "../src/MainWindow.vala"
	_tmp74_ = self->edit_view_content;
#line 368 "../src/MainWindow.vala"
	_tmp75_ = quilter_widgets_preview_new (self, _tmp74_);
#line 368 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp75_);
#line 368 "../src/MainWindow.vala"
	_g_object_unref0 (self->preview_view_content);
#line 368 "../src/MainWindow.vala"
	self->preview_view_content = _tmp75_;
#line 369 "../src/MainWindow.vala"
	_tmp76_ = self->preview_view_content;
#line 369 "../src/MainWindow.vala"
	gtk_widget_set_vexpand ((GtkWidget*) _tmp76_, TRUE);
#line 371 "../src/MainWindow.vala"
	_tmp77_ = (GtkStack*) gtk_stack_new ();
#line 371 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp77_);
#line 371 "../src/MainWindow.vala"
	_g_object_unref0 (self->stack);
#line 371 "../src/MainWindow.vala"
	self->stack = _tmp77_;
#line 373 "../src/MainWindow.vala"
	_tmp78_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
#line 373 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp78_);
#line 373 "../src/MainWindow.vala"
	_g_object_unref0 (self->box);
#line 373 "../src/MainWindow.vala"
	self->box = _tmp78_;
#line 374 "../src/MainWindow.vala"
	_tmp79_ = self->box;
#line 374 "../src/MainWindow.vala"
	gtk_box_set_homogeneous (_tmp79_, TRUE);
#line 376 "../src/MainWindow.vala"
	_tmp80_ = self->edit_view_content;
#line 376 "../src/MainWindow.vala"
	_tmp81_ = _tmp80_->buffer;
#line 376 "../src/MainWindow.vala"
	_tmp82_ = quilter_widgets_status_bar_new (_tmp81_);
#line 376 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp82_);
#line 376 "../src/MainWindow.vala"
	_g_object_unref0 (self->statusbar);
#line 376 "../src/MainWindow.vala"
	self->statusbar = _tmp82_;
#line 378 "../src/MainWindow.vala"
	_tmp83_ = (GtkOverlay*) gtk_overlay_new ();
#line 378 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp83_);
#line 378 "../src/MainWindow.vala"
	_g_object_unref0 (self->overlay_editor);
#line 378 "../src/MainWindow.vala"
	self->overlay_editor = _tmp83_;
#line 379 "../src/MainWindow.vala"
	_tmp84_ = self->overlay_editor;
#line 379 "../src/MainWindow.vala"
	_tmp85_ = self->edit_view;
#line 379 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp84_, (GtkWidget*) _tmp85_);
#line 380 "../src/MainWindow.vala"
	_tmp86_ = self->overlay_editor;
#line 380 "../src/MainWindow.vala"
	_tmp87_ = self->statusbar;
#line 380 "../src/MainWindow.vala"
	gtk_overlay_add_overlay (_tmp86_, (GtkWidget*) _tmp87_);
#line 382 "../src/MainWindow.vala"
	_tmp88_ = (GtkStack*) gtk_stack_new ();
#line 382 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp88_);
#line 382 "../src/MainWindow.vala"
	_g_object_unref0 (self->main_stack);
#line 382 "../src/MainWindow.vala"
	self->main_stack = _tmp88_;
#line 383 "../src/MainWindow.vala"
	_tmp89_ = self->main_stack;
#line 383 "../src/MainWindow.vala"
	_tmp90_ = self->stack;
#line 383 "../src/MainWindow.vala"
	gtk_stack_add_named (_tmp89_, (GtkWidget*) _tmp90_, "stack");
#line 384 "../src/MainWindow.vala"
	_tmp91_ = self->main_stack;
#line 384 "../src/MainWindow.vala"
	_tmp92_ = self->box;
#line 384 "../src/MainWindow.vala"
	gtk_stack_add_named (_tmp91_, (GtkWidget*) _tmp92_, "paned");
#line 387 "../src/MainWindow.vala"
	_tmp93_ = (GtkLabel*) gtk_label_new (_ ("Write a New Document"));
#line 387 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp93_);
#line 387 "../src/MainWindow.vala"
	welcome_title = _tmp93_;
#line 388 "../src/MainWindow.vala"
	_tmp94_ = welcome_title;
#line 388 "../src/MainWindow.vala"
	_tmp95_ = gtk_widget_get_style_context ((GtkWidget*) _tmp94_);
#line 388 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp95_, "title-1");
#line 389 "../src/MainWindow.vala"
	_tmp96_ = welcome_title;
#line 389 "../src/MainWindow.vala"
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp96_, 24);
#line 391 "../src/MainWindow.vala"
	_tmp97_ = (GtkImage*) gtk_image_new_from_resource ("/io/github/lainsce/Quilter/welcome.png");
#line 391 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp97_);
#line 391 "../src/MainWindow.vala"
	welcome_image = _tmp97_;
#line 392 "../src/MainWindow.vala"
	_tmp98_ = welcome_image;
#line 392 "../src/MainWindow.vala"
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp98_, 24);
#line 394 "../src/MainWindow.vala"
	_tmp99_ = (GtkButton*) gtk_button_new ();
#line 394 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp99_);
#line 394 "../src/MainWindow.vala"
	welcome_new_button = _tmp99_;
#line 395 "../src/MainWindow.vala"
	_tmp100_ = welcome_new_button;
#line 395 "../src/MainWindow.vala"
	gtk_button_set_label (_tmp100_, _ ("New Document"));
#line 396 "../src/MainWindow.vala"
	_tmp101_ = welcome_new_button;
#line 396 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp101_, "clicked", (GCallback) __quilter_main_window___lambda28__gtk_button_clicked, self, 0);
#line 397 "../src/MainWindow.vala"
	_tmp102_ = welcome_new_button;
#line 397 "../src/MainWindow.vala"
	_tmp103_ = gtk_widget_get_style_context ((GtkWidget*) _tmp102_);
#line 397 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp103_, "suggested-action");
#line 398 "../src/MainWindow.vala"
	_tmp104_ = welcome_new_button;
#line 398 "../src/MainWindow.vala"
	_tmp105_ = gtk_widget_get_style_context ((GtkWidget*) _tmp104_);
#line 398 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp105_, "circular-button");
#line 400 "../src/MainWindow.vala"
	_tmp106_ = (GtkButton*) gtk_button_new ();
#line 400 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp106_);
#line 400 "../src/MainWindow.vala"
	welcome_open_button = _tmp106_;
#line 401 "../src/MainWindow.vala"
	_tmp107_ = welcome_open_button;
#line 401 "../src/MainWindow.vala"
	gtk_button_set_label (_tmp107_, _ ("Open Document"));
#line 402 "../src/MainWindow.vala"
	_tmp108_ = welcome_open_button;
#line 402 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp108_, "clicked", (GCallback) __quilter_main_window___lambda29__gtk_button_clicked, self, 0);
#line 403 "../src/MainWindow.vala"
	_tmp109_ = welcome_open_button;
#line 403 "../src/MainWindow.vala"
	_tmp110_ = gtk_widget_get_style_context ((GtkWidget*) _tmp109_);
#line 403 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp110_, "circular-button");
#line 405 "../src/MainWindow.vala"
	_tmp111_ = (GtkGrid*) gtk_grid_new ();
#line 405 "../src/MainWindow.vala"
	g_object_set ((GtkWidget*) _tmp111_, "expand", TRUE, NULL);
#line 405 "../src/MainWindow.vala"
	gtk_orientable_set_orientation ((GtkOrientable*) _tmp111_, GTK_ORIENTATION_VERTICAL);
#line 405 "../src/MainWindow.vala"
	gtk_widget_set_halign ((GtkWidget*) _tmp111_, GTK_ALIGN_CENTER);
#line 405 "../src/MainWindow.vala"
	gtk_widget_set_valign ((GtkWidget*) _tmp111_, GTK_ALIGN_CENTER);
#line 405 "../src/MainWindow.vala"
	gtk_grid_set_row_spacing (_tmp111_, 12);
#line 405 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp111_);
#line 405 "../src/MainWindow.vala"
	_g_object_unref0 (self->welcome_view);
#line 405 "../src/MainWindow.vala"
	self->welcome_view = _tmp111_;
#line 412 "../src/MainWindow.vala"
	_tmp112_ = self->welcome_view;
#line 412 "../src/MainWindow.vala"
	_tmp113_ = gtk_widget_get_style_context ((GtkWidget*) _tmp112_);
#line 412 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp113_, "quilter-normal-view");
#line 413 "../src/MainWindow.vala"
	_tmp114_ = self->welcome_view;
#line 413 "../src/MainWindow.vala"
	_tmp115_ = welcome_image;
#line 413 "../src/MainWindow.vala"
	gtk_grid_attach (_tmp114_, (GtkWidget*) _tmp115_, 0, 0, 1, 1);
#line 414 "../src/MainWindow.vala"
	_tmp116_ = self->welcome_view;
#line 414 "../src/MainWindow.vala"
	_tmp117_ = welcome_title;
#line 414 "../src/MainWindow.vala"
	gtk_grid_attach (_tmp116_, (GtkWidget*) _tmp117_, 0, 1, 1, 1);
#line 415 "../src/MainWindow.vala"
	_tmp118_ = self->welcome_view;
#line 415 "../src/MainWindow.vala"
	_tmp119_ = welcome_new_button;
#line 415 "../src/MainWindow.vala"
	gtk_grid_attach (_tmp118_, (GtkWidget*) _tmp119_, 0, 2, 1, 1);
#line 416 "../src/MainWindow.vala"
	_tmp120_ = self->welcome_view;
#line 416 "../src/MainWindow.vala"
	_tmp121_ = welcome_open_button;
#line 416 "../src/MainWindow.vala"
	gtk_grid_attach (_tmp120_, (GtkWidget*) _tmp121_, 0, 3, 1, 1);
#line 418 "../src/MainWindow.vala"
	_tmp122_ = (HdyWindowHandle*) hdy_window_handle_new ();
#line 418 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp122_);
#line 418 "../src/MainWindow.vala"
	welcome_view_handler = _tmp122_;
#line 419 "../src/MainWindow.vala"
	_tmp123_ = welcome_view_handler;
#line 419 "../src/MainWindow.vala"
	_tmp124_ = self->welcome_view;
#line 419 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp123_, (GtkWidget*) _tmp124_);
#line 421 "../src/MainWindow.vala"
	_tmp125_ = self->edit_view_content;
#line 421 "../src/MainWindow.vala"
	_tmp126_ = quilter_widgets_side_bar_new (self, _tmp125_);
#line 421 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp126_);
#line 421 "../src/MainWindow.vala"
	_g_object_unref0 (self->sidebar);
#line 421 "../src/MainWindow.vala"
	self->sidebar = _tmp126_;
#line 422 "../src/MainWindow.vala"
	_tmp127_ = self->sidebar;
#line 422 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp127_, "save-as", (GCallback) __quilter_main_window___lambda30__quilter_widgets_side_bar_save_as, self, 0);
#line 424 "../src/MainWindow.vala"
	_tmp128_ = (GtkStack*) gtk_stack_new ();
#line 424 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp128_);
#line 424 "../src/MainWindow.vala"
	_g_object_unref0 (self->win_stack);
#line 424 "../src/MainWindow.vala"
	self->win_stack = _tmp128_;
#line 425 "../src/MainWindow.vala"
	_tmp129_ = self->win_stack;
#line 425 "../src/MainWindow.vala"
	_tmp130_ = gtk_widget_get_style_context ((GtkWidget*) _tmp129_);
#line 425 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp130_, "quilter-normal-view");
#line 426 "../src/MainWindow.vala"
	_tmp131_ = self->win_stack;
#line 426 "../src/MainWindow.vala"
	_tmp132_ = welcome_view_handler;
#line 426 "../src/MainWindow.vala"
	gtk_stack_add_named (_tmp131_, (GtkWidget*) _tmp132_, "welcome");
#line 427 "../src/MainWindow.vala"
	_tmp133_ = self->win_stack;
#line 427 "../src/MainWindow.vala"
	_tmp134_ = self->main_stack;
#line 427 "../src/MainWindow.vala"
	gtk_stack_add_named (_tmp133_, (GtkWidget*) _tmp134_, "doc");
#line 429 "../src/MainWindow.vala"
	_tmp135_ = g_simple_action_group_new ();
#line 429 "../src/MainWindow.vala"
	_tmp136_ = _tmp135_;
#line 429 "../src/MainWindow.vala"
	quilter_main_window_set_actions (self, _tmp136_);
#line 429 "../src/MainWindow.vala"
	_g_object_unref0 (_tmp136_);
#line 430 "../src/MainWindow.vala"
	_tmp137_ = self->priv->_actions;
#line 430 "../src/MainWindow.vala"
	g_action_map_add_action_entries ((GActionMap*) _tmp137_, QUILTER_MAIN_WINDOW_ACTION_ENTRIES, (gint) G_N_ELEMENTS (QUILTER_MAIN_WINDOW_ACTION_ENTRIES), self);
#line 431 "../src/MainWindow.vala"
	_tmp138_ = self->priv->_actions;
#line 431 "../src/MainWindow.vala"
	gtk_widget_insert_action_group ((GtkWidget*) self, "win", (GActionGroup*) _tmp138_);
#line 433 "../src/MainWindow.vala"
	_tmp139_ = quilter_widgets_search_bar_new (self);
#line 433 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp139_);
#line 433 "../src/MainWindow.vala"
	_g_object_unref0 (self->searchbar);
#line 433 "../src/MainWindow.vala"
	self->searchbar = _tmp139_;
#line 435 "../src/MainWindow.vala"
	_tmp140_ = (GtkRevealer*) gtk_revealer_new ();
#line 435 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp140_);
#line 435 "../src/MainWindow.vala"
	_g_object_unref0 (self->overlay_button_revealer);
#line 435 "../src/MainWindow.vala"
	self->overlay_button_revealer = _tmp140_;
#line 436 "../src/MainWindow.vala"
	_tmp141_ = self->overlay_button_revealer;
#line 436 "../src/MainWindow.vala"
	gtk_revealer_set_transition_type (_tmp141_, GTK_REVEALER_TRANSITION_TYPE_SLIDE_UP);
#line 437 "../src/MainWindow.vala"
	_tmp142_ = self->overlay_button_revealer;
#line 437 "../src/MainWindow.vala"
	gtk_widget_set_halign ((GtkWidget*) _tmp142_, GTK_ALIGN_END);
#line 438 "../src/MainWindow.vala"
	_tmp143_ = self->overlay_button_revealer;
#line 438 "../src/MainWindow.vala"
	gtk_widget_set_valign ((GtkWidget*) _tmp143_, GTK_ALIGN_END);
#line 440 "../src/MainWindow.vala"
	_tmp144_ = (GtkButton*) gtk_button_new ();
#line 440 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp144_);
#line 440 "../src/MainWindow.vala"
	_g_object_unref0 (self->focus_overlay_button);
#line 440 "../src/MainWindow.vala"
	self->focus_overlay_button = _tmp144_;
#line 441 "../src/MainWindow.vala"
	_tmp145_ = self->focus_overlay_button;
#line 441 "../src/MainWindow.vala"
	g_object_set ((GtkWidget*) _tmp145_, "margin", 12, NULL);
#line 442 "../src/MainWindow.vala"
	_tmp146_ = self->focus_overlay_button;
#line 442 "../src/MainWindow.vala"
	_tmp147_ = (GtkImage*) gtk_image_new_from_icon_name ("zoom-fit-best-symbolic", (GtkIconSize) GTK_ICON_SIZE_BUTTON);
#line 442 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp147_);
#line 442 "../src/MainWindow.vala"
	_tmp148_ = _tmp147_;
#line 442 "../src/MainWindow.vala"
	gtk_button_set_image (_tmp146_, (GtkWidget*) _tmp148_);
#line 442 "../src/MainWindow.vala"
	_g_object_unref0 (_tmp148_);
#line 443 "../src/MainWindow.vala"
	_tmp149_ = self->focus_overlay_button;
#line 443 "../src/MainWindow.vala"
	gtk_button_set_always_show_image (_tmp149_, TRUE);
#line 444 "../src/MainWindow.vala"
	_tmp150_ = self->focus_overlay_button;
#line 444 "../src/MainWindow.vala"
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp150_, _ ("Exit focus mode"));
#line 445 "../src/MainWindow.vala"
	_tmp151_ = self->focus_overlay_button;
#line 445 "../src/MainWindow.vala"
	_tmp152_ = gtk_widget_get_style_context ((GtkWidget*) _tmp151_);
#line 445 "../src/MainWindow.vala"
	_tmp153_ = _g_object_ref0 (_tmp152_);
#line 445 "../src/MainWindow.vala"
	focus_overlay_button_context = _tmp153_;
#line 446 "../src/MainWindow.vala"
	_tmp154_ = focus_overlay_button_context;
#line 446 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp154_, "quilter-focus-button");
#line 447 "../src/MainWindow.vala"
	_tmp155_ = focus_overlay_button_context;
#line 447 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp155_, "osd");
#line 449 "../src/MainWindow.vala"
	_tmp156_ = self->focus_overlay_button;
#line 449 "../src/MainWindow.vala"
	g_signal_connect_object (_tmp156_, "clicked", (GCallback) __quilter_main_window___lambda31__gtk_button_clicked, self, 0);
#line 453 "../src/MainWindow.vala"
	_tmp157_ = (HdyWindowHandle*) hdy_window_handle_new ();
#line 453 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp157_);
#line 453 "../src/MainWindow.vala"
	overlay_button_dragger = _tmp157_;
#line 454 "../src/MainWindow.vala"
	_tmp158_ = overlay_button_dragger;
#line 454 "../src/MainWindow.vala"
	_tmp159_ = self->focus_overlay_button;
#line 454 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp158_, (GtkWidget*) _tmp159_);
#line 455 "../src/MainWindow.vala"
	_tmp160_ = self->overlay_button_revealer;
#line 455 "../src/MainWindow.vala"
	_tmp161_ = overlay_button_dragger;
#line 455 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp160_, (GtkWidget*) _tmp161_);
#line 457 "../src/MainWindow.vala"
	_tmp162_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
#line 457 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp162_);
#line 457 "../src/MainWindow.vala"
	_g_object_unref0 (self->main_leaf);
#line 457 "../src/MainWindow.vala"
	self->main_leaf = _tmp162_;
#line 458 "../src/MainWindow.vala"
	_tmp163_ = self->main_leaf;
#line 458 "../src/MainWindow.vala"
	_tmp164_ = self->titlebar_revealer;
#line 458 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp163_, (GtkWidget*) _tmp164_);
#line 459 "../src/MainWindow.vala"
	_tmp165_ = self->main_leaf;
#line 459 "../src/MainWindow.vala"
	_tmp166_ = self->searchbar;
#line 459 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp165_, (GtkWidget*) _tmp166_);
#line 460 "../src/MainWindow.vala"
	_tmp167_ = self->main_leaf;
#line 460 "../src/MainWindow.vala"
	_tmp168_ = self->win_stack;
#line 460 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp167_, (GtkWidget*) _tmp168_);
#line 462 "../src/MainWindow.vala"
	_tmp169_ = (GtkSeparator*) gtk_separator_new (GTK_ORIENTATION_VERTICAL);
#line 462 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp169_);
#line 462 "../src/MainWindow.vala"
	sep = _tmp169_;
#line 463 "../src/MainWindow.vala"
	_tmp170_ = sep;
#line 463 "../src/MainWindow.vala"
	_tmp171_ = gtk_widget_get_style_context ((GtkWidget*) _tmp170_);
#line 463 "../src/MainWindow.vala"
	gtk_style_context_add_class (_tmp171_, "sidebar");
#line 465 "../src/MainWindow.vala"
	_tmp172_ = (HdyLeaflet*) hdy_leaflet_new ();
#line 465 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp172_);
#line 465 "../src/MainWindow.vala"
	_g_object_unref0 (self->grid);
#line 465 "../src/MainWindow.vala"
	self->grid = _tmp172_;
#line 466 "../src/MainWindow.vala"
	_tmp173_ = self->grid;
#line 466 "../src/MainWindow.vala"
	_tmp174_ = self->sidebar;
#line 466 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp173_, (GtkWidget*) _tmp174_);
#line 467 "../src/MainWindow.vala"
	_tmp175_ = self->grid;
#line 467 "../src/MainWindow.vala"
	_tmp176_ = sep;
#line 467 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp175_, (GtkWidget*) _tmp176_);
#line 468 "../src/MainWindow.vala"
	_tmp177_ = self->grid;
#line 468 "../src/MainWindow.vala"
	_tmp178_ = self->main_leaf;
#line 468 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp177_, (GtkWidget*) _tmp178_);
#line 469 "../src/MainWindow.vala"
	_tmp179_ = self->grid;
#line 469 "../src/MainWindow.vala"
	gtk_widget_show_all ((GtkWidget*) _tmp179_);
#line 470 "../src/MainWindow.vala"
	_tmp180_ = self->grid;
#line 470 "../src/MainWindow.vala"
	hdy_leaflet_set_can_swipe_back (_tmp180_, TRUE);
#line 471 "../src/MainWindow.vala"
	_tmp181_ = self->grid;
#line 471 "../src/MainWindow.vala"
	_tmp182_ = self->main_leaf;
#line 471 "../src/MainWindow.vala"
	hdy_leaflet_set_visible_child (_tmp181_, (GtkWidget*) _tmp182_);
#line 472 "../src/MainWindow.vala"
	_tmp183_ = self->grid;
#line 472 "../src/MainWindow.vala"
	_tmp184_ = sep;
#line 472 "../src/MainWindow.vala"
	g_value_init (&_tmp185_, G_TYPE_BOOLEAN);
#line 472 "../src/MainWindow.vala"
	g_value_set_boolean (&_tmp185_, FALSE);
#line 472 "../src/MainWindow.vala"
	gtk_container_child_set_property ((GtkContainer*) _tmp183_, (GtkWidget*) _tmp184_, "navigatable", &_tmp185_);
#line 472 "../src/MainWindow.vala"
	G_IS_VALUE (&_tmp185_) ? (g_value_unset (&_tmp185_), NULL) : NULL;
#line 474 "../src/MainWindow.vala"
	quilter_main_window_update (self);
#line 475 "../src/MainWindow.vala"
	quilter_main_window_change_layout (self, NULL, NULL);
#line 477 "../src/MainWindow.vala"
	_tmp186_ = self->grid;
#line 477 "../src/MainWindow.vala"
	g_signal_connect_object ((GObject*) _tmp186_, "notify::folded", (GCallback) __quilter_main_window___lambda32__g_object_notify, self, 0);
#line 481 "../src/MainWindow.vala"
	_tmp187_ = (GtkOverlay*) gtk_overlay_new ();
#line 481 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp187_);
#line 481 "../src/MainWindow.vala"
	main_overlay = _tmp187_;
#line 482 "../src/MainWindow.vala"
	_tmp188_ = main_overlay;
#line 482 "../src/MainWindow.vala"
	_tmp189_ = self->overlay_button_revealer;
#line 482 "../src/MainWindow.vala"
	gtk_overlay_add_overlay (_tmp188_, (GtkWidget*) _tmp189_);
#line 483 "../src/MainWindow.vala"
	_tmp190_ = main_overlay;
#line 483 "../src/MainWindow.vala"
	_tmp191_ = self->grid;
#line 483 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp190_, (GtkWidget*) _tmp191_);
#line 485 "../src/MainWindow.vala"
	_tmp192_ = (GtkGrid*) gtk_grid_new ();
#line 485 "../src/MainWindow.vala"
	g_object_ref_sink (_tmp192_);
#line 485 "../src/MainWindow.vala"
	window_grid = _tmp192_;
#line 486 "../src/MainWindow.vala"
	_tmp193_ = window_grid;
#line 486 "../src/MainWindow.vala"
	gtk_orientable_set_orientation ((GtkOrientable*) _tmp193_, GTK_ORIENTATION_VERTICAL);
#line 487 "../src/MainWindow.vala"
	_tmp194_ = window_grid;
#line 487 "../src/MainWindow.vala"
	_tmp195_ = main_overlay;
#line 487 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) _tmp194_, (GtkWidget*) _tmp195_);
#line 489 "../src/MainWindow.vala"
	_tmp196_ = window_grid;
#line 489 "../src/MainWindow.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp196_);
#line 491 "../src/MainWindow.vala"
	gtk_widget_set_size_request ((GtkWidget*) self, 360, 400);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (window_grid);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (main_overlay);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (sep);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (overlay_button_dragger);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (focus_overlay_button_context);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (welcome_view_handler);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (welcome_open_button);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (welcome_new_button);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (welcome_image);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (welcome_title);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (provider3);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (provider2);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (provider);
#line 299 "../src/MainWindow.vala"
	_g_object_unref0 (style);
#line 299 "../src/MainWindow.vala"
	return obj;
#line 5354 "MainWindow.c"
}

static void
quilter_main_window_class_init (QuilterMainWindowClass * klass,
                                gpointer klass_data)
{
	GeeHashMultiMap* _tmp0_;
	GeeMultiMap* _tmp1_;
	GeeMultiMap* _tmp2_;
	GeeMultiMap* _tmp3_;
	GeeMultiMap* _tmp4_;
	GeeMultiMap* _tmp5_;
#line 21 "../src/MainWindow.vala"
	quilter_main_window_parent_class = g_type_class_peek_parent (klass);
#line 21 "../src/MainWindow.vala"
	g_type_class_adjust_private_offset (klass, &QuilterMainWindow_private_offset);
#line 21 "../src/MainWindow.vala"
	((GtkWidgetClass *) klass)->delete_event = (gboolean (*) (GtkWidget*, GdkEventAny*)) quilter_main_window_real_delete_event;
#line 21 "../src/MainWindow.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_quilter_main_window_get_property;
#line 21 "../src/MainWindow.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_quilter_main_window_set_property;
#line 21 "../src/MainWindow.vala"
	G_OBJECT_CLASS (klass)->constructor = quilter_main_window_constructor;
#line 21 "../src/MainWindow.vala"
	G_OBJECT_CLASS (klass)->finalize = quilter_main_window_finalize;
#line 21 "../src/MainWindow.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), QUILTER_MAIN_WINDOW_ACTIONS_PROPERTY, quilter_main_window_properties[QUILTER_MAIN_WINDOW_ACTIONS_PROPERTY] = g_param_spec_object ("actions", "actions", "actions", g_simple_action_group_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 21 "../src/MainWindow.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), QUILTER_MAIN_WINDOW_APP_PROPERTY, quilter_main_window_properties[QUILTER_MAIN_WINDOW_APP_PROPERTY] = g_param_spec_object ("app", "app", "app", QUILTER_TYPE_APPLICATION, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 21 "../src/MainWindow.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), QUILTER_MAIN_WINDOW_SPELLCHECK_PROPERTY, quilter_main_window_properties[QUILTER_MAIN_WINDOW_SPELLCHECK_PROPERTY] = g_param_spec_boolean ("spellcheck", "spellcheck", "spellcheck", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_WRITABLE));
#line 21 "../src/MainWindow.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), QUILTER_MAIN_WINDOW_IS_FULLSCREEN_PROPERTY, quilter_main_window_properties[QUILTER_MAIN_WINDOW_IS_FULLSCREEN_PROPERTY] = g_param_spec_boolean ("is-fullscreen", "is-fullscreen", "is-fullscreen", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 60 "../src/MainWindow.vala"
	_tmp0_ = gee_hash_multi_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 60 "../src/MainWindow.vala"
	quilter_main_window_action_accelerators = (GeeMultiMap*) _tmp0_;
#line 292 "../src/MainWindow.vala"
	_tmp1_ = quilter_main_window_action_accelerators;
#line 292 "../src/MainWindow.vala"
	gee_multi_map_set (_tmp1_, QUILTER_MAIN_WINDOW_ACTION_CHEATSHEET, "<Control>h");
#line 293 "../src/MainWindow.vala"
	_tmp2_ = quilter_main_window_action_accelerators;
#line 293 "../src/MainWindow.vala"
	gee_multi_map_set (_tmp2_, QUILTER_MAIN_WINDOW_ACTION_EXPORT_HTML, "<Control>g");
#line 294 "../src/MainWindow.vala"
	_tmp3_ = quilter_main_window_action_accelerators;
#line 294 "../src/MainWindow.vala"
	gee_multi_map_set (_tmp3_, QUILTER_MAIN_WINDOW_ACTION_EXPORT_PDF, "<Control>p");
#line 295 "../src/MainWindow.vala"
	_tmp4_ = quilter_main_window_action_accelerators;
#line 295 "../src/MainWindow.vala"
	gee_multi_map_set (_tmp4_, QUILTER_MAIN_WINDOW_ACTION_TOGGLE_VIEW, "<Control>1");
#line 296 "../src/MainWindow.vala"
	_tmp5_ = quilter_main_window_action_accelerators;
#line 296 "../src/MainWindow.vala"
	gee_multi_map_set (_tmp5_, QUILTER_MAIN_WINDOW_ACTION_FOCUS, "<Control>3");
#line 5413 "MainWindow.c"
}

static void
quilter_main_window_instance_init (QuilterMainWindow * self,
                                   gpointer klass)
{
#line 21 "../src/MainWindow.vala"
	self->priv = quilter_main_window_get_instance_private (self);
#line 73 "../src/MainWindow.vala"
	self->priv->spell = NULL;
#line 5424 "MainWindow.c"
}

static void
quilter_main_window_finalize (GObject * obj)
{
	QuilterMainWindow * self;
#line 21 "../src/MainWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, QUILTER_TYPE_MAIN_WINDOW, QuilterMainWindow);
#line 23 "../src/MainWindow.vala"
	_g_object_unref0 (self->eadj);
#line 24 "../src/MainWindow.vala"
	_g_object_unref0 (self->box);
#line 25 "../src/MainWindow.vala"
	_g_object_unref0 (self->main_leaf);
#line 26 "../src/MainWindow.vala"
	_g_object_unref0 (self->overlay_editor);
#line 27 "../src/MainWindow.vala"
	_g_object_unref0 (self->focus_overlay_button);
#line 28 "../src/MainWindow.vala"
	_g_object_unref0 (self->grid);
#line 29 "../src/MainWindow.vala"
	_g_object_unref0 (self->header);
#line 30 "../src/MainWindow.vala"
	_g_object_unref0 (self->window_header);
#line 31 "../src/MainWindow.vala"
	_g_object_unref0 (self->welcome_titlebar);
#line 32 "../src/MainWindow.vala"
	_g_object_unref0 (self->main_pane);
#line 33 "../src/MainWindow.vala"
	_g_object_unref0 (self->welcome_view);
#line 34 "../src/MainWindow.vala"
	_g_object_unref0 (self->set_font_menu);
#line 35 "../src/MainWindow.vala"
	_g_object_unref0 (self->paned);
#line 36 "../src/MainWindow.vala"
	_g_object_unref0 (self->titlebar_revealer);
#line 37 "../src/MainWindow.vala"
	_g_object_unref0 (self->overlay_button_revealer);
#line 38 "../src/MainWindow.vala"
	_g_object_unref0 (self->edit_view);
#line 39 "../src/MainWindow.vala"
	_g_object_unref0 (self->main_stack);
#line 40 "../src/MainWindow.vala"
	_g_object_unref0 (self->stack);
#line 41 "../src/MainWindow.vala"
	_g_object_unref0 (self->titlebar_stack);
#line 42 "../src/MainWindow.vala"
	_g_object_unref0 (self->win_stack);
#line 43 "../src/MainWindow.vala"
	_g_object_unref0 (self->separator);
#line 44 "../src/MainWindow.vala"
	_g_object_unref0 (self->separator2);
#line 45 "../src/MainWindow.vala"
	_g_object_unref0 (self->priv->_actions);
#line 46 "../src/MainWindow.vala"
	_g_object_unref0 (self->edit_view_content);
#line 47 "../src/MainWindow.vala"
	_g_object_unref0 (self->titlebar);
#line 48 "../src/MainWindow.vala"
	_g_object_unref0 (self->preview_view_content);
#line 49 "../src/MainWindow.vala"
	_g_object_unref0 (self->searchbar);
#line 50 "../src/MainWindow.vala"
	_g_object_unref0 (self->sidebar);
#line 51 "../src/MainWindow.vala"
	_g_object_unref0 (self->statusbar);
#line 73 "../src/MainWindow.vala"
	_g_object_unref0 (self->priv->spell);
#line 21 "../src/MainWindow.vala"
	G_OBJECT_CLASS (quilter_main_window_parent_class)->finalize (obj);
#line 5495 "MainWindow.c"
}

static GType
quilter_main_window_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (QuilterMainWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) quilter_main_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (QuilterMainWindow), 0, (GInstanceInitFunc) quilter_main_window_instance_init, NULL };
	GType quilter_main_window_type_id;
	quilter_main_window_type_id = g_type_register_static (hdy_application_window_get_type (), "QuilterMainWindow", &g_define_type_info, 0);
	QuilterMainWindow_private_offset = g_type_add_instance_private (quilter_main_window_type_id, sizeof (QuilterMainWindowPrivate));
	return quilter_main_window_type_id;
}

GType
quilter_main_window_get_type (void)
{
	static volatile gsize quilter_main_window_type_id__volatile = 0;
	if (g_once_init_enter (&quilter_main_window_type_id__volatile)) {
		GType quilter_main_window_type_id;
		quilter_main_window_type_id = quilter_main_window_get_type_once ();
		g_once_init_leave (&quilter_main_window_type_id__volatile, quilter_main_window_type_id);
	}
	return quilter_main_window_type_id__volatile;
}

static void
_vala_quilter_main_window_get_property (GObject * object,
                                        guint property_id,
                                        GValue * value,
                                        GParamSpec * pspec)
{
	QuilterMainWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, QUILTER_TYPE_MAIN_WINDOW, QuilterMainWindow);
#line 21 "../src/MainWindow.vala"
	switch (property_id) {
#line 21 "../src/MainWindow.vala"
		case QUILTER_MAIN_WINDOW_ACTIONS_PROPERTY:
#line 21 "../src/MainWindow.vala"
		g_value_set_object (value, quilter_main_window_get_actions (self));
#line 21 "../src/MainWindow.vala"
		break;
#line 21 "../src/MainWindow.vala"
		case QUILTER_MAIN_WINDOW_APP_PROPERTY:
#line 21 "../src/MainWindow.vala"
		g_value_set_object (value, quilter_main_window_get_app (self));
#line 21 "../src/MainWindow.vala"
		break;
#line 21 "../src/MainWindow.vala"
		case QUILTER_MAIN_WINDOW_IS_FULLSCREEN_PROPERTY:
#line 21 "../src/MainWindow.vala"
		g_value_set_boolean (value, quilter_main_window_get_is_fullscreen (self));
#line 21 "../src/MainWindow.vala"
		break;
#line 5548 "MainWindow.c"
		default:
#line 21 "../src/MainWindow.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 21 "../src/MainWindow.vala"
		break;
#line 5554 "MainWindow.c"
	}
}

static void
_vala_quilter_main_window_set_property (GObject * object,
                                        guint property_id,
                                        const GValue * value,
                                        GParamSpec * pspec)
{
	QuilterMainWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, QUILTER_TYPE_MAIN_WINDOW, QuilterMainWindow);
#line 21 "../src/MainWindow.vala"
	switch (property_id) {
#line 21 "../src/MainWindow.vala"
		case QUILTER_MAIN_WINDOW_ACTIONS_PROPERTY:
#line 21 "../src/MainWindow.vala"
		quilter_main_window_set_actions (self, g_value_get_object (value));
#line 21 "../src/MainWindow.vala"
		break;
#line 21 "../src/MainWindow.vala"
		case QUILTER_MAIN_WINDOW_APP_PROPERTY:
#line 21 "../src/MainWindow.vala"
		quilter_main_window_set_app (self, g_value_get_object (value));
#line 21 "../src/MainWindow.vala"
		break;
#line 21 "../src/MainWindow.vala"
		case QUILTER_MAIN_WINDOW_SPELLCHECK_PROPERTY:
#line 21 "../src/MainWindow.vala"
		quilter_main_window_set_spellcheck (self, g_value_get_boolean (value));
#line 21 "../src/MainWindow.vala"
		break;
#line 21 "../src/MainWindow.vala"
		case QUILTER_MAIN_WINDOW_IS_FULLSCREEN_PROPERTY:
#line 21 "../src/MainWindow.vala"
		quilter_main_window_set_is_fullscreen (self, g_value_get_boolean (value));
#line 21 "../src/MainWindow.vala"
		break;
#line 5592 "MainWindow.c"
		default:
#line 21 "../src/MainWindow.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 21 "../src/MainWindow.vala"
		break;
#line 5598 "MainWindow.c"
	}
}

static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gint i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

